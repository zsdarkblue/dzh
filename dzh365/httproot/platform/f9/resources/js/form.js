define(["./_base","jquery"],function(c,b){var a=c.extend(function(d){b.extend(this,d);this.target[0].widget=this;this.target.on("change",this.onChange.bind(this));this.init(d)},{init:function(d){},onChange:function(){},serialize:function(){var d=b.extend({obj:(location.search.match(/obj=([^&]*)/)||[,"SH600000.stk"])[1]},arguments[0]);this.target.serializeArray().forEach(function(e){d[e.name]=(e.name in d)?d[e.name]+","+e.value:e.value});return d},urlParam:function(j){var h=[],k=window.location.search.substring(1);if(typeof(j)!="object"){return k}var f,g=k.split("&");for(var e=0;e<g.length;e++){var d=g[e].split("=");f=decodeURIComponent(d[0]);if(!f){}else{if(!j.hasOwnProperty(f)){h.push(g[e])}else{if(j[f]!==null){h.push(f+"="+j[f])}delete j[f]}}}for(f in j){h.push(f+"="+j[f])}return h.join("&")}});a.init=function(){var d=b(".s_title>form");d.length&&new a({target:d,onChange:function(f){if(f.target.name){setTimeout(function(){this.showLoadingMsg();b(".s_title,.flex-auto").css("visibility","hidden")}.bind(this),100);location.assign(location.pathname+"?"+this.urlParam(this.serialize()))}}});return this};return a.init()});