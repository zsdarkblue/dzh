/*
	Copyright (c) 2012-2013,   To get sources and documentation, please visit:

		http://dms.gw.com.cn
*/

//>>built
require({cache:{"platform/charts/view/utils":function(){define(["dojo/aspect","dojox/customfig/utils","dojox/customfig/mains/Kline","dojox/canvasDashedLine"],function(w,l,y,m){var f={lines:[],init:function(){this.render();requestAnimationFrame(arguments.callee.bind(this));return this},render:function(){if(this.lines.length)this.data=this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height),this.lines.forEach(function(e){this.drawBL.apply(this,e)},this),this.ctx.putImageData(this.data,0,0),this.data=
void 0,this.lines.length=0},colorToRGB:function(e){return(e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec({aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"}[e]||e))?[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]:[0,0,0]},setPixel:function(e,a,d){e=4*(a*this.canvas.width+e);a=this.data.data;
a[e]=d[0];a[e+1]=d[1];a[e+2]=d[2]},drawBL:function(e,a,d,b,k){if(e!==d||a!==b)for(var g=Math.abs(d-e),c=Math.abs(b-a),i=e<d?1:-1,h=a<b?1:-1,f=g-c;!(e==d&&a==b);){this.setPixel(e,a,k);var p=2*f;p>-c&&(f-=c,e+=i);p<g&&(f+=g,a+=h)}},drawLine:function(e,a,d,b,k,g){if(!this.canvas)this.canvas=document.querySelector("canvas"),this.ctx=e,w.around(e,"measureText",function(a){return function(d){var b=a.call(this,d);if(d&&d.length)switch(!0){case /^\d\d:\d\d$/.test(d):return{width:b.width+20};case /^\d{4}\/\d\d\/\d\d$/.test(d):return{width:b.width+
10}}return b}});g&&!isNaN(a)&&!isNaN(d)&&!isNaN(b)&&!isNaN(k)&&0<=a&&0<=b&&this.lines.push([Math.round(a),Math.round(d),Math.round(b),Math.round(k),this.colorToRGB(g)])},drawDashes:function(e,a,d,b,k,g){a=Math.round(a)+(Math.round(a)<a?0.5:-0.5);d=Math.round(d)+(Math.round(d)<d?0.5:-0.5);b=Math.round(b)+(Math.round(b)<b?0.5:-0.5);k=Math.round(k)+(Math.round(k)<k?0.5:-0.5);"#600000"===g&&(a===b?d<k?(d+=1.5,k++):(d++,k+=1.5):d===k&&(a<b?(a++,b--):(a--,b++)));m.drawDashedPolyLine(e,[[a,d],[b,k]],{pattern:"-**-",
color:g,scale:2})},drawRect:function(e,a,d,b,k,g){b=Math.round(a+b);k=Math.round(d+k);a=Math.round(a);d=Math.round(d);b-=a;k-=d;50>b&&!(b%2)&&b++;g?(g=e.fillStyle,e.fillStyle=e.strokeStyle,e.fillRect(a,d,b,1),e.fillRect(a+b-1,d,1,k),e.fillRect(a,d+k,b,1),e.fillRect(a,d,1,k),e.fillStyle=g):e.fillRect(a,d,b,k)},drawText:function(e,a,d,b,k){"top"===k.textBaseline&&(arguments[3]=b+5);return arguments}}.init();l.drawline=f.drawLine.bind(f);l.drawDashes=f.drawDashes.bind(f);l.drawRect=f.drawRect.bind(f);
l.from5StrToHM=function(e,a){a=(new Date(+new Date((new Date(new Date-6E4*(new Date).getTimezoneOffset())).toJSON().slice(0,10))+1E3*a)).toJSON().slice(11,16);return"%h%m"===e?a.replace(":",""):a};w.before(l,"clearCanvas",f.render.bind(f));w.before(l,"drawText",f.drawText.bind(f));y.prototype.drawCandle=function(e,a,d,b,k,g){var c=this.ctx,i=this.options,h=this.ymin,f=this.yStart+this.height-i.bottomSpacing,p=i.prepareDistance,o=this.yAxisScale,u=this.cwidth,n=this.csize,q=this.xStart,j=i.candleStyle,
i=f-(e-h)*o,a=f-(a-h)*o,d=f-(d-h)*o,h=f-(b-h)*o;b>e?(e=i-h,h===i&&(e=1),k=j[k].upStyle.candle.color,c.strokeStyle=k,1<n?(g=p+g*u+q,n=Math.floor(n)+Math.floor(n)%2,p=Math.round(g)+Math.floor(n/2),l.drawRect(c,g,h,n,e,!0),l.drawline(c,p,a,p,h,k,1),l.drawline(c,p,i,p,d,k,1)):(g=p+g*u+q+n/2,l.drawline(c,g,a,g,d,k,1))):(e=h-i,h===i&&(e=1),k=j[k].downStyle.candle.color,c.fillStyle=k,1<n?(g=p+g*u+q,n=Math.floor(n)+(Math.floor(n)%2?0:1),p=Math.round(g)+Math.floor(n/2),l.drawRect(c,g,i,n,e,!1),l.drawline(c,
p,a,p,h,k,1),l.drawline(c,p,i,p,d,k,1)):(g=p+g*u+q+n/2,l.drawline(c,g,a,g,d,k,1)))};return l})},"bond/bondMarket/public/util":function(){define(["dojo/date/locale","dojo/dom","dojo/dom-geometry","dojox/store/GridWSStore"],function(w,l,y,m){var f={getSelectDay:function(a,d){var b=new Date;b.setDate(b.getDate()+(a||0));var e=b.getFullYear(),g=b.getMonth()+1,b=b.getDate();10>g&&(g="0"+g);10>b&&(b="0"+b);var c=e+"-"+g+"-"+b;2==arguments.length&&(c=2==d?""+e+g+b+"000000":c);return c},getKineStarTime:function(a){var d,
b,e=Array.prototype.slice,g=Array.prototype.splice,c=e.call(a);d=Number(a.slice(4,6));a=Number(a.slice(0,4));b=Math.floor(0.5);d-=6;1>d&&(d=12+d,b++);a-=b;10>d&&(d="0"+d);a&&(strs=e.call(""+a),g.call(c,0,4),c=strs.concat(c));d&&c.splice(4,2,""+d);return c.join("")},getUserId:function(){var a="";if(userId&&""!=userId.userid)a=userId.userid;else if(window.external&&window.external.getDZHProperty)a=window.external.getDZHProperty("userid"),userId.userid=a;return a},getCBDPermission:function(){var a=this.getUserId();
""==permission.permission&&(new m).query({service:"rpc",so:"jso-all-bondpermissions.jar","function":"gw.sh.func.BondPermissionsRequest",paraencode:"base64",parameter:btoa('{"username":"'+a+'","moduleid":"612","dataid":"2"}'),response_times:1,cache_timeout:0,response_mode:0,request_timeout:-1}).then(function(a){permission.permission=a&&a[0]&&a[0].ISPERMISSION?a[0].ISPERMISSION:"noPemissions"})},getOneMonthAgoDate:function(a){var d=new Date,b=d.getFullYear(),e=d.getMonth()+1,d=d.getDate(),g=1<e?e-1:
12,c=12==g?b-1:b,i=0,i=4===g||6===g||9===g||11===g?31>d?d:30:3===e?29>d?d:28:d;9>=e&&(e="0"+e);10>d&&(d="0"+d);9>=g&&(g="0"+g);10>i&&(i="0"+i);var h="";"1"==a?h=b+"-"+e+"-"+d:"0"==a?h=c+"-"+g+"-"+i:"2"==a?h=""+b+e+d:"3"==a&&(h=""+c+g+i);return h},formatFullDate:function(a){return this._checkDate(a)?(a=this._getDateArray(a),a[1]+"\u5e74"+a[2]+"\u6708"+a[3]+"\u65e5 "+a[4]+":"+a[5]):""},formatDate:function(a){return this._checkDate(a)?(a=this._getDateArray(a),a[2]+"/"+a[3]):""},formatTime:function(a){return this._checkDate(a)?
(a=this._getDateArray(a),a[4]+":"+a[5]+":"+a[6]):""},_getDateArray:function(a){return/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/.exec(a)},_checkDate:function(a){return"string"==typeof a?!0:!1},adjustMaskDivPoi:function(a){a=y.position(dojo.byId(a));dojo.byId("maskDiv").style.left=a.x+"px";dojo.byId("maskDiv").style.top=a.y+"px";dojo.byId("maskDiv").style.width=a.w+"px";dojo.byId("maskDiv").style.height=a.h+"px"},showNoPerm:function(){document.getElementById("maskDiv").style.display="none";if(dijit.byId("bottomTab")&&
"valuation"==dijit.byId("bottomTab").selectedchild)if(dijit.byId("analysis_grid02")&&""!=permission.permission)"1"==permission.permission?document.getElementById("maskDiv").style.display="none":document.getElementById("maskDiv").style.display="block";else if(dijit.byId("analysis_grid02")&&""==permission.permission)document.getElementById("maskDiv").style.display="block"},getOneMonthDate:function(){var a=new Date,d=a.getFullYear(),b=a.getMonth(),a=a.getDate();(new Date(d,b,a,9,30)).getTime()},getBeforeDate:function(a){return this.DateToFullDateTimeString(new Date((new Date).getTime()-
864E5*a))},DateToFullDateTimeString:function(a){var d=a.getFullYear(),b=a.getMonth()+1,e=a.getDate();a.getHours();a.getMinutes();a.getSeconds();10>b&&(b="0"+b);10>e&&(e="0"+e);return d+"-"+b+"-"+e},reSetNewDate:function(a){return a.substring(0,4)+"-"+a.substring(4,6)+"-"+a.substring(6,8)}};f.handleRawData=function(a,d){return a in{clearPrice:"",dirtyPrice:"",accruedInterest:"",terToMaturity:"",yield:"",durationMod:"",convexity:"",dutation:"",convexityDis:"",convexityInt:"",dataSourcesType:"",updnclean:"",
priceD:"",yieldD:"",derived:""}?e(d,4)+"":a in{vol:""}?e(d,0)+"":a in{count:""}?e(d,6)+"":d};f.handPayDateFromJso=function(a,d){if(a&&""!=a)var b=a.toString(),e=b.substring(0,4),g=b.substring(4,6),b=b.substring(6,8),b=e+d+g+d+b;return b};f.trialValue="";f.trialType="";f.trialValueA="";f.trialTypeA="";f.handTradeAndPayDate=function(a){if(a&&""!=a)for(var d=a.toString().split("-"),a=1;a<d.length;a++)2>d[a].toString().length&&(d[a]="0"+d[a]);return d[0]+d[1]+d[2]};f.counterChange=function(a){var d="",
b="",k="",g,c;"1"==a?(d=f.arrayObj,b=f.trialValue,k=f.trialType,a=l.byId("tradeDate").value,c=dijit.byId("playStyle"),g=l.byId("playDay").innerText):(d=f.arrayObj_A,b=f.trialValueA,k=f.trialTypeA,a=l.byId("tradeDate_A").value,c=dijit.byId("playStyle_A"),g=l.byId("playDay_A").innerText);a=f.handTradeAndPayDate(a);g=f.handTradeAndPayDate(g);var i="",i="T+1"==c.get("value")?"1":"0";c=new m;b={service:"rpc",so:"javadataproxy.jar","function":"gw/UIMain",paraencode:"base64",parameter:"Z2V0,"+btoa("/bond/market/getBondDerivedData?tradeDate="+
a+"&playDay="+g+"&trialType="+k+"&trialValue="+b+"&obj="+bondCode.bondCode+"&playStyle="+i),response_times:1,response_mode:0};c.query(b).then(function(a){if(a=a[0])for(var c="",b=0;b<d.length;b++)if(l.byId(d[b])){c=d[b].replace("_A","");"co"!=c&&a[c]&&""!=a[c]&&(a[c]=0==parseFloat(a[c].toString())?parseFloat(a[c].toString()):isNaN(a[c])?"":parseFloat(a[c].toString()));for(var g=f.yieldArrayObj,i=0;i<g.length;i++)g[i]==d[b]&&a[c]&&""!=a[c]&&(a[c]=e(100*a[c],4));"LABEL"==l.byId(d[b]).tagName?l.byId(d[b]).innerText=
e(a[c],4)+"":l.byId(d[b]).value=e(a[c],4)}})};f.dealIntNumber=function(a){if(""==a)return"--";var d=a.split("."),b=d[0];return 0==parseFloat(d[1])?b:a};f.getDifDays=function(a){if(""==a)return"--";var a=Date.parse(this.handPayDateFromJso(a,"/")),a=(new Date(a)).getTime(),d=new Date,b=d.getFullYear(),e=d.getMonth()+1,d=d.getDate();10>e&&(e="0"+e);10>d&&(d="0"+d);b=(new Date(b+"/"+e+"/"+d)).getTime();a=Math.floor((a-b)/864E5);0>a&&(a="");return a};f.yieldArrayObj="bondYieldY4,bondYieldY8XQ,bondYieldY1,bondYieldY5XQ,bondYieldY3,bondYieldY4_A,bondYieldY8XQ_A,bondYieldY1_A,bondYieldY5XQ_A,bondYieldY3_A".split(",");
f.arrayObj="co,fv,pv,bondYieldY4,bondYieldY1,bondYieldY3,bondAI,interestMarginBP,bondYieldY8XQ,bondYieldY5XQ,macaulayDuration1XQ,macaulayDuration2XQ,convexityXQ,pointValueXQ,macaulayDuration1,macaulayDuration2,convexity,pointValue,interestMarginBPY8,interestRateConvexity2,interestRateDuration2,interestRateConvexity1,interestRateDuration1,interestRateDuration1XQ,interestRateConvexity1XQ,interestRateDuration2XQ,interestRateConvexity2XQ".split(",");f.arrayObj_A="co_A,fv_A,pv_A,bondYieldY4_A,bondYieldY1_A,bondYieldY3_A,bondAI_A,interestMarginBP_A,bondYieldY8XQ_A,bondYieldY5XQ_A,macaulayDuration1XQ_A,macaulayDuration2XQ_A,convexityXQ_A,pointValueXQ_A,macaulayDuration1_A,macaulayDuration2_A,convexity_A,pointValue_A,interestMarginBPY8_A,interestRateConvexity2_A,interestRateDuration2_A,interestRateConvexity1_A,interestRateDuration1_A,interestRateDuration1XQ_A,interestRateConvexity1XQ_A,interestRateDuration2XQ_A,interestRateConvexity2XQ_A".split(",");
f.getMarketName=function(a){if(""==a)return"--";var d=parseFloat(a);0==d?a="\u5e02\u573a\u6807\u8bc6":1==d?a="\u94f6\u884c\u95f4":2==d?a="\u67dc\u53f0":3==d?a="\u94f6\u884c\u95f4\u3001\u67dc\u53f0":4==d?a="\u4e0a\u6d77":5==d?a="EP":6==d?a="\u4e0a\u6d77\u3001EP":7==d?a="\u6df1\u5733":8==d?a="CP":9==d?a="\u6df1\u5733\u3001CP":10==d&&(a="\u65e0\u5e02\u573a");return a};var e=function(a,d){for(var b=d,e=1;0<d;e*=10,d--);e=Math.round(a*e)/e+"";if(0<e.indexOf(".")){var g=e.substring(e.indexOf(".")+1).length;
if(g<b)for(var c=0;c<b-g;c++)e+="0"}else if(0!=b){e+=".";for(c=0;c<b;c++)e+="0"}return e};return f})},"dojox/customfig/themes/blackTheme":function(){define("dojox/customfig/themes/blackTheme",["dojo/_base/declare"],function(w){return w("dojox.customfig.themes.blackTheme",null,{com_de_opt:{label:"#FFFFFF",font:"12px Arial normal",stroke:"#C00000",background:"#000000",backgroundGrid:{type:"solid",color:"#C00000",height:25,lineHeight:1},xAxisLabel:{color:"#FFFFFF",background:"#FFFFFF"},yAxisLabel:{color:"#FFFFFF",
background:"#FFFFFF"},xLabelsInterval:30,fixedNum:0,prepareDistance:0},sharingPlans:{timetrendFilledColors:["#131313","#0073ff"],timetrendFillAlpha:0.7,timetrend:["#F59F56","red","yellow"],baseValueStyle:{color:"#FFFF52",background:"#FFFFFF"},yUpLabel:{color:"#FF0000",background:"#FFFFFF"},yDownLabel:{color:"#1FA42C",background:"#FFFFFF"}},kline:{candleStyle:[{upStyle:{candle:{type:"stroke",color:"#CC4642"}},downStyle:{candle:{type:"fill",color:"#00ff00"}}},{upStyle:{candle:{type:"stroke",color:"#5F9EA0"}},
downStyle:{candle:{type:"fill",color:"#5F9EA0"}}},{upStyle:{candle:{type:"stroke",color:"#C67413"}},downStyle:{candle:{type:"fill",color:"#C67413"}}},{upStyle:{candle:{type:"stroke",color:"#C67488"}},downStyle:{candle:{type:"fill",color:"#C67488"}}},{upStyle:{candle:{type:"stroke",color:"#C93413"}},downStyle:{candle:{type:"fill",color:"#C93413"}}}],maximumArrow:{color:"#c8c8c8"},minimumArrow:{color:"#c8c8c8"},yAxisUpLabel:{color:"#6f6060"},yAxisLowLabel:{color:"#30f060"}},ma:{ma:["green","red","blue"]},
edx:{edx:{color:"#ff9516",yTxtColor:"#ff9516",txtColor:"#ffffff",txtBgColor:"#ff9516"}},kdj:{kdj:["green","red","blue"]},vol:{volumnStyle:{upColor:"#ff0000",downColor:"#00ff00",color:"yellow"}},macd:{macdStyle:{diff:{color:"#9B9B9B"},dea:{color:"#BC6111"},macd:{upcolor:"#ff0000",downcolor:"#00ff00"}}},crosshair:{tooltip:{content:{background:"#000000",width:"auto",height:"auto",border:"#FFFFFF solid 1px","text-align":"center",position:"absolute",opacity:0.7,"z-index":2,"line-height":1.6,padding:"4px",
"font-size":"12px",color:"#FFFFFF"},time:{"font-weight":"normal",color:"#ffc13b"}},vLine:{width:"1px",background:"#6B6B6B",position:"absolute","z-index":2},hLine:{height:"1px",background:"#6B6B6B",position:"absolute","z-index":2},vLabel:{border:"1px solid #C00000",color:"#C0C0C0","text-align":"center","z-index":2,position:"absolute",background:"#000080","margin-left":"3px"},hLabel:{border:"1px solid #C00000",color:"#C0C0C0","text-align":"center","z-index":2,position:"absolute",width:"auto",background:"#000080"}}})})},
"bond/bondMarket/public/marketLabel":function(){define("dojo/_base/declare,dojo/json,dojo/parser,dijit/form/DateTextBox,dijit/form/ComboBox,bond/bondMarket/public/bondMarketFormatter,bond/bondMarket/public/util,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dijit/layout/_ContentPaneResizeMixin,dojo/text!./../template/realTimeMarket.html,dojo/text!./../template/derivedIndicators1.html,dojo/text!./../template/derivedIndicators2.html,dojo/text!./../template/derivedIndicators3.html,dojo/text!./../template/derivedIndicators4.html,dojo/text!./../template/bondTiTLe.html,dojo/text!./../template/optimalPrice.html,dojo/text!./../template/basicInfo.html,dojo/text!./../template/valuationMetrics.html,dojo/text!./../template/fixedNotRight.html,dojo/text!./../template/fixedNotRight_A.html,dojo/text!./../template/floatNotRight.html,dojo/text!./../template/floatNotRight_A.html,dojo/text!./../template/fixedRight.html,dojo/text!./../template/fixedRight_A.html,dojo/text!./../template/floatRight.html,dojo/text!./../template/floatRight_A.html,dojo/text!./../template/reCreateGrid05.html,dojox/store/WebSocket,dojox/store/GridWSStore,dojo/_base/array,dojo/aspect,dojo/_base/lang,dojo/string,dojo/dom,dojo/store/Memory,dojox/slickgrid/slickgrid,dijit/form/Select".split(","),
function(w,l,y,m,f,e,a,d,b,k,g,c,i,h,C,p,o,u,n,q,j,A,x,z,D,r,I,J,H,K,B,L,v,E,s,t,F,N){var M=new e,G=[];return w([],{jsoURL:"",columns:"",options:"",field:"",reCreate:!1,constructor:function(a){E.mixin(this,a);this.reCreate?this.reCreateRelatedToBond():(this.basicInformation(),this.bondTradingMarket(),this.getOptimalPrice())},bondTradingMarket:function(){var a=this,c=B({});c.on("afterconvert",function(c){c=c.data;c=M.realTimeMarket(c);a.setRealTimeMarket(c)});whetherShowData?c.query({service:"did",
did:"100007",where:"obj="+bondCode.bondCode,response_times:-1}).then(function(c){(0>c.res_type||0==c.length)&&a.setRealTimeMarket()}):a.setRealTimeMarket()},basicInformation:function(){var a=this,c=B({});c.on("afterconvert",function(c){var j=c.data;if(j&&j.shortName)bondShortName.bondName=j.shortName;j=M.realTimeMarket(j);a.setTitleColor(j);a.setBasicInformation(j);a.setValuationMetrics(j);var b;b=setInterval(function(){var c;if((c="analysis"==a.tabType?t.byId("analysis_counter"):t.byId("counter"))&&
null!=c)a.reSetBondCounter(j),clearInterval(b)},500);j&&a.derivedIndicators(j.marketType)});c.query({service:"rpc",so:"javadataproxy.jar","function":"gw/UIMain",paraencode:"base64",parameter:"Z2V0,"+btoa("/bond/market/getBondValuation?obj="+bondCode.bondCode),response_times:1,response_mode:0}).then(function(c){if(0>c.res_type||0==c.length){a.setTitleColor();a.setBasicInformation();a.setValuationMetrics();var j;j=setInterval(function(){var c;if((c="analysis"==a.tabType?t.byId("analysis_counter"):t.byId("counter"))&&
null!=c)a.reSetBondCounter(),clearInterval(j)},500);a.derivedIndicators()}})},derivedIndicators:function(c){var j=this,b=B({});whetherShowData?(b.on("afterconvert",function(b){var b=b.data,d={obj:"obj",time:"time",vol:"vol"},e={ytmcentralbankrules:"ytmcentralbankrules",yieldtoexutioncentral:"yieldtoexutioncentral",ConversionPremiumRatio:"ConversionPremiumRatio",ValueOfNetDebtRatio:"ValueOfNetDebtRatio"},q;for(q in b[0])q in d||(b[0][q]=q in e?a.handleRawData("derived",100*b[0][q]):a.handleRawData("derived",
b[0][q]));j.setDerivedIndicators(b[0],c)}),b.query({service:"did",did:"100033",where:"obj="+bondCode.bondCode,response_times:-1}).then(function(a){(0>a.res_type||0==a.length)&&j.setDerivedIndicators("",c)})):j.setDerivedIndicators("",c)},getOptimalPrice:function(){var a=this,c=B({});c.on("afterconvert",function(c){a.setOptimalPrice(c.data[0])});whetherShowData?c.query({service:"did",did:"100011",where:"obj="+bondCode.bondCode,response_times:-1}).then(function(c){(0>c.res_type||0==c.length)&&a.setOptimalPrice()}):
a.setOptimalPrice()},setValuationMetrics:function(c){var j=this,b="-",d="-",e="-",q="-",A="-",x="-",i="-",g="-",h="-";if(c){for(var c=c.valuations.split(";"),z=0;z<c.length;z++){var f=c[z].split(",");f&&"0"===f[3]?(q="null"==f[1]?"-":f[1],A="null"==f[2]?"-":f[2],x="null"==f[0]?"-":f[0]):f&&"1"===f[3]?(b="null"==f[1]?"-":f[1],d="null"==f[2]?"-":f[2],e="null"==f[0]?"-":f[0]):f&&"2"===f[3]&&(i="null"==f[1]?"-":f[1],g="null"==f[2]?"-":f[2],h="null"==f[0]?"-":f[0])}permission&&""==permission.permission?
(c=a.getUserId(),(new B).query({service:"rpc",so:"jso-all-bondpermissions.jar","function":"gw.sh.func.BondPermissionsRequest",paraencode:"base64",parameter:btoa('{"username":"'+c+'","moduleid":"612","dataid":"2"}'),response_times:1,cache_timeout:0,response_mode:0,request_timeout:-1}).then(function(a){a&&a[0]&&a[0].ISPERMISSION?("1"!=a[0].ISPERMISSION&&(e=d=b='<img src="resources/images/DTSLockButton-3.png"/>'),permission.permission=a[0].ISPERMISSION):(permission.permission="noPemissions",e=d=b='<img src="resources/images/DTSLockButton-3.png"/>');
a={CBDPrice:b,CBDYield:d,CBDTime:e,CSIPrice:q,CSIYield:A,CSITime:x,SHCHPrice:i,SHCHYield:g,SHCHTime:h};j.replaceValuation(a)})):("1"!=permission.permission&&(e=d=b='<img src="resources/images/DTSLockButton-3.png"/>'),c={CBDPrice:b,CBDYield:d,CBDTime:e,CSIPrice:q,CSIYield:A,CSITime:x,SHCHPrice:i,SHCHYield:g,SHCHTime:h},j.replaceValuation(c))}else c={CBDPrice:b,CBDYield:d,CBDTime:e,CSIPrice:q,CSIYield:A,CSITime:x,SHCHPrice:i,SHCHYield:g,SHCHTime:h},j.replaceValuation(c)},replaceValuation:function(a){"analysis"==
this.tabType?t.byId("gz_analysis").innerHTML=s.substitute(q,a):t.byId("gz_table").innerHTML=s.substitute(q,a)},setBasicInformation:function(c){var j="-",b="-",d="-",e="-",q="-",A="-",x="-",i="-",g="-",f="-",h="-",z="-",k="-",p="-",E="-",r="-",o="-",u="-",v="-",m="-";if(c)j=0==c.itName?"--":c.itName,b=""==c.code?bondCode.bondCode.split(".")[0].slice(2):c.code,b=c.shortName+"("+b+")",d=a.getMarketName(c.marketCode),e=""==c.otherMarket?"--":c.otherMarket,q=0==c.isize?"- -":a.dealIntNumber(c.isize),A=
0==c.iPrice?"--":a.dealIntNumber(c.iPrice),x=0==c.bcr?"--":c.bcr,i=0==c.nmr?"--":c.nmr,g=0==c.byTerm?"--":a.dealIntNumber(c.byTerm),c.yearsLeftByDay=a.getDifDays(c.rDate),f=c.yearsLeftByDay,h=0==parseFloat(c.imethod)?"--":parseFloat(c.imethod),1==h?h="\u8d34\u73b0":2==h?h="\u56fa\u5b9a\u5229\u7387":2==h?h="\u6d6e\u52a8\u5229\u7387":4==h&&(h="\u9012\u8fdb\u5229\u7387"),z=0==c.ncRate?"--":a.dealIntNumber(c.ncRate),k=0==c.pDay?"--":c.pDay,c.siDate=a.handPayDateFromJso(c.siDate,"-"),p=""==c.siDate?"--":
c.siDate,c.rDate=a.handPayDateFromJso(c.rDate,"-"),E=""==c.rDate?"--":c.rDate,r=0==parseFloat(c.pMethod)?"--":parseFloat(c.pMethod),1==r?r="\u8d34\u73b0":2==r?r="\u5230\u671f\u4e00\u6b21\u6027\u8fd8\u672c\u4ed8\u606f":3==r?r="\u6bcf\u5e741\u6b21":4==r?r="\u6bcf\u5e742\u6b21":5==r?r="\u6bcf\u5e744\u6b21":6==r&&(r="\u6bcf\u5e746\u6b21"),o=0==c.esName?"\u5426":c.esName,v=u=u=u=u="",u=c.eOption,1==u.slice(0,1)&&(v+="\u53ef\u8d4e\u56de"),1==u.slice(1,2)&&(""!=v&&(v+=","),v+="\u53ef\u56de\u552e"),1==u.slice(2,
3)&&(""!=v&&(v+=","),v+="\u53ef\u8c03\u6362"),1==u.slice(3)&&(""!=v&&(v+=","),v+="\u53ef\u5206\u79bb"),u=""==v?"--":v,v=0==c.lUnderw?"--":c.lUnderw,m=0==c.vlUnderw?"--":c.vlUnderw;var l={issuer:j,bondNameAndCode:b,market:d,otherMarket:e,bondCreditRating:x,bodyCreditRating:i,issuance:q,issuePrice:A,bondYear:g,daysRemaining:f,planWay:h,couponRate:z,everyYear:k,servicingWay:r,payoutDate:p,paymentDate:E,guarantee:o,embeddedOptions:u,leadUnderwriter:v,deputyLeadUnderwriters:m},H=this,D,F;F=setInterval(function(){if((D=
"analysis"==H.tabType?t.byId("analysis_data"):t.byId("the_data"))&&null!=D)t.byId("analysis_data").innerHTML=s.substitute(n,l),clearInterval(F)},500)},setRealTimeMarket:function(j){var b="-",d="-",e="-",q="-",A="-",x="-",i="-",g="-",h="-",f="-",z="";j&&(b="0"==j.newclean?"-":j.newclean,d="0"==j.openclean?"-":j.openclean,e="0"==j.highclean?"-":j.highclean,q="0"==j.lowclean?"-":j.lowclean,A="0"==j.vol?"-":a.handleRawData("vol",j.vol/1E6),x="0"==j.lastcloseclean?"-":j.lastcloseclean,i="0"==j.newclean?
"-":j.updn,g="0"==j.newclean?"-":j.changeclean+"%",h="0"==j.newclean?"-":j.newyield,z="0"==j.lastcloseyield?"-":j.lastcloseyield,f="0"==j.avgclean?"-":j.avgclean,"-"!=b&&parseFloat(b)>parseFloat(x)?(b='<span style="color:#ff5252;">'+b+"</span>",i='<span style="color:#ff5252;">\u25b2'+i+"</span>",g='<span style="color:#ff5252;">'+g+"</span>"):"-"!=b&&parseFloat(b)<parseFloat(x)&&(b='<span style="color:#52ff52;">'+b+"</span>",i='<span style="color:#52ff52;">\u25bc'+i+"</span>",g='<span style="color:#52ff52;">'+
g+"</span>"),"-"!=h&&parseFloat(h)>parseFloat(z)?h='<span style="color:#ff5252;">'+h+"</span>":"-"!=h&&parseFloat(h)<parseFloat(z)&&(h='<span style="color:#52ff52;">'+h+"</span>"),"-"!=d&&parseFloat(d)>parseFloat(x)?d='<span style="color:#ff5252;">'+d+"</span>":"-"!=d&&parseFloat(d)<parseFloat(x)&&(d='<span style="color:#52ff52;">'+d+"</span>"),"-"!=e&&parseFloat(e)>parseFloat(x)?e='<span style="color:#ff5252;">'+e+"</span>":"-"!=e&&parseFloat(e)<parseFloat(x)&&(e='<span style="color:#52ff52;">'+
e+"</span>"),"-"!=q&&parseFloat(q)>parseFloat(x)?q='<span style="color:#ff5252;">'+q+"</span>":"-"!=q&&parseFloat(q)<parseFloat(x)&&(q='<span style="color:#52ff52;">'+q+"</span>"),"-"!=f&&parseFloat(f)>parseFloat(x)?f='<span style="color:#ff5252;">'+f+"</span>":"-"!=f&&parseFloat(f)<parseFloat(x)&&(f='<span style="color:#52ff52;">'+f+"</span>"));j={newPrice:b,updn:i,matuyld:h,updnratio:g,avgPrice:f,open:d,high:e,low:q,vol:A};"analysis"==this.tabType?t.byId("hq_analysis").innerHTML=s.substitute(c,
j):t.byId("hq_table").innerHTML=s.substitute(c,j)},setDerivedIndicators:function(c,a){var j={ytmcentralbankrules:"-",convexity:"-",adjifiedduration:"-",intrateduration:"-",intrateconvexity:"-",spreadduration:"-",spreadconvexity:"-",yieldtoexutioncentral:"-",adjifiedduration_ex:"-",convexity_ex:"-",intrateduration_ex:"-",intrateconvexity_ex:"-",spreadduration_ex:"-",spreadconvexity_ex:"-"};E.mixin(j,c);var b=i;"FixedNotRight"==a?b=i:"FloatNotRight"==a?b=h:"FixedRight"==a?b=C:"FloatRight"==a&&(b=p);
"analysis"==this.tabType?t.byId("zb_analysis").innerHTML=s.substitute(b,j):t.byId("zb_table").innerHTML=s.substitute(b,j)},setTitleColor:function(c){var a="-",j="-";if(c)c.code&&""!=c.code?a=c.code:c.co&&""!=c.co&&(a=c.co.replace("IB","").replace(".bond","")),j=c.shortName;c={bondCode:a.replace(/\bNT/g,""),bondName:j};"analysis"==this.tabType?t.byId("analysis_Title").innerHTML=s.substitute(o,c):t.byId("bond_Title").innerHTML=s.substitute(o,c)},setOptimalPrice:function(c){var j={buyclean:"-",buyvol:"-",
buyinitiator:"-",sellclean:"-",sellvol:"-",sellinitiator:"-"};if(c)E.mixin(j,c),j.buyvol=a.handleRawData("vol",j.buyvol/1E4)+"\u4e07",j.sellvol=a.handleRawData("vol",j.sellvol/1E4)+"\u4e07";"analysis"==this.tabType?t.byId("bj_analysis").innerHTML=s.substitute(u,j):t.byId("bj_table").innerHTML=s.substitute(u,j)},reCreateRelatedToBond:function(){var c=this,a;"analysis"==c.tabType?(dijit.byId("analysisGrid05")&&dijit.byId("analysisGrid05").destroyDescendants(!1),a=t.byId("analysisGrid05")):(dijit.byId("reCreateGrid05")&&
dijit.byId("reCreateGrid05").destroyDescendants(!1),a=t.byId("reCreateGrid05"));var j;j=new N({store:new F,columns:c.columns,options:c.options});j.on("dblclick",function(c,a){var b=j.getDataItem(a.row).obj;if(reGoToUrl&&""!=reGoToUrl.reGoToUrl)window.location.href=reGoToUrl.reGoToUrl+"IB"+b+".bond"});j.placeAt(a);if(whetherShowData){var b=[],c=this;(new K).query({service:"rpc",so:"javadataproxy.jar","function":"gw/UIMain",paraencode:"base64",parameter:"Z2V0,"+btoa(c.jsoUrl+"?obj="+bondCode.bondCode),
response_times:1,response_mode:0}).then(function(a){if(a[0]&&a[0].result&&a[0].result.datas&&a[0].result.datas.length){b=L.map(a[0].result.datas,function(c){return{code:c[0],bondName:c[2]}});for(var a=[],d="",d=0;d<b.length;d++)a.push(b[d].code);d=a.join(",");c.reCreateGrid05(j,d,b)}})}},reCreateGrid05:function(c,a,j){var b=B({});a&&""!=a&&(b.on("afterconvert",function(a){for(var a=a.data,b=[],d=0;d<a.length;d++){for(var e=0;e<j.length;e++)if(j[e].code==a[d].obj)a[d].shortName=j[e].bondName;e=a[d].obj.split(".")[0].slice(2);
a[d].obj=e;var q=!1;if(a[d].newclean&&0!=a[d].newclean)if(0==G.length)b.push(a[d]);else{b=G;for(e=0;e<G.length;e++)if(a[d].obj===G[e].obj){q=!0;b.splice(e,1,a[d]);break}q||b.push(a[d])}}G=b;c.store.data=b;c.refresh(b)}),b.query({service:"did",did:"100007",where:"obj="+a,response_times:-1}))},reSetBondCounter:function(c){var b=this,d="FixedNotRight",e;e="analysis"==b.tabType?t.byId("analysis_counter"):t.byId("counter");c&&(d=""==c.marketType?"FixedNotRight":c.marketType);e.innerHTML="FixedNotRight"==
d?"analysis"==b.tabType?s.substitute(A,{}):s.substitute(j,{}):"FloatNotRight"==d?"analysis"==b.tabType?s.substitute(z,{}):s.substitute(x,{}):"FixedRight"==d?"analysis"==b.tabType?s.substitute(r,{}):s.substitute(D,{}):"analysis"==b.tabType?s.substitute(J,{}):s.substitute(I,{});var q,i;"analysis"==b.tabType?(dijit.byId("tradeDate_A")&&dijit.byId("tradeDate_A").destroy(),dijit.byId("playStyle_A")&&dijit.byId("playStyle_A").destroy(),c=t.byId("tradeDate_A"),d=t.byId("playStyle_A"),i=t.byId("playDay_A"),
e="playStyle_A"):(dijit.byId("tradeDate")&&dijit.byId("tradeDate").destroy(),dijit.byId("playStyle")&&dijit.byId("playStyle").destroy(),c=t.byId("tradeDate"),d=t.byId("playStyle"),i=t.byId("playDay"),e="playStyle");var g=new F({data:[{name:"T+1",id:"T1"},{name:"T+0",id:"T0"}]});(new f({id:e,name:"state",value:"T+1",store:g,searchAttr:"name",style:"width:98%"},d)).on("change",function(){b.reSertplayDay(q,i)});q="analysis"==b.tabType?dijit.byId("playStyle_A"):dijit.byId("playStyle");new m({value:a.DateToFullDateTimeString(new Date),
required:!0,datePattern:"yyyy-MM-dd",onChange:function(){b.reSertplayDay(q,i)}},c);var h=a.DateToFullDateTimeString(new Date).split("-"),c=h[0]+h[1]+h[2]+"000000",k="";B().query({service:"rpc",so:"javadataproxy.jar","function":"gw/UIMain",paraencode:"base64",parameter:"Z2V0,"+btoa("/bond/market/getNextDealDate?beginDate="+c),response_times:1,response_mode:0}).then(function(c){k=c&&c[0]?c[0].tradeDate:a.DateToFullDateTimeString(new Date((new Date(h[0],h[1]-1,h[2])).getTime()+864E5));i.innerText=k});
c=[];c="analysis"==b.tabType?a.arrayObj_A:a.arrayObj;for(d=0;d<c.length;d++)if(t.byId(c[d]))if("LABEL"==t.byId(c[d]).tagName)t.byId(c[d]).className="counterLabel";else if("INPUT"==t.byId(c[d]).tagName)t.byId(c[d]).className="counterInput"},reSertplayDay:function(c,j){var b=this,d=("analysis"==b.tabType?t.byId("tradeDate_A"):t.byId("tradeDate")).value;if("T+1"==c.get("value")){var e=d.split("-"),d={service:"rpc",so:"javadataproxy.jar","function":"gw/UIMain",paraencode:"base64",parameter:"Z2V0,"+btoa("/bond/market/getNextDealDate?beginDate="+
(e[0]+(10>e[1]?"0"+e[1]:e[1])+(10>e[2]?"0"+e[2]:e[2])+"000000")),response_times:1,response_mode:0};B().query(d).then(function(c){if(c&&c[0]&&0<c.length)var d=c[0].tradeDate;else c=new Date((new Date(e[0],e[1]-1,e[2])).getTime()+864E5),j.innerText=a.DateToFullDateTimeString(c);j.innerText=d;"analysis"==b.tabType?a.counterChange("0"):a.counterChange("1")})}else j.innerText=d,"analysis"==b.tabType?a.counterChange("0"):a.counterChange("1")}})})},"bond/bondMarket/public/bondMarketFormatter":function(){define(["dojo/_base/declare",
"dojo/json","dojox/store/WebSocket","bond/bondMarket/public/util"],function(w,l,y,m){var f=0,e="",a="",d=0,b=function(c){for(var a in c)c[a]=k(a,c[a]);c.BTime=c.time+"--"+f;f+=f;if(c.time){var b=c.time.toString();a=b.substring(8,10)+":"+b.substring(10,12);b=":"+b.substring(12,14);c.time=a+b}return c},k=function(c,a){return c in{"new":"",matuyld:"",updn:"",open:"",lastclose:"",high:"",low:"",pro_pri:"",pnratio:"",pri_rev:"",buyprice1:"",sellprice5:"",volratio:"",avgprice:"",price:""}?g(a,2)+"":c in
{volume:"",nowvol:"",amount:"",industry:"",inner:"",outter:"",tickcount:"",allvalue:"",floatvalue:"",wantdiff:"",time:""}?Math.round(a):c in{updnratio:"",exchange:"",updnspeed:"",hilowratio:"",wantratio:""}?g(100*a,2)+"":c in{clearPrice:"",dirtyPrice:"",accruedInterest:"",terToMaturity:"",yield:"",durationMod:"",convexity:"",dutation:"",convexityDis:"",convexityInt:"",dataSourcesType:"",updnclean:"",priceD:"",yieldD:""}?g(a,4)+"":a},g=function(c,a){for(var b=a,d=1;0<a;d*=10,a--);d=Math.round(c*d)/
d+"";if(0<d.indexOf(".")){var e=d.substring(d.indexOf(".")+1).length;if(e<b)for(var g=0;g<b-e;g++)d+="0"}else{d+=".";for(g=0;g<b;g++)d+="0"}return d};return w([],{historyClose:function(c){var c=c[0],a;for(a in c)c[a]=k(a,c[a]);if(c.time&&0!=c.time){a=new Date(parseFloat(c.time)+"000"-288E5);var b;b=""+((10>a.getHours()?"0":"")+a.getHours()+":");b+=(10>a.getMinutes()?"0":"")+a.getMinutes()+":";b+=(10>a.getSeconds()?"0":"")+a.getSeconds();c.time=b;b=""+(a.getFullYear()+"-");b+=(10>a.getMonth()?"0":
"")+a.getMonth()+"-";b+=a.getDate()}c.hDate=b;c.buyprice&&c.sellprice&&(c.margin=c.buyprice-c.sellprice);return c},countDiffr:function(a){var a=a[0],b="",d="";if(a.buyclean&&a.sellclean&&a.buyyield&&a.sellyield){var d=a.buyyield,e=a.sellyield,b=a.buyclean-a.sellclean,d=d-e,b=k("priceD",b),d=k("yieldD",d);a.priceD=b;a.yieldD=d}d=a.buytime.toString();b=d.substring(0,4)+"-"+d.substring(4,6)+"-"+d.substring(6,8);d=d.substring(8,10)+":"+d.substring(10,12)+":"+d.substring(12,14);a._dateBuy=b;a._timeBuy=
d;d=a.selltime.toString();b=d.substring(0,4)+"-"+d.substring(4,6)+"-"+d.substring(6,8);d=d.substring(8,10)+":"+d.substring(10,12)+":"+d.substring(12,14);a._dateSell=b;a._timeSell=d;return a},division:function(a){a=a[0];a=b(a,e);0<a.time.indexOf(":")&&(e=a.time);return a},divisionA:function(c){c=c[0];c=b(c,a);0<c.time.indexOf(":")&&(a=c.time);return c},historyChases:function(a){var a=a[0],b;for(b in a)"null"===a[b]&&(a[b]="0"),a[b]=k(b,a[b]);return a},relatedToBond:function(a){var a=a[0],b;for(b in a)a[b]=
k(b,a[b]);if(a["new"]&&"0.00"===a["new"])return null;a.obj&&(a.co=a.obj);return a},bondNews:function(a){a=a[0];a.C16>=d&&(d=a.C16);a.newsKey=a.C1+"-"+a.C2;var b=m.getOneMonthAgoDate("1"),b=b.replace("-","").replace("-","")+"000000",e="";a.C16>b?e=a.C16.substr(8,2)+":"+a.C16.substr(10,2)+":"+a.C16.substr(12,2):a.C16<b&&(e=a.C16.substr(0,4)+"-"+a.C16.substr(4,2)+"-"+a.C16.substr(6,2));a.C16=e;return a},testRepoData:function(a){var a=a[0],b=a.obj.split(".")[0];a.repoName=b.slice(2);a.upon||(a.upon=parseFloat(a["new"])-
parseFloat(a.lastclose));a.amount&&(a.vol=a.amount);for(var d in a)"obj"!=d&&"vol"!=d&&"repoName"!=d?a[d]=k("updnclean",a[d]):"vol"==d&&(a[d]=k("volume",a[d]/1E4));return a},realTimeMarket:function(a){var a=a[0],b=a.newclean-a.lastcloseclean,b=k("updnclean",b);a.updn=b;return a},basicInformation:function(a){var a=a[0],b;for(b in a)a[b]=k(b,a[b]);return a}})})},"url:bond/bondMarket/template/realTimeMarket.html":'\r\n<tr>\r\n    <td class="market_table_title">\u6700\u65b0\u4ef7</td><td >${newPrice}</td><td class="market_table_value">\u6da8\u8dcc</td><td>${updn}</td>\r\n</tr>\r\n<tr>\r\n    <td>\u5230\u671f\u6536\u76ca\u7387</td><td>${matuyld}</td><td>\u6da8\u8dcc\u5e45</td><td>${updnratio}</td>\r\n</tr>\r\n<tr>\r\n    <td>\u5f00\u76d8\u4ef7</td><td >${open}</td><td>\u52a0\u6743\u4ef7</td><td >${avgPrice}</td>\r\n</tr>\r\n<tr>\r\n    <td>\u6700\u4f4e\u4ef7</td><td >${low}</td><td>\u6700\u9ad8\u4ef7</td><td >${high}</td>\r\n</tr>\r\n<tr>\r\n    <td>\u6210\u4ea4\u91cf(\u4e07)</td><td>${vol}</td><td></td><td></td>\r\n</tr>\r\n\r\n\r\n',
"url:bond/bondMarket/template/derivedIndicators1.html":"\r\n<\!--FixedNotRight\uff1a\u56fa\u606f\u4e0d\u542b\u6743--\>\r\n<tr>\r\n    <\!--<td>\u5230\u671f\u6536\u76ca\u7387</td><td>${ytmcentralbankrules}</td>--\>\r\n    <td>\u4fee\u6b63\u4e45\u671f</td><td>${adjifiedduration}</td>\r\n    <td >\u51f8\u6027</td><td>${convexity}</td>\r\n</tr>\r\n<\!--<tr>--\>\r\n    <\!--<td>\u4fee\u6b63\u4e45\u671f</td><td>${adjifiedduration}</td><td></td><td></td>--\>\r\n<\!--</tr>--\>\r\n\r\n","url:bond/bondMarket/template/derivedIndicators2.html":"\r\n<\!--FloatNotRight\uff1a\u6d6e\u606f\u4e0d\u542b\u6743--\>\r\n<tr>\r\n    <td >\u5229\u5dee\u4e45\u671f</td><td>${spreadduration}</td><td>\u5229\u5dee\u51f8\u6027</td><td>${spreadconvexity}</td>\r\n</tr>\r\n<tr>\r\n    <td>\u5229\u7387\u4e45\u671f</td><td>${intrateduration}</td><td>\u5229\u7387\u51f8\u6027</td><td>${intrateconvexity}</td>\r\n</tr>\r\n\r\n<\!--<tr>--\>\r\n    <\!--<td >\u5230\u671f\u6536\u76ca\u7387</td><td>${ytmcentralbankrules}</td><td></td>--\>\r\n<\!--</tr>--\>\r\n\r\n",
"url:bond/bondMarket/template/derivedIndicators3.html":"\r\n<\!--FixedRight\uff1a\u56fa\u606f\u542b\u6743--\>\r\n<tr>\r\n   <td >\u4fee\u6b63\u4e45\u671f</td><td>${adjifiedduration}</td> <td>\u51f8\u6027</td><td>${convexity}</td>\r\n</tr>\r\n<\!--<tr>--\>\r\n   <\!----\>\r\n<\!--</tr>--\>\r\n\r\n","url:bond/bondMarket/template/derivedIndicators4.html":"<\!--FloatRight:\u6d6e\u606f\u542b\u6743--\>\r\n<tr>\r\n    <td >\u5229\u5dee\u4e45\u671f</td><td>${spreadduration}</td><td>\u5229\u5dee\u51f8\u6027</td><td>${spreadconvexity}</td>\r\n</tr>\r\n<tr>\r\n    <td >\u5229\u7387\u4e45\u671f</td><td>${intrateduration}</td><td>\u5229\u7387\u51f8\u6027</td><td>${intrateconvexity}</td>\r\n</tr>\r\n\r\n<\!--<tr>--\>\r\n    <\!--<td>\u884c\u6743\u6536\u76ca\u7387</td><td>${yieldtoexutioncentral}</td><td></td>--\>\r\n<\!--</tr>--\>\r\n\r\n",
"url:bond/bondMarket/template/bondTiTLe.html":'\r\n<span class="color_blu" >\u25b6</span>\r\n<span class="color_blu backgroud_sp"> ${bondCode} &nbsp;&nbsp;</span>\r\n<span >${bondName}&nbsp;&nbsp;</span>\r\n\r\n\r\n\r\n',"url:bond/bondMarket/template/optimalPrice.html":"<tr>\r\n    <td>\u6700\u4f18\u4e70</td><td >${buyclean}</td><td >${buyvol}</td><td title=${buyinitiator}>${buyinitiator}</td>\r\n</tr>\r\n<tr>\r\n    <td>\u6700\u4f18\u5356</td><td>${sellclean}</td><td >${sellvol}</td><td title=${sellinitiator}>${sellinitiator}</td>\r\n</tr>",
"url:bond/bondMarket/template/basicInfo.html":'<colgroup>\r\n    <col style="width: 16%; "/>\r\n    <col style="width: 34%; "/>\r\n    <col style="width: 16%; "/>\r\n    <col style="width: 34%; "/>\r\n</colgroup>\r\n<tr>\r\n    <td>\u53d1\u884c\u4eba\u540d\u79f0</td><td>${issuer}</td><td>\u7b80\u79f0\u53ca\u4ee3\u7801</td><td>${bondNameAndCode}</td>\r\n</tr>\r\n<tr>\r\n    <td>\u4e0a\u5e02\u5e02\u573a</td><td>${market}</td><td>\u5176\u4ed6\u5e02\u573a</td><td>${otherMarket}</td>\r\n</tr>\r\n<tr>\r\n    <td>\u503a\u5238\u4fe1\u7528\u7b49\u7ea7</td><td>${bondCreditRating}</td><td>\u4e3b\u4f53\u4fe1\u7528\u7b49\u7ea7</td><td>${bodyCreditRating}</td>\r\n</tr>\r\n<tr>\r\n    <td>\u53d1\u884c\u89c4\u6a21(\u4ebf\u5143)</td><td>${issuance}</td><td>\u53d1\u884c\u4ef7\u683c(\u5143)</td><td>${issuePrice}</td>\r\n</tr>\r\n<tr>\r\n    <td>\u503a\u5238\u5e74\u9650(\u5e74)</td><td>${bondYear}</td><td>\u5269\u4f59\u671f\u9650(\u5929)</td><td>${daysRemaining}</td>\r\n</tr>\r\n<tr>\r\n    <td>\u8ba1\u606f\u65b9\u5f0f</td><td>${planWay}</td><td>\u7968\u9762\u5229\u7387(%)</td><td>${couponRate}</td>\r\n</tr>\r\n<tr>\r\n    <td>\u4ed8\u606f\u65b9\u5f0f</td><td>${servicingWay}</td><td>\u4ed8\u606f\u65e5</td><td>${everyYear}</td>\r\n</tr>\r\n<tr>\r\n    <td>\u8d77\u606f\u65e5\u671f</td><td>${payoutDate}</td><td>\u5151\u4ed8\u65e5</td><td>${paymentDate}</td>\r\n</tr>\r\n<tr>\r\n    <td>\u662f\u5426\u6709\u62c5\u4fdd</td><td>${guarantee}</td><td>\u5185\u5d4c\u671f\u6743</td><td>${embeddedOptions}</td>\r\n</tr>\r\n<tr>\r\n    <td>\u4e3b\u627f\u9500\u5546</td><td>${leadUnderwriter}</td><td>\u526f\u4e3b\u627f\u9500\u5546</td><td>${deputyLeadUnderwriters}</td>\r\n</tr>\r\n',
"url:bond/bondMarket/template/valuationMetrics.html":'<tr>\r\n    <td  class="market_table_title">\u4e2d\u503a\u4f30\u503c</td><td class="market_table_value">${CBDPrice}</td><td class="market_table_value">${CBDYield}</td><td class="market_table_title">${CBDTime}</td>\r\n</tr>\r\n<tr>\r\n    <td>\u4e2d\u8bc1\u4f30\u503c</td><td >${CSIPrice}</td><td >${CSIYield}</td><td >${CSITime}</td>\r\n</tr>\r\n<tr>\r\n    <td>\u4e0a\u6e05\u6240\u4f30\u503c</td><td >${SHCHPrice}</td><td >${SHCHYield}</td><td >${SHCHTime}</td>\r\n</tr>',
"url:bond/bondMarket/template/fixedNotRight.html":'<colgroup>\r\n    <col style="width:30%; text-align: left;"/>\r\n    <col style="width:20%; text-align: left;"/>\r\n    <col style="width:25%; text-align: left;"/>\r\n    <col style="width:25%; text-align: left;"/>\r\n</colgroup>\r\n\r\n<tr>\r\n    <td>\u4ea4\u6613\u65e5</td>\r\n    <td class="width_ctrl">\r\n        <input type="text"\r\n               data-dojo-attach-point="tradeDate"\r\n               class="font_trl"  id="tradeDate" value="20130530"\r\n               data-dojo-type="dijit/form/DateTextBox"\r\n               required="true"\r\n               />\r\n    </td>\r\n    <td>\u7ed3\u7b97\u65b9\u5f0f</td>\r\n    <td>\r\n        <div id="playStyle" class="width_ctrl2">\r\n\r\n        </div>\r\n    </td>\r\n</tr>\r\n<tr>\r\n    <td>\u7ed3\u7b97\u65e5</td>\r\n    <td><label  id="playDay"></label>\r\n    </td>\r\n    <td>\u5e94\u8ba1\u5229\u606f</td>\r\n    <td><label  id="bondAI"></label>\r\n    </td>\r\n</tr>\r\n<tr>\r\n    <td>\u51c0\u4ef7</td>\r\n    <td><input type="text"  value="" placeHolder=""\r\n               data-dojo-type="dijit/form/TextBox" intermediateChanges="true"\r\n               data-dojo-props="trim:true, propercase:false" id="pv"  onKeyUp="if(isNaN(value))execCommand(\'undo\')" onafterpaste="if(isNaN(value))execCommand(\'undo\')"/>\r\n    </td>\r\n    <td>\u5168\u4ef7</td>\r\n    <td><input type="text"  value="" placeHolder=""\r\n               data-dojo-type="dijit/form/TextBox" intermediateChanges="true"\r\n               data-dojo-props="trim:true, propercase:false" id="fv"  onKeyUp="if(isNaN(value))execCommand(\'undo\')" onafterpaste="if(isNaN(value))execCommand(\'undo\')"/>\r\n    </td>\r\n</tr>\r\n<tr>\r\n    <td>\u5230\u671f\u6536\u76ca\u7387(%)</td>\r\n    <td><input type="text" value="" placeHolder=""\r\n               data-dojo-type="dijit/form/TextBox" intermediateChanges="true"\r\n               data-dojo-props="trim:true, propercase:false" id="bondYieldY4"  onKeyUp="if(isNaN(value))execCommand(\'undo\')" onafterpaste="if(isNaN(value))execCommand(\'undo\')"/>\r\n    </td>\r\n    <\!--<td>\u9ea6\u6c0f\u4e45\u671f</td>--\>\r\n    <\!--<td>--\>\r\n        <\!--<label  id="macaulayDuration1"></label>--\>\r\n    <\!--</td>--\>\r\n    <td>\u4fee\u6b63\u4e45\u671f</td>\r\n    <td><label  id="macaulayDuration2"></label>\r\n    </td>\r\n</tr>\r\n<\!--<tr>--\>\r\n    <\!--<td>\u5230\u671f\u6536\u76ca\u7387_\u590d\u5229</td>--\>\r\n    <\!--<td><input type="text" value="" placeHolder=""--\>\r\n               <\!--data-dojo-type="dijit/form/TextBox" intermediateChanges="true"--\>\r\n               <\!--data-dojo-props="trim:true, propercase:false" id="bondYieldY1"  onKeyUp="if(isNaN(value))execCommand(\'undo\')" onafterpaste="if(isNaN(value))execCommand(\'undo\')"/></td>--\>\r\n    <\!--<td>\u4fee\u6b63\u4e45\u671f</td>--\>\r\n    <\!--<td><label  id="macaulayDuration2"></label>--\>\r\n    <\!--</td>--\>\r\n<\!--</tr>--\>\r\n<tr>\r\n    <\!--<td>\u5230\u671f\u6536\u76ca\u7387_\u5355\u5229</td>--\>\r\n    <\!--<td><input type="text"  value="" placeHolder=""--\>\r\n               <\!--data-dojo-type="dijit/form/TextBox" intermediateChanges="true"--\>\r\n               <\!--data-dojo-props="trim:true, propercase:false" id="bondYieldY3"  onKeyUp="if(isNaN(value))execCommand(\'undo\')" onafterpaste="if(isNaN(value))execCommand(\'undo\')"/>--\>\r\n    <\!--</td>--\>\r\n    <td >\u57fa\u70b9\u4ef7\u503c\uff08\u5143\uff09</td>\r\n    <td >\r\n        <label  id="pointValue"></label>\r\n    </td>\r\n    <td>\u51f8\u6027</td>\r\n    <td>\r\n        <label  id="convexity"></label>\r\n    </td>\r\n</tr>\r\n<\!--<tr>--\>\r\n    <\!--<td >\u57fa\u70b9\u4ef7\u503c\uff08\u5143\uff09</td>--\>\r\n    <\!--<td >--\>\r\n        <\!--<label  id="pointValue"></label>--\>\r\n    <\!--</td>--\>\r\n\r\n<\!--</tr>--\>\r\n\r\n\r\n\r\n\r\n\r\n',
"url:bond/bondMarket/template/fixedNotRight_A.html":'<colgroup>\r\n    <col style="width:27%; text-align: left;"/>\r\n    <col style="width:23%; text-align: left;"/>\r\n    <col style="width:25%; text-align: left;"/>\r\n    <col style="width:25%; text-align: left;"/>\r\n</colgroup>\r\n<\!--<tr>--\>\r\n    <\!--<th></th>--\>\r\n    <\!--<th>\u5047\u8bbe\u6362\u7b97</th>--\>\r\n    <\!--<th></th>--\>\r\n    <\!--<th></th>--\>\r\n<\!--</tr>--\>\r\n<tr>\r\n    <td>\u4ea4\u6613\u65e5</td>\r\n    <td class="width_ctrl">\r\n        <input type="text" data-dojo-attach-point="tradeDate_A" class="font_trl"  id="tradeDate_A" value="20130530" data-dojo-type="dijit/form/DateTextBox"\r\n               required="true"/>\r\n    </td>\r\n    <td>\u7ed3\u7b97\u65b9\u5f0f</td>\r\n    <td>\r\n        <div id="playStyle_A" class="width_ctrl2">\r\n\r\n        </div>\r\n        <\!--<select data-dojo-type="dijit/form/ComboBox" id="playStyle_A" class="width_ctrl2"--\>\r\n                <\!--style="background-color: #000000;color:#FF8020;float:right; "--\>\r\n                <\!--data-dojo-props="readonly:\'readonly\'" data-dojo-attach-point="playStyle_A">--\>\r\n            <\!--<option>T+1</option>--\>\r\n            <\!--<option>T+0</option>--\>\r\n        <\!--</select></td>--\>\r\n</tr>\r\n<tr>\r\n    <td>\u7ed3\u7b97\u65e5</td>\r\n    <td><label  id="playDay_A"></label>\r\n    </td>\r\n    <td>\u5e94\u8ba1\u5229\u606f</td>\r\n    <td><label  id="bondAI_A"></label></td>\r\n</tr>\r\n<tr>\r\n    <td>\u51c0\u4ef7</td>\r\n    <td><input type="text" name="firstname" value="" placeHolder=""\r\n               data-dojo-type="dijit/form/TextBox" intermediateChanges="true"\r\n               data-dojo-props="trim:true, propercase:false" id="pv_A" onKeyUp="if(isNaN(value))execCommand(\'undo\')" onafterpaste="if(isNaN(value))execCommand(\'undo\')"/></td>\r\n    <td>\u5168\u4ef7</td>\r\n    <td><input type="text" name="firstname" value="" placeHolder=""\r\n               data-dojo-type="dijit/form/TextBox" intermediateChanges="true"\r\n               data-dojo-props="trim:true, propercase:false" id="fv_A"  onKeyUp="if(isNaN(value))execCommand(\'undo\')" onafterpaste="if(isNaN(value))execCommand(\'undo\')"/>\r\n    </td>\r\n</tr>\r\n<tr>\r\n    <td>\u5230\u671f\u6536\u76ca\u7387(%)</td>\r\n    <td><input type="text" name="firstname" value="" placeHolder=""\r\n\r\n               data-dojo-type="dijit/form/TextBox" intermediateChanges="true"\r\n               data-dojo-props="trim:true, propercase:false" id="bondYieldY4_A"  onKeyUp="if(isNaN(value))execCommand(\'undo\')" onafterpaste="if(isNaN(value))execCommand(\'undo\')"/>\r\n    </td>\r\n    <\!--<td>\u9ea6\u6c0f\u4e45\u671f</td>--\>\r\n    <\!--<td>--\>\r\n        <\!--<label  id="macaulayDuration1_A"></label>--\>\r\n    <\!--</td>--\>\r\n    <td>\u4fee\u6b63\u4e45\u671f</td>\r\n    <td><label  id="macaulayDuration2_A"></label>\r\n    </td>\r\n</tr>\r\n<\!--<tr>--\>\r\n    <\!--<td>\u5230\u671f\u6536\u76ca\u7387_\u590d\u5229</td>--\>\r\n    <\!--<td><input type="text" name="firstname" value="" placeHolder=""--\>\r\n\r\n               <\!--data-dojo-type="dijit/form/TextBox" intermediateChanges="true"--\>\r\n               <\!--data-dojo-props="trim:true, propercase:false" id="bondYieldY1_A"  onKeyUp="if(isNaN(value))execCommand(\'undo\')" onafterpaste="if(isNaN(value))execCommand(\'undo\')"/>--\>\r\n    <\!--</td>--\>\r\n    <\!--<td>\u4fee\u6b63\u4e45\u671f</td>--\>\r\n    <\!--<td><label  id="macaulayDuration2_A"></label>--\>\r\n    <\!--</td>--\>\r\n<\!--</tr>--\>\r\n<tr>\r\n    <\!--<td>\u5230\u671f\u6536\u76ca\u7387_\u5355\u5229</td>--\>\r\n    <\!--<td><input type="text" name="firstname" value="" placeHolder=""--\>\r\n\r\n               <\!--data-dojo-type="dijit/form/TextBox" intermediateChanges="true"--\>\r\n               <\!--data-dojo-props="trim:true, propercase:false" id="bondYieldY3_A"  onKeyUp="if(isNaN(value))execCommand(\'undo\')" onafterpaste="if(isNaN(value))execCommand(\'undo\')"/>--\>\r\n    <\!--</td>--\>\r\n    <td >\u57fa\u70b9\u4ef7\u503c\uff08\u5143\uff09</td>\r\n    <td>\r\n        <label  id="pointValue_A"></label>\r\n    </td>\r\n    <td>\u51f8\u6027</td>\r\n    <td>\r\n        <label  id="convexity_A"></label>\r\n    </td>\r\n\r\n</tr>\r\n\r\n<\!--<tr>--\>\r\n    <\!--<td colspan="2">\u57fa\u70b9\u4ef7\u503c\uff08\u5143\uff09</td>--\>\r\n    <\!--<td colspan="2">--\>\r\n        <\!--<label  id="pointValue_A"></label>--\>\r\n    <\!--</td>--\>\r\n<\!--</tr>--\>\r\n',
"url:bond/bondMarket/template/floatNotRight.html":'<colgroup>\r\n    <col style="width:30%; text-align: left;"/>\r\n    <col style="width:23%; text-align: left;"/>\r\n    <col style="width:23%; text-align: left;"/>\r\n    <col style="width:24%; text-align: left;"/>\r\n</colgroup>\r\n</tr>\r\n<tr>\r\n    <td>\u4ea4\u6613\u65e5</td>\r\n    <td class="width_ctrl"><input type="text" data-dojo-attach-point="tradeDate" class="font_trl" id="tradeDate"  value="20130531" data-dojo-type="dijit/form/DateTextBox"\r\n                           required="true"    />\r\n    </td>\r\n    <td>\u7ed3\u7b97\u65b9\u5f0f</td>\r\n    <td>\r\n        <div id="playStyle" class="width_ctrl2">\r\n\r\n        </div>\r\n        <\!--<select data-dojo-type="dijit/form/ComboBox" id="playStyle" class="width_ctrl2"--\>\r\n                <\!--style="background-color: #000000;color:#FF8020;float:right; "--\>\r\n                <\!--data-dojo-props="readonly:\'readonly\'" data-dojo-attach-point="a">--\>\r\n            <\!--<option>T+1</option>--\>\r\n            <\!--<option>T+0</option>--\>\r\n        <\!--</select>--\>\r\n    </td>\r\n\r\n</tr>\r\n<tr>\r\n    <td>\u7ed3\u7b97\u65e5</td>\r\n    <td><label  id="playDay"></label>\r\n    </td>\r\n    <td>\u5e94\u8ba1\u5229\u606f</td>\r\n    <td><label id="bondAI"></label></td>\r\n</tr>\r\n<tr>\r\n    <td>\u51c0\u4ef7</td>\r\n    <td><input type="text" name="firstname" value="" placeHolder=""\r\n               data-dojo-type="dijit/form/TextBox"   intermediateChanges="true"\r\n               data-dojo-props="trim:true, propercase:false" id="pv"   onKeyUp="if(isNaN(value))execCommand(\'undo\')" onafterpaste="if(isNaN(value))execCommand(\'undo\')"/>\r\n    </td>\r\n    <td>\u5168\u4ef7</td>\r\n    <td><input type="text" name="firstname" value="" placeHolder=""\r\n               data-dojo-type="dijit/form/TextBox"   intermediateChanges="true"\r\n               data-dojo-props="trim:true, propercase:false" id="fv"  onKeyUp="if(isNaN(value))execCommand(\'undo\')" onafterpaste="if(isNaN(value))execCommand(\'undo\')" />\r\n    </td>\r\n</tr>\r\n<tr>\r\n    <td>\u5230\u671f\u6536\u76ca\u7387(%)</td>\r\n    <td><input type="text" name="firstname" value="" placeHolder=""\r\n               data-dojo-type="dijit/form/TextBox"   intermediateChanges="true"\r\n               data-dojo-props="trim:true, propercase:false" id="bondYieldY4"  onKeyUp="if(isNaN(value))execCommand(\'undo\')" onafterpaste="if(isNaN(value))execCommand(\'undo\')"/>\r\n    </td>\r\n    <td>\u57fa\u70b9\u4ef7\u503c\uff08\u5143\uff09</td>\r\n    <td><label id="pointValue"></label>\r\n    </td>\r\n\r\n</tr>\r\n<tr>\r\n    <\!--<td>\u5230\u671f\u6536\u76ca\u7387_\u590d\u5229</td>--\>\r\n    <\!--<td><input type="text" name="firstname" value="" placeHolder=""--\>\r\n               <\!--data-dojo-type="dijit/form/TextBox"   intermediateChanges="true"--\>\r\n               <\!--data-dojo-props="trim:true, propercase:false" id="bondYieldY1"   onKeyUp="if(isNaN(value))execCommand(\'undo\')" onafterpaste="if(isNaN(value))execCommand(\'undo\')"/>--\>\r\n    <\!--</td>--\>\r\n    <td>\u5229\u5dee\u4e45\u671f</td>\r\n    <td><label id="interestRateDuration1"></label>\r\n    </td>\r\n    <td>\u5229\u5dee\u51f8\u6027</td>\r\n    <td><label  id="interestRateConvexity1"></label>\r\n    </td>\r\n</tr>\r\n<tr>\r\n    <\!--<td>\u5230\u671f\u6536\u76ca\u7387_\u5355\u5229</td>--\>\r\n    <\!--<td><input type="text" name="firstname" value="" placeHolder=""--\>\r\n               <\!--data-dojo-type="dijit/form/TextBox"   intermediateChanges="true"--\>\r\n               <\!--data-dojo-props="trim:true, propercase:false" id="bondYieldY3"   onKeyUp="if(isNaN(value))execCommand(\'undo\')" onafterpaste="if(isNaN(value))execCommand(\'undo\')"/>--\>\r\n    <\!--</td>--\>\r\n    <td>\u5229\u7387\u4e45\u671f</td><td>\r\n    <label  id="interestRateDuration2"></label></td>\r\n    <td>\u5229\u7387\u51f8\u6027</td>\r\n    <td> <label  id="interestRateConvexity2"></label>\r\n    </td>\r\n</tr>\r\n<\!--<tr>--\>\r\n    <\!--<td>\u6709\u6548\u5229\u5dee(BP)_\u590d\u5229</td>--\>\r\n    <\!--<td><input type="text" name="firstname" value="" placeHolder=""--\>\r\n               <\!--data-dojo-type="dijit/form/TextBox"   intermediateChanges="true"--\>\r\n               <\!--data-dojo-props="trim:true, propercase:false" id="interestMarginBP"  onKeyUp="if(isNaN(value))execCommand(\'undo\')" onafterpaste="if(isNaN(value))execCommand(\'undo\')"/>--\>\r\n    <\!--</td>--\>\r\n    <\!--<td>\u5229\u7387\u51f8\u6027</td>--\>\r\n    <\!--<td> <label  id="interestRateConvexity2"></label>--\>\r\n    <\!--</td>--\>\r\n<\!--</tr>--\>\r\n<\!--<tr>--\>\r\n    <\!--<td colspan="2">\u57fa\u70b9\u4ef7\u503c\uff08\u5143\uff09</td>--\>\r\n    <\!--<td colspan="2"><label id="pointValue"></label>--\>\r\n   <\!--</td>--\>\r\n<\!--</tr>--\>',
"url:bond/bondMarket/template/floatNotRight_A.html":'\r\n<colgroup>\r\n    <col style="width:30%; text-align: left;"/>\r\n    <col style="width:23%; text-align: left;"/>\r\n    <col style="width:23%; text-align: left;"/>\r\n    <col style="width:24%; text-align: left;"/>\r\n</colgroup>\r\n<tr>\r\n    <td>\u4ea4\u6613\u65e5</td>\r\n    <td class="width_ctrl"><input type="text" data-dojo-attach-point="tradeDate" class="font_trl" id="tradeDate_A"  value="20130531" data-dojo-type="dijit/form/DateTextBox"\r\n                           required="true"    />\r\n    </td>\r\n    <td>\u7ed3\u7b97\u65b9\u5f0f</td>\r\n    <td>\r\n        <div id="playStyle_A" class="width_ctrl2">\r\n\r\n        </div>\r\n        <\!--<select data-dojo-type="dijit/form/ComboBox" id="playStyle_A" class="width_ctrl2"--\>\r\n                <\!--style="background-color: #000000;color:#FF8020;float:right; "--\>\r\n                <\!--data-dojo-props="readonly:\'readonly\'" data-dojo-attach-point="a">--\>\r\n            <\!--<option>T+1</option>--\>\r\n            <\!--<option>T+0</option>--\>\r\n        <\!--</select>--\>\r\n    </td>\r\n\r\n</tr>\r\n<tr>\r\n    <td>\u7ed3\u7b97\u65e5</td>\r\n    <td><label  id="playDay_A"></label>\r\n    </td>\r\n    <td>\u5e94\u8ba1\u5229\u606f</td>\r\n    <td><label id="bondAI_A"></label></td>\r\n</tr>\r\n<tr>\r\n    <td>\u51c0\u4ef7</td>\r\n    <td><input type="text" name="firstname" value="" placeHolder=""\r\n               data-dojo-type="dijit/form/TextBox"   intermediateChanges="true"\r\n               data-dojo-props="trim:true, propercase:false" id="pv_A"  onKeyUp="if(isNaN(value))execCommand(\'undo\')" onafterpaste="if(isNaN(value))execCommand(\'undo\')" />\r\n    </td>\r\n    <td>\u5168\u4ef7</td>\r\n    <td><input type="text" name="firstname" value="" placeHolder=""\r\n               data-dojo-type="dijit/form/TextBox"   intermediateChanges="true"\r\n               data-dojo-props="trim:true, propercase:false" id="fv_A"  onKeyUp="if(isNaN(value))execCommand(\'undo\')" onafterpaste="if(isNaN(value))execCommand(\'undo\')" />\r\n    </td>\r\n</tr>\r\n<tr>\r\n    <td>\u5230\u671f\u6536\u76ca\u7387(%)</td>\r\n    <td><input type="text" name="firstname" value="" placeHolder=""\r\n               data-dojo-type="dijit/form/TextBox"   intermediateChanges="true"\r\n               data-dojo-props="trim:true, propercase:false" id="bondYieldY4_A"  onKeyUp="if(isNaN(value))execCommand(\'undo\')" onafterpaste="if(isNaN(value))execCommand(\'undo\')" />\r\n    </td>\r\n    <td >\u57fa\u70b9\u4ef7\u503c\uff08\u5143\uff09</td>\r\n    <td><label id="pointValue_A"></label>\r\n    </td>\r\n\r\n</tr>\r\n<tr>\r\n    <td>\u5229\u5dee\u4e45\u671f</td>\r\n    <td><label id="interestRateDuration1_A"></label>\r\n    </td>\r\n    <td>\u5229\u5dee\u51f8\u6027</td>\r\n    <td><label  id="interestRateConvexity1_A"></label>\r\n    </td>\r\n\r\n</tr>\r\n<tr>\r\n    <\!--<td>\u5230\u671f\u6536\u76ca\u7387_\u5355\u5229</td>--\>\r\n    <\!--<td><input type="text" name="firstname" value="" placeHolder=""--\>\r\n               <\!--data-dojo-type="dijit/form/TextBox"   intermediateChanges="true"--\>\r\n               <\!--data-dojo-props="trim:true, propercase:false" id="bondYieldY3_A"   onKeyUp="if(isNaN(value))execCommand(\'undo\')" onafterpaste="if(isNaN(value))execCommand(\'undo\')"/>--\>\r\n    <\!--</td>--\>\r\n    <td>\u5229\u7387\u4e45\u671f</td>\r\n    <td>\r\n        <label  id="interestRateDuration2_A"></label>\r\n    </td>\r\n    <td>\u5229\u7387\u51f8\u6027</td>\r\n    <td> <label  id="interestRateConvexity2_A"></label>\r\n    </td>\r\n</tr>\r\n\r\n<\!--<tr>--\>\r\n    <\!--<td colspan="2">\u57fa\u70b9\u4ef7\u503c\uff08\u5143\uff09</td>--\>\r\n    <\!--<td colspan="2"><label id="pointValue_A"></label>--\>\r\n    <\!--</td>--\>\r\n<\!--</tr>--\>',
"url:bond/bondMarket/template/fixedRight.html":'<colgroup>\r\n    <col style="width:30%; text-align: left;"/>\r\n    <col style="width:20%; text-align: left;"/>\r\n    <col style="width:30%; text-align: left;"/>\r\n    <col style="width:20%; text-align: left;"/>\r\n</colgroup>\r\n<tr>\r\n    <td>\u4ea4\u6613\u65e5</td>\r\n    <td class="width_ctrl"><input type="text" data-dojo-attach-point="tradeDate" class="font_trl"\r\n               style="width: 100%;height: 100%"\r\n               id="tradeDate"  value="20130530" data-dojo-type="dijit/form/DateTextBox"\r\n                           required="true"    />\r\n    </td>\r\n    <td>\u7ed3\u7b97\u65b9\u5f0f</td>\r\n    <td>\r\n        <div id="playStyle" class="width_ctrl2">\r\n\r\n        </div>\r\n        <\!--<select data-dojo-type="dijit/form/ComboBox" id="playStyle" class="width_ctrl2"--\>\r\n                <\!--style="background-color: #000000;color:#FF8020;float:right;width: 100%;height: 100% "--\>\r\n                <\!--data-dojo-props="readonly:\'readonly\'" data-dojo-attach-point="a">--\>\r\n            <\!--<option>T+1</option>--\>\r\n            <\!--<option>T+0</option>--\>\r\n        <\!--</select>--\>\r\n    </td>\r\n</tr>\r\n<tr>\r\n    <td>\u7ed3\u7b97\u65e5</td>\r\n    <td><label  id="playDay"></label>\r\n    </td>\r\n    <td>\u5e94\u8ba1\u5229\u606f</td>\r\n    <td><label  id="bondAI"></label></td>\r\n</tr>\r\n<tr>\r\n    <td>\u51c0\u4ef7</td>\r\n    <td><input type="text" name="firstname" value="" placeHolder=""\r\n               data-dojo-type="dijit/form/TextBox"   intermediateChanges="true"\r\n\r\n               data-dojo-props="trim:true, propercase:false" id="pv"  onKeyUp="if(isNaN(value))execCommand(\'undo\')" onafterpaste="if(isNaN(value))execCommand(\'undo\')"  />\r\n    </td>\r\n    <td>\u5168\u4ef7</td>\r\n    <td><input type="text" name="firstname" value="" placeHolder=""\r\n               data-dojo-type="dijit/form/TextBox"   intermediateChanges="true"\r\n               data-dojo-props="trim:true, propercase:false" id="fv"   onKeyUp="if(isNaN(value))execCommand(\'undo\')" onafterpaste="if(isNaN(value))execCommand(\'undo\')"/>\r\n    </td>\r\n</tr>\r\n<tr>\r\n    <td>\u5230\u671f\u6536\u76ca\u7387(%)</td>\r\n    <td><input type="text" name="firstname" value="" placeHolder=""\r\n               data-dojo-type="dijit/form/TextBox"   intermediateChanges="true"\r\n               data-dojo-props="trim:true, propercase:false" id="bondYieldY4"  onKeyUp="if(isNaN(value))execCommand(\'undo\')" onafterpaste="if(isNaN(value))execCommand(\'undo\')" />\r\n    </td>\r\n    <td>\u884c\u6743\u6536\u76ca\u7387(%)</td>\r\n    <td><input type="text" name="firstname" value="" placeHolder=""\r\n               data-dojo-type="dijit/form/TextBox"   intermediateChanges="true"\r\n               data-dojo-props="trim:true, propercase:false" id="bondYieldY8XQ"   onKeyUp="if(isNaN(value))execCommand(\'undo\')" onafterpaste="if(isNaN(value))execCommand(\'undo\')"/>\r\n    </td>\r\n</tr>\r\n<\!--<tr>--\>\r\n    <\!--<td>\u5230\u671f\u6536\u76ca\u7387_\u590d\u5229</td>--\>\r\n    <\!--<td><input type="text" name="firstname" value="" placeHolder=""--\>\r\n               <\!--data-dojo-type="dijit/form/TextBox"   intermediateChanges="true"--\>\r\n               <\!--data-dojo-props="trim:true, propercase:false" id="bondYieldY1"  onKeyUp="if(isNaN(value))execCommand(\'undo\')" onafterpaste="if(isNaN(value))execCommand(\'undo\')"/>--\>\r\n    <\!--</td>--\>\r\n    <\!--<td>\u884c\u6743\u6536\u76ca\u7387_\u590d\u5229</td>--\>\r\n    <\!--<td><input type="text" name="firstname" value="" placeHolder=""--\>\r\n               <\!--data-dojo-type="dijit/form/TextBox"   intermediateChanges="true"--\>\r\n               <\!--data-dojo-props="trim:true, propercase:false" id="bondYieldY5XQ"  onKeyUp="if(isNaN(value))execCommand(\'undo\')" onafterpaste="if(isNaN(value))execCommand(\'undo\')" />--\>\r\n    <\!--</td>--\>\r\n<\!--</tr>--\>\r\n<\!--<tr>--\>\r\n    <\!--<td>\u5230\u671f\u9ea6\u6c0f\u4e45\u671f</td>--\>\r\n    <\!--<td><label  id="macaulayDuration1"></label></td>--\>\r\n    <\!--<td>\u884c\u6743\u9ea6\u6c0f\u4e45\u671f</td>--\>\r\n    <\!--<td><label  id="macaulayDuration1XQ"></label></td>--\>\r\n<\!--</tr>--\>\r\n<tr>\r\n    <td>\u5230\u671f\u4fee\u6b63\u4e45\u671f</td>\r\n    <td><label  id="macaulayDuration2"></label></td>\r\n    <td>\u884c\u6743\u4fee\u6b63\u4e45\u671f</td>\r\n    <td><label  id="macaulayDuration2XQ"></label></td>\r\n</tr>\r\n<tr>\r\n    <td>\u5230\u671f\u51f8\u6027</td>\r\n    <td><label  id="convexity"></label></td>\r\n    <td>\u884c\u6743\u51f8\u6027</td>\r\n    <td><label  id="convexityXQ"></label></td>\r\n</tr>\r\n\r\n<tr>\r\n    <td>\u5230\u671f\u57fa\u70b9\u4ef7\u503c(\u5143)</td>\r\n    <td><label  id="pointValue"></label></td>\r\n    <td >\u884c\u6743\u5229\u5dee\u57fa\u70b9\u4ef7\u503c(\u5143)</td>\r\n    <td ><label  id="pointValueXQ"></label></td>\r\n</tr>\r\n',
"url:bond/bondMarket/template/fixedRight_A.html":'<colgroup>\r\n   <col style="width:30%; text-align: left;"/>\r\n    <col style="width:20%; text-align: left;"/>\r\n    <col style="width:30%; text-align: left;"/>\r\n    <col style="width:20%; text-align: left;"/>\r\n</colgroup>\r\n\r\n<tr>\r\n    <td>\u4ea4\u6613\u65e5</td>\r\n    <td class="width_ctrl"><input type="text" data-dojo-attach-point="tradeDate" class="font_trl" id="tradeDate_A"  value="20130530" data-dojo-type="dijit/form/DateTextBox"\r\n                           required="true"    />\r\n    </td>\r\n    <td>\u7ed3\u7b97\u65b9\u5f0f</td>\r\n    <td>\r\n        <div id="playStyle_A" class="width_ctrl2">\r\n\r\n        </div>\r\n        <\!--<select data-dojo-type="dijit/form/ComboBox" id="playStyle_A" class="width_ctrl2"--\>\r\n                <\!--style="background-color: #000000;color:#FF8020;float:right; width: 100%;height: 100%"--\>\r\n                <\!--data-dojo-props="readonly:\'readonly\'" data-dojo-attach-point="a">--\>\r\n            <\!--<option>T+1</option>--\>\r\n            <\!--<option>T+0</option>--\>\r\n        <\!--</select>--\>\r\n    </td>\r\n\r\n</tr>\r\n<tr>\r\n    <td>\u7ed3\u7b97\u65e5</td>\r\n    <td><label  id="playDay_A"></label>\r\n    </td>\r\n    <td>\u5e94\u8ba1\u5229\u606f</td>\r\n    <td><label  id="bondAI_A"></label></td>\r\n</tr>\r\n<tr>\r\n    <td>\u51c0\u4ef7</td>\r\n    <td><input type="text"  value="" placeHolder=""\r\n               data-dojo-type="dijit/form/TextBox"   intermediateChanges="true"\r\n               data-dojo-props="trim:true, propercase:false" id="pv_A"  onKeyUp="if(isNaN(value))execCommand(\'undo\')" onafterpaste="if(isNaN(value))execCommand(\'undo\')" />\r\n    </td>\r\n    <td>\u5168\u4ef7</td>\r\n    <td><input type="text"  value="" placeHolder=""\r\n                          data-dojo-type="dijit/form/TextBox"   intermediateChanges="true"\r\n                          data-dojo-props="trim:true, propercase:false" id="fv_A"   onKeyUp="if(isNaN(value))execCommand(\'undo\')" onafterpaste="if(isNaN(value))execCommand(\'undo\')"/>\r\n    </td>\r\n</tr>\r\n<tr>\r\n    <td>\u5230\u671f\u6536\u76ca\u7387(%)</td>\r\n    <td><input type="text"  value="" placeHolder=""\r\n               data-dojo-type="dijit/form/TextBox"   intermediateChanges="true"\r\n               data-dojo-props="trim:true, propercase:false" id="bondYieldY4_A"   onKeyUp="if(isNaN(value))execCommand(\'undo\')" onafterpaste="if(isNaN(value))execCommand(\'undo\')"/>\r\n    </td>\r\n    <td>\u884c\u6743\u6536\u76ca\u7387(%)</td>\r\n    <td><input type="text"  value="" placeHolder=""\r\n               data-dojo-type="dijit/form/TextBox"   intermediateChanges="true"\r\n               data-dojo-props="trim:true, propercase:false" id="bondYieldY8XQ_A"  onKeyUp="if(isNaN(value))execCommand(\'undo\')" onafterpaste="if(isNaN(value))execCommand(\'undo\')"/>\r\n    </td>\r\n</tr>\r\n<\!--<tr>--\>\r\n    <\!--<td>\u5230\u671f\u6536\u76ca\u7387_\u590d\u5229</td>--\>\r\n    <\!--<td><input type="text"  value="" placeHolder=""--\>\r\n               <\!--data-dojo-type="dijit/form/TextBox"   intermediateChanges="true"--\>\r\n               <\!--data-dojo-props="trim:true, propercase:false" id="bondYieldY1_A"  onKeyUp="if(isNaN(value))execCommand(\'undo\')" onafterpaste="if(isNaN(value))execCommand(\'undo\')"/>--\>\r\n    <\!--</td>--\>\r\n    <\!--<td>\u884c\u6743\u6536\u76ca\u7387_\u590d\u5229</td>--\>\r\n    <\!--<td><input type="text" value="" placeHolder=""--\>\r\n               <\!--data-dojo-type="dijit/form/TextBox"   intermediateChanges="true"--\>\r\n               <\!--data-dojo-props="trim:true, propercase:false" id="bondYieldY5XQ_A"  onKeyUp="if(isNaN(value))execCommand(\'undo\')" onafterpaste="if(isNaN(value))execCommand(\'undo\')" />--\>\r\n    <\!--</td>--\>\r\n<\!--</tr>--\>\r\n<\!--<tr>--\>\r\n    <\!--<td>\u5230\u671f\u9ea6\u6c0f\u4e45\u671f</td>--\>\r\n    <\!--<td><label  id="macaulayDuration1_A"></label></td>--\>\r\n    <\!--<td>\u884c\u6743\u9ea6\u6c0f\u4e45\u671f</td>--\>\r\n    <\!--<td><label  id="macaulayDuration1XQ_A"></label></td>--\>\r\n<\!--</tr>--\>\r\n<tr>\r\n    <td>\u5230\u671f\u4fee\u6b63\u4e45\u671f</td>\r\n    <td><label  id="macaulayDuration2_A"></label></td>\r\n    <td>\u884c\u6743\u4fee\u6b63\u4e45\u671f</td>\r\n    <td><label  id="macaulayDuration2XQ_A"></label></td>\r\n</tr>\r\n<tr>\r\n    <td>\u5230\u671f\u51f8\u6027</td>\r\n    <td><label  id="convexity_A"></label></td>\r\n    <td>\u884c\u6743\u51f8\u6027</td>\r\n    <td><label  id="convexityXQ_A"></label></td>\r\n</tr>\r\n<tr>\r\n    <td>\u5230\u671f\u57fa\u70b9\u4ef7\u503c(\u5143)</td>\r\n    <td><label  id="pointValue_A"></label></td>\r\n    <td>\u884c\u6743\u5229\u5dee\u57fa\u70b9\u4ef7\u503c(\u5143)</td>\r\n    <td><label  id="pointValueXQ_A"></label></td>\r\n</tr>',
"url:bond/bondMarket/template/floatRight.html":'<colgroup>\r\n    <col style="width:32%; text-align: left;"/>\r\n    <col style="width:18%; text-align: left;"/>\r\n    <col style="width:32%; text-align: left;"/>\r\n    <col style="width:18%; text-align: left;"/>\r\n</colgroup>\r\n<\!--<div style=" overflow: hidden">--\>\r\n<tr>\r\n    <td>\u4ea4\u6613\u65e5</td>\r\n    <td class="width_ctrl"><input type="text" id="tradeDate" value="20130531" class="font_trl" data-dojo-type="dijit/form/DateTextBox"\r\n               required="true"/>\r\n    </td>\r\n    <td>\u7ed3\u7b97\u65b9\u5f0f</td>\r\n    <td>\r\n        <div id="playStyle" style=" overflow: hidden">\r\n\r\n        </div>\r\n        <\!--<select data-dojo-type="dijit/form/ComboBox" id="playStyle" class="width_ctrl2"--\>\r\n                <\!--style="background-color: #000000;color:#FF8020;float:right; "--\>\r\n                <\!--data-dojo-props="readonly:\'readonly\'" data-dojo-attach-point="a">--\>\r\n            <\!--<option>T+1</option>--\>\r\n            <\!--<option>T+0</option>--\>\r\n        <\!--</select>--\>\r\n    </td>\r\n\r\n</tr>\r\n<tr>\r\n    <td>\u7ed3\u7b97\u65e5</td>\r\n    <td><label id="playDay"></label>\r\n    <td>\u5e94\u8ba1\u5229\u606f</td>\r\n    <td><label id="bondAI"></label></td>\r\n    </td>\r\n</tr>\r\n<tr>\r\n\r\n    <td>\u51c0\u4ef7</td>\r\n    <td><input type="text" name="firstname" value="" placeHolder=""\r\n               data-dojo-type="dijit/form/TextBox" intermediateChanges="true"\r\n               data-dojo-props="trim:true, propercase:false" id="pv"  onKeyUp="if(isNaN(value))execCommand(\'undo\')" onafterpaste="if(isNaN(value))execCommand(\'undo\')"/>\r\n    </td>\r\n    <td>\u5168\u4ef7</td>\r\n    <td><input type="text" name="firstname" value="" placeHolder=""\r\n               data-dojo-type="dijit/form/TextBox" intermediateChanges="true"\r\n               data-dojo-props="trim:true, propercase:false" id="fv"  onKeyUp="if(isNaN(value))execCommand(\'undo\')" onafterpaste="if(isNaN(value))execCommand(\'undo\')"/>\r\n    </td>\r\n</tr>\r\n<tr>\r\n    <td>\u5230\u671f\u6536\u76ca\u7387(%)</td>\r\n    <td><input type="text" name="firstname" value="" placeHolder=""\r\n               data-dojo-type="dijit/form/TextBox" intermediateChanges="true"\r\n               data-dojo-props="trim:true, propercase:false" id="bondYieldY4"  onKeyUp="if(isNaN(value))execCommand(\'undo\')" onafterpaste="if(isNaN(value))execCommand(\'undo\')"/>\r\n    </td>\r\n    <td>\u884c\u6743\u6536\u76ca\u7387(%)</td>\r\n    <td><input type="text" name="firstname" value="" placeHolder=""\r\n               data-dojo-type="dijit/form/TextBox" intermediateChanges="true"\r\n               data-dojo-props="trim:true, propercase:false" id="bondYieldY8XQ"  onKeyUp="if(isNaN(value))execCommand(\'undo\')" onafterpaste="if(isNaN(value))execCommand(\'undo\')"/>\r\n    </td>\r\n</tr>\r\n<\!--<tr>--\>\r\n    <\!--<td>\u5230\u671f\u6536\u76ca\u7387_\u590d\u5229</td>--\>\r\n    <\!--<td><input type="text" name="firstname" value="" placeHolder=""--\>\r\n               <\!--data-dojo-type="dijit/form/TextBox" intermediateChanges="true"--\>\r\n               <\!--data-dojo-props="trim:true, propercase:false" id="bondYieldY3"  onKeyUp="if(isNaN(value))execCommand(\'undo\')" onafterpaste="if(isNaN(value))execCommand(\'undo\')"/>--\>\r\n    <\!--</td>--\>\r\n    <\!--<td>\u884c\u6743\u6536\u76ca\u7387_\u590d\u5229</td>--\>\r\n    <\!--<td><input type="text" name="firstname" value="" placeHolder=""--\>\r\n               <\!--data-dojo-type="dijit/form/TextBox" intermediateChanges="true"--\>\r\n               <\!--data-dojo-props="trim:true, propercase:false" id="bondYieldY5XQ"  onKeyUp="if(isNaN(value))execCommand(\'undo\')" onafterpaste="if(isNaN(value))execCommand(\'undo\')"/>--\>\r\n    <\!--</td>--\>\r\n<\!--</tr>--\>\r\n<\!--<tr>--\>\r\n    <\!--<td>\u6709\u6548\u5229\u5dee(BP)_\u590d\u5229</td>--\>\r\n    <\!--<td><input type="text" name="firstname" value="" placeHolder=""--\>\r\n               <\!--data-dojo-type="dijit/form/TextBox" intermediateChanges="true"--\>\r\n               <\!--data-dojo-props="trim:true, propercase:false" id="interestMarginBP"  onKeyUp="if(isNaN(value))execCommand(\'undo\')" onafterpaste="if(isNaN(value))execCommand(\'undo\')"/>--\>\r\n    <\!--</td>--\>\r\n    <\!--<td>\u884c\u6743\u6709\u6548\u5229\u5dee(BP)_\u590d\u5229</td>--\>\r\n    <\!--<td><label id="interestMarginBPY8"></label></td>--\>\r\n\r\n<\!--</tr>--\>\r\n<tr>\r\n    <td>\u5230\u671f\u5229\u5dee\u4e45\u671f</td>\r\n    <td><label id="interestRateDuration2"></label>\r\n    </td>\r\n    <td> \u884c\u6743\u5229\u5dee\u4e45\u671f</td>\r\n    <td><label id="interestRateDuration1XQ"></label></td>\r\n</tr>\r\n<tr>\r\n    <td>\u5230\u671f\u5229\u7387\u4e45\u671f</td>\r\n    <td>\r\n        <label id="interestRateDuration1"></label>\r\n    </td>\r\n    <td>\u884c\u6743\u5229\u7387\u4e45\u671f</td>\r\n    <td><label id="interestRateDuration2XQ"></label></td>\r\n\r\n</tr>\r\n<tr>\r\n    <td>\u5230\u671f\u5229\u5dee\u51f8\u6027</td>\r\n    <td><label id="interestRateConvexity1"></label>\r\n    </td>\r\n    <td> \u884c\u6743\u5229\u5dee\u51f8\u6027</td>\r\n    <td><label id="interestRateConvexity1XQ"></label></td>\r\n\r\n</tr>\r\n\r\n<tr>\r\n    <td>\u5230\u671f\u5229\u7387\u51f8\u6027</td>\r\n    <td><label id="interestRateConvexity2"></label>\r\n    </td>\r\n    <td> \u884c\u6743\u5229\u7387\u51f8\u6027</td>\r\n    <td><label id="interestRateConvexity2XQ"></label></td>\r\n</tr>\r\n<tr>\r\n    <td>\u5230\u671f\u5229\u5dee\u57fa\u70b9\u4ef7\u503c(\u5143)</td>\r\n    <td><label id="pointValue"></label>\r\n    </td>\r\n    <td>\u884c\u6743\u5229\u5dee\u57fa\u70b9\u4ef7\u503c(\u5143)</td>\r\n    <td><label id="pointValueXQ"></label></td>\r\n</tr>\r\n<\!--</div>--\>',
"url:bond/bondMarket/template/floatRight_A.html":'<colgroup>\r\n    <col style="width:32%; text-align: left;"/>\r\n    <col style="width:18%; text-align: left;"/>\r\n    <col style="width:32%; text-align: left;"/>\r\n    <col style="width:15%; text-align: left;"/>\r\n</colgroup>\r\n\r\n<tr>\r\n    <td>\u4ea4\u6613\u65e5</td>\r\n    <td class="width_ctrl"><input type="text" id="tradeDate_A" value="20130531" class="font_trl" data-dojo-type="dijit/form/DateTextBox"\r\n               required="true"/>\r\n    </td>\r\n    <td>\u7ed3\u7b97\u65b9\u5f0f</td>\r\n    <td>\r\n        <div id="playStyle_A" style=" overflow: hidden">\r\n\r\n        </div>\r\n        <\!--<select data-dojo-type="dijit/form/ComboBox" id="playStyle_A" class="width_ctrl2"--\>\r\n                <\!--style="background-color: #000000;color:#FF8020;float:right; "--\>\r\n                <\!--data-dojo-props="readonly:\'readonly\'" data-dojo-attach-point="a">--\>\r\n            <\!--<option>T+1</option>--\>\r\n            <\!--<option>T+0</option>--\>\r\n        <\!--</select>--\>\r\n    </td>\r\n\r\n</tr>\r\n<tr>\r\n    <td>\u7ed3\u7b97\u65e5</td>\r\n    <td><label id="playDay_A"></label>\r\n    </td>\r\n    <td>\u5e94\u8ba1\u5229\u606f</td>\r\n    <td><label id="bondAI_A"></label></td>\r\n</tr>\r\n<tr>\r\n    <td>\u51c0\u4ef7</td>\r\n    <td><input type="text" name="firstname" value="" placeHolder=""\r\n               data-dojo-type="dijit/form/TextBox" intermediateChanges="true"\r\n               data-dojo-props="trim:true, propercase:false" id="pv_A"onKeyUp="if(isNaN(value))execCommand(\'undo\')" onafterpaste="if(isNaN(value))execCommand(\'undo\')"/>\r\n    </td>\r\n    <td>\u5168\u4ef7</td>\r\n    <td><input type="text" name="firstname" value="" placeHolder=""\r\n               data-dojo-type="dijit/form/TextBox" intermediateChanges="true"\r\n               data-dojo-props="trim:true, propercase:false" id="fv_A" onKeyUp="if(isNaN(value))execCommand(\'undo\')" onafterpaste="if(isNaN(value))execCommand(\'undo\')"/></td>\r\n</tr>\r\n<tr>\r\n    <td>\u5230\u671f\u6536\u76ca\u7387(%)</td>\r\n    <td><input type="text" name="firstname" value="" placeHolder=""\r\n               data-dojo-type="dijit/form/TextBox" intermediateChanges="true"\r\n               data-dojo-props="trim:true, propercase:false" id="bondYieldY4_A" onKeyUp="if(isNaN(value))execCommand(\'undo\')" onafterpaste="if(isNaN(value))execCommand(\'undo\')"/>\r\n    </td>\r\n    <td>\u884c\u6743\u6536\u76ca\u7387(%)</td>\r\n    <td><input type="text" name="firstname" value="" placeHolder=""\r\n               data-dojo-type="dijit/form/TextBox" intermediateChanges="true"\r\n               data-dojo-props="trim:true, propercase:false" id="bondYieldY8XQ_A" onKeyUp="if(isNaN(value))execCommand(\'undo\')" onafterpaste="if(isNaN(value))execCommand(\'undo\')"/>\r\n    </td>\r\n</tr>\r\n<\!--<tr>--\>\r\n    <\!--<td>\u5230\u671f\u6536\u76ca\u7387_\u590d\u5229</td>--\>\r\n    <\!--<td><input type="text" name="firstname" value="" placeHolder=""--\>\r\n               <\!--data-dojo-type="dijit/form/TextBox" intermediateChanges="true"--\>\r\n               <\!--data-dojo-props="trim:true, propercase:false" id="bondYieldY3_A" onKeyUp="if(isNaN(value))execCommand(\'undo\')" onafterpaste="if(isNaN(value))execCommand(\'undo\')"/>--\>\r\n    <\!--</td>--\>\r\n    <\!--<td>\u884c\u6743\u6536\u76ca\u7387_\u590d\u5229</td>--\>\r\n    <\!--<td><input type="text" name="firstname" value="" placeHolder=""--\>\r\n               <\!--data-dojo-type="dijit/form/TextBox" intermediateChanges="true"--\>\r\n               <\!--data-dojo-props="trim:true, propercase:false" id="bondYieldY5XQ_A" onKeyUp="if(isNaN(value))execCommand(\'undo\')" onafterpaste="if(isNaN(value))execCommand(\'undo\')"/>--\>\r\n    <\!--</td>--\>\r\n<\!--</tr>--\>\r\n<\!--<tr>--\>\r\n    <\!--<td>\u6709\u6548\u5229\u5dee(BP)_\u590d\u5229</td>--\>\r\n    <\!--<td><input type="text" name="firstname" value="" placeHolder=""--\>\r\n               <\!--data-dojo-type="dijit/form/TextBox" intermediateChanges="true"--\>\r\n               <\!--data-dojo-props="trim:true, propercase:false" id="interestMarginBP_A" onKeyUp="if(isNaN(value))execCommand(\'undo\')" onafterpaste="if(isNaN(value))execCommand(\'undo\')"/>--\>\r\n    <\!--</td>--\>\r\n    <\!--<td>\u884c\u6743\u6709\u6548\u5229\u5dee(BP)_\u590d\u5229</td>--\>\r\n    <\!--<td><label id="interestMarginBPY8_A"></label></td>--\>\r\n\r\n<\!--</tr>--\>\r\n<tr>\r\n    <td>\u5230\u671f\u5229\u5dee\u4e45\u671f</td>\r\n    <td><label id="interestRateDuration2_A"></label>\r\n    </td>\r\n    <td> \u884c\u6743\u5229\u5dee\u4e45\u671f</td>\r\n    <td><label id="interestRateDuration1XQ_A"></label>\r\n    </td>\r\n</tr>\r\n<tr>\r\n    <td>\u5230\u671f\u5229\u7387\u4e45\u671f</td>\r\n    <td>\r\n        <label id="interestRateDuration1_A"></label>\r\n    </td>\r\n    <td>\u884c\u6743\u5229\u7387\u4e45\u671f</td>\r\n    <td><label id="interestRateDuration2XQ_A"></label>\r\n    </td>\r\n</tr>\r\n<tr>\r\n    <td>\u5230\u671f\u5229\u5dee\u51f8\u6027</td>\r\n    <td><label id="interestRateConvexity1_A"></label>\r\n    </td>\r\n    <td> \u884c\u6743\u5229\u5dee\u51f8\u6027</td>\r\n    <td><label id="interestRateConvexity1XQ_A"></label></td>\r\n</tr>\r\n\r\n<tr>\r\n    <td>\u5230\u671f\u5229\u7387\u51f8\u6027</td>\r\n    <td><label id="interestRateConvexity2_A"></label>\r\n    </td>\r\n    <td> \u884c\u6743\u5229\u7387\u51f8\u6027</td>\r\n    <td><label id="interestRateConvexity2XQ_A"></label></td>\r\n</tr>\r\n<tr>\r\n    <td>\u5230\u671f\u5229\u5dee\u57fa\u70b9\u4ef7\u503c(\u5143)</td>\r\n    <td><label id="pointValue_A"></label>\r\n    </td>\r\n    <td>\u884c\u6743\u5229\u5dee\u57fa\u70b9\u4ef7\u503c(\u5143)</td>\r\n    <td><label id="pointValueXQ_A"></label></td>\r\n</tr>\r\n',
"url:bond/bondMarket/template/reCreateGrid05.html":'${container_grid05}\r\n\r\n<\!--<div id="container_grid05" jsId="grid05"  ></div>--\>',"bond/bondMarket/public/ContextMenu":function(){define("dojo/on,dojo/mouse,dojo/keys,dojo/_base/declare,dojox/customfig/actions/CustomfigAction,dojo/_base/lang,dojo/_base/array,dojo/dom,dojo/dom-geometry,dojox/customfig/utils".split(","),function(w,l,y,m,f,e,a){return m("bond.bondMarket.public.ContextMenu",f,{constructor:function(a,b){this.plot=a;this.addMenu(b.domId);
this.klinekline=b.klineKline;this._handles=[];this.connect();this.plot.canvas.tabIndex=1;this.intervalSelection=b.intervalSelection;this.selectPrice=b.selectPrice;this.selectDayLine=b.selectDayLine},curcode:"",_disconnectHandles:function(){a.forEach(this._handles,function(a){a.remove()});this._handles=[]},addMenu:function(a){var b=this;require(["dijit/Menu","dijit/MenuItem","dijit/MenuSeparator","dijit/PopupMenuItem","dijit/CheckedMenuItem"],function(f,g,c,i){var c=new f({targetNodeIds:[a]}),h=new f({parentMenu:c});
h.addChild(new g({label:"\u51c0\u4ef7",onClick:e.hitch(b,b.switchPriceTyp,1,"\u51c0\u4ef7")}));h.addChild(new g({label:"\u5168\u4ef7",onClick:e.hitch(b,b.switchPriceTyp,2,"\u5168\u4ef7")}));h.addChild(new g({label:"\u6536\u76ca\u7387",onClick:e.hitch(b,b.switchPriceTyp,3,"\u6536\u76ca\u7387")}));c.addChild(new i({label:"\u4ef7\u683c\u7c7b\u578b",popup:h}));h=new f({parentMenu:c});h.addChild(new g({label:"\u65e5\u7ebf",onClick:e.hitch(b,b.switchTimeType,1,"\u65e5\u7ebf")}));c.addChild(new i({label:"\u65f6\u95f4\u9891\u5ea6",
popup:h}));f=new f({parentMenu:c});f.addChild(new g({label:"\u6700\u8fd1\u4e00\u4e2a\u6708",onClick:e.hitch(b,b.switchInterval,"1M","\u6700\u8fd1\u4e00\u4e2a\u6708")}));f.addChild(new g({label:"\u6700\u8fd1\u4e09\u4e2a\u6708",onClick:e.hitch(b,b.switchInterval,"3M","\u6700\u8fd1\u4e09\u4e2a\u6708")}));f.addChild(new g({label:"\u6700\u8fd16\u4e2a\u6708",onClick:e.hitch(b,b.switchInterval,"6M","\u6700\u8fd16\u4e2a\u6708")}));f.addChild(new g({label:"\u5e74\u521d\u81f3\u4eca",onClick:e.hitch(b,b.switchInterval,
"0M","\u5e74\u521d\u81f3\u4eca")}));f.addChild(new g({label:"\u6700\u8fd11\u5e74",onClick:e.hitch(b,b.switchInterval,"1Y","\u6700\u8fd11\u5e74")}));f.addChild(new g({label:"\u6700\u8fd12\u5e74",onClick:e.hitch(b,b.switchInterval,"2Y","\u6700\u8fd12\u5e74")}));f.addChild(new g({label:"\u6700\u8fd13\u5e74",onClick:e.hitch(b,b.switchInterval,"3Y","\u6700\u8fd13\u5e74")}));f.addChild(new g({label:"\u4e0a\u5e02\u81f3\u4eca",onClick:e.hitch(b,b.switchInterval,"maxY","\u4e0a\u5e02\u81f3\u4eca")}));b.intervalType=
f;c.addChild(new i({label:"\u533a\u95f4\u9009\u62e9",popup:f}));c.addChild(new g({label:"\u52a0\u5165\u81ea\u9009\u80a1",parentMenu:c,onClick:e.hitch(b,b.addSelfBlock)}));c.addChild(new g({label:"\u590d\u5236\u6570\u636e",parentMenu:c,onClick:e.hitch(b,b.reSaveData)}));c.startup();b.pMenu=c})},addSelfBlock:function(){var a;self.curcode=a=this.klinekline.getCodes().join();window.external&&window.external.addSelfBlock(2,a)},switchPriceTyp:function(a,b){this.selectPrice.set("value",b)},switchTimeType:function(a,
b){this.selectDayLine.set("value",b)},switchInterval:function(a,b){this.intervalSelection.set("value",b)},reSaveData:function(){this.plot.saveAsExcel()},switchCrossCursor:function(){}})})},"bond/bondMarket/public/ContextMenuTrend":function(){define("dojo/on,dojo/mouse,dojo/keys,dojo/_base/declare,dojox/customfig/actions/CustomfigAction,dojo/_base/lang,dojo/_base/array,dojo/dom,dojo/dom-geometry,dojox/customfig/utils".split(","),function(w,l,y,m,f,e,a){return m("bond.bondMarket.public.ContextMenu",
f,{constructor:function(a,b){this.plot=a;this.addMenu(b.domId);this.minSharingPlans=b.minSharingPlans;this.Sprice=b.Sprice;this._handles=[];this.connect();this.plot.canvas.tabIndex=1},curcode:"",_disconnectHandles:function(){a.forEach(this._handles,function(a){a.remove()});this._handles=[]},addMenu:function(a){var b=this;require(["dijit/Menu","dijit/MenuItem","dijit/MenuSeparator","dijit/PopupMenuItem"],function(f,g,c,i){c=new f({targetNodeIds:[a]});f=new f({parentMenu:c});f.addChild(new g({label:"\u51c0\u4ef7",
onClick:e.hitch(b,b.switchPriceTyp,1,"\u51c0\u4ef7")}));f.addChild(new g({label:"\u5168\u4ef7",onClick:e.hitch(b,b.switchPriceTyp,2,"\u5168\u4ef7")}));f.addChild(new g({label:"\u6536\u76ca\u7387",onClick:e.hitch(b,b.switchPriceTyp,3,"\u6536\u76ca\u7387")}));c.addChild(new i({label:"\u4ef7\u683c\u7c7b\u578b",popup:f}));c.addChild(new g({label:"\u52a0\u5165\u81ea\u9009\u80a1",parentMenu:c,onClick:e.hitch(b,b.addSelfBlock)}));c.addChild(new g({label:"\u590d\u5236\u6570\u636e",parentMenu:c,onClick:e.hitch(b,
b.reSaveData)}));c.startup()})},addSelfBlock:function(){var a;self.curcode=a=this.minSharingPlans.getCodes()[0].name;window.external&&window.external.addSelfBlock(2,a)},switchPriceTyp:function(a,b){this.Sprice.set("value",b)},reSaveData:function(){this.plot.saveAsExcel()}})})},"platform/charts/view/Crosshair":function(){define("../../../dojo/_base/declare,dijit/_WidgetBase,dijit/_TemplatedMixin,dojo/_base/lang,dojo/_base/connect,dojox/customfig/utils,dojo/dom-style,dojo/dom-construct,dojo/dom-geometry,dojo/dom,dojo/cssScale".split(","),
function(w,l,y,m,f,e,a,d,b,k,g){var c=function(a,b,c,d){var e;if(a[c])return(e=a[c][b])?e=d?a[c][b-1]?a[c][b-1]:0:e:(b=d?a[c].length-2:a[c].length-1,e=a[c][b]),e},i=function(a){for(var b=0,c=0,d=a.length;c<d;c++)b+=+a[c];return b},h=function(a,b,c,d){var e=0,d=d||0;b++;a[c]&&(e=b>a[c].length?i(a[c].slice(d))/a[c].slice(d).length:i(a[c].slice(d,b))/(b-d));return e},C=function(a){return{"\u65f6\u3000\u95f4":{field:"time",fn:function(a,b,d){return(a=c(a,b,d))?e.millisecond2Date("%H:%M",a):"--"}},"\u4ef7\u3000\u683c":{field:"price",
fn:function(b,d,e){return(b=c(b,d,e))?(+b).toFixed(a):"--"}},"\u5747\u3000\u4ef7":{field:"price",fn:function(b,c,d,e){return h(b,c,d,e).toFixed(a)}},"\u6da8\u3000\u8dcc":{field:"price",fn:function(b,d,e){d=c(b,d,e);b=c(b,0,"lastclose");return d&&b?(d-b).toFixed(a):0}},"\u5e45\u3000\u5ea6":{field:"price",fn:function(a,b,d){b=c(a,b,d);a=c(a,0,"lastclose");return(b&&a?(100*(b/a-1)).toFixed(2):0)+"%"}},"\u6210\u4ea4\u91cf":{field:"volume",fn:function(a,b,d){var e=c(a,b,d),a=c(a,b,d,!0);return e&&a?e-
a:0}}}},p=function(a){return{"\u65f6\u3000\u95f4":{field:"time",fn:function(a,b,d){return(a=c(a,b,d))?a:"--"}},"\u5f00\u76d8\u4ef7":{field:"open",fn:function(b,d,e){return(b=c(b,d,e))?(+b).toFixed(a):"--"}},"\u6700\u9ad8\u4ef7":{field:"high",fn:function(b,d,e){return(b=c(b,d,e))?(+b).toFixed(a):"--"}},"\u6700\u4f4e\u4ef7":{field:"low",fn:function(b,d,e){return(b=c(b,d,e))?(+b).toFixed(a):"--"}},"\u6536\u76d8\u4ef7":{field:"close",fn:function(b,d,e){return(b=c(b,d,e))?(+b).toFixed(a):"--"}},"\u5747\u3000\u4ef7":{field:"close",
fn:function(b,c,d,e){return h(b,c,d,e).toFixed(a)}},"\u6da8\u3000\u8dcc":{field:"close",fn:function(b,d,e){var f=c(b,d,e),b=0>d-1?c(b,d,"open"):c(b,d,e,!0);return Number(f)&&b?(f-b).toFixed(a):0}},"\u6210\u4ea4\u91cf":{field:"volume",fn:function(a,b,d,e){a=Number(c(a,b,d));return 1E4<a&&1E8>a?(a/1E4).toFixed(e)+"\u4e07":1E8<a?(a/1E8).toFixed(e||2)+"\u4ebf":isNaN(a)?"--":a.toFixed(e)}},"\u6210\u4ea4\u989d":{field:"amount",fn:function(b,d,e){var b=c(b,d,e),f;f=parseInt(b);b=""+f;1E4<(1E8>f)&&(b=(f/
1E4).toFixed(a)+"\u4e07");1E8<f&&(b=(f/1E8).toFixed(a)+"\u4ebf");return b}}}},o={time:"\u65f6\u3000\u95f4",open:"\u5f00\u76d8\u4ef7",high:"\u6700\u9ad8\u4ef7",low:"\u6700\u4f4e\u4ef7",close:"\u6536\u76d8\u4ef7",average:"\u5747\u3000\u4ef7",updown:"\u6da8\u3000\u8dcc",volume:"\u6210\u4ea4\u91cf",amount:"\u6210\u4ea4\u989d",price:"\u4ef7\u3000\u683c"},u=w(null,{tipKeyValue:null,tooltipTemplateString:"<span>{1}</span>:<span>{2}</span><br>",defaultOptions:{fixNum:3},constructor:function(a,b,c){this.mLabel=
a;this.plot=b;a=m.mixin(this.defaultOptions,c?c.options:{});this.tipKeyValue=this.plot.csizeRate?p(a.fixNum):C(a.fixNum);if(c.keys){for(var a=this.tipKeyValue,c=c.keys,d=0,e=c.length,f={};d<e;d++)b=c[d],(b=o[b])&&(f[b]=a[b]);this.tipKeyValue=f}},isShow:!1,behave:function(c){var d=this.plot,e=d.kwArgs.margins,f=d.offsets,n=e.t+f.t,e=e.l+f.l,p=d.plotHeight-f.t-f.b,f=d.plotWidth-f.l-f.r,r=d.main,h=d.mainIndicators,u=d.indicators,i,o,m,l;i=b.position(k.byId(d.domNode),!1);d=Math.round(c.pageX-i.x);c=
Math.round(c.pageY-i.y);if(c>=n&&c<=n+p&&d>=e&&d<=e+f){if(this.toggle()){a.set(this.mLabel,{top:g.scale(n,"y")+"px"});if(r&&(n=r.yStart,p=n+r.height,c>=n&&c<=p&&(this.setToolTip(r,d),n=b.getMarginBox(this.mLabel,!1),this.setTooltipPos(d,e,f,n.w),h)))for(var v in h)if(i=h[v],n=i.yStart,xStart=i.xStart,p=n+i.height,m=i.options.prepareDistance,o=i.csize,l=i.cwidth,o=Math.ceil((d-xStart-m-o)/l),c>=n&&c<=p){this.setToolTip(i,d);n=b.getMarginBox(this.mLabel,!1);this.setTooltipPos(d,e,f,n.w);o=i.getStart()?
i.getStart()+o:o;i.renderTxt&&i.renderTxt(o);return}if(!r&&h)for(v in h)if(r=h[v],n=r.yStart,p=n+r.height,c>=n&&c<=p){this.setToolTip(r,d);n=b.getMarginBox(this.mLabel,!1);this.setTooltipPos(d,e,f,n.w);return}if(u)for(v in u)if(r=u[v],n=r.yStart,xStart=r.xStart,p=n+r.height,m=r.options.prepareDistance,o=r.csize,l=r.cwidth,o=Math.ceil((d-xStart-m-o)/l),c>=n&&c<=p){this.setToolTip(r,d);n=b.getMarginBox(this.mLabel,!1);this.setTooltipPos(d,e,f,n.w);o=r.getStart()?r.getStart()+o:o;r.renderTxt&&r.renderTxt(o);
break}}}else a.set(this.mLabel,{display:"none"})},setToolTip:function(a,b){var d=a.xStart,c=a.cwidth,f=a.csize;e.array2toarray1(a.xLabels);var g=this.plot,n=g.getData(),p=a.options.prepareDistance,i=this.tooltipTemplateString,d=g.main.csizeRate?Math.ceil((b-d-p-f)/c)+g.main.getStart():Math.ceil((b-d-p-f)/c),c=[],p=this.plot.theme.crosshair.tooltip,h;for(h in this.tipKeyValue){a=this.tipKeyValue[h];f=i.replace(/\{1\}/g,h);if(/\u5747\u4ef7/g.test(h))var u=g.main.getStart?g.main.getStart():0,f=f.replace(/\{2\}/g,
a.fn(n,d,a.field,u));else f=f.replace(/\{2\}/g,a.fn(n,d,a.field)),/\u65f6\u95f4/g.test(h)&&(f='<span style="color:'+p.time.color+";font-weight:"+p.time["font-weight"]+'">'+f+"</span>");c.push(f)}this.mLabel.innerHTML=c.join("")},setTooltipPos:function(b,d,c,e){b<=d+c/2?a.set(this.mLabel,{left:g.scale(d+c-e,"x")+"px"}):a.set(this.mLabel,{left:g.scale(d,"x")+"px"});a.set(this.mLabel,{right:"auto"})},toggle:function(){a.set(this.mLabel,{"-webkit-transform-origin":"left top","-webkit-transform":"scale("+
1/g.getScaleX()+","+1/g.getScaleY()+")"});if(this.isShow)return a.set(this.mLabel,{display:""}),!0;a.set(this.mLabel,{display:"none"});return!1}}),n=w(null,{constructor:function(a,b,d,c,e){this.vLine=a;this.hLine=b;this.vLabel=d;this.hLabel=c;this.plot=e},isShow:!1,toggle:function(){a.set(this.hLabel,{display:""});a.set(this.vLabel,{display:""});a.set(this.hLabel,{"-webkit-transform-origin":"left top","-webkit-transform":"scale("+1/g.getScaleX()+","+1/g.getScaleY()+")"});a.set(this.vLabel,{"-webkit-transform-origin":"left top",
"-webkit-transform":"scale("+1/g.getScaleX()+","+1/g.getScaleY()+")"});a.set(this.hLine,{"-webkit-transform-origin":"left top","-webkit-transform":"scale("+1/g.getScaleX()+","+1/g.getScaleY()+")"});a.set(this.vLine,{"-webkit-transform-origin":"left top","-webkit-transform":"scale("+1/g.getScaleX()+","+1/g.getScaleY()+")"});if(this.isShow)return a.set(this.hLine,{display:""}),a.set(this.vLine,{display:""}),!0;a.set(this.hLine,{display:"none"});a.set(this.vLine,{display:"none"});return!1},behave:function(d){var c=
this.plot,e=c.kwArgs.margins,f=c.offsets,n=e.t+f.t,e=e.l+f.l,p=c.plotHeight-f.t-f.b,f=c.plotWidth-f.l-f.r,h=c.main,i=c.mainIndicators,u=c.indicators,o,m,l;l=b.position(k.byId(c.domNode),!0);c=Math.round(d.pageX-l.x);d=Math.round(d.pageY-l.y);if(d>=n&&d<=n+p&&c>=e&&c<=e+f){this.toggle()&&(a.set(this.hLine,{width:f+"px",left:g.scale(e,"x")+"px",top:g.scale(d,"y")+"px"}),a.set(this.vLine,{height:p+"px",top:g.scale(n,"y")+"px",left:g.scale(c,"x")+"px"}));if(h&&(o=h.yStart,l=o+h.height,m=h.yAxisScale,
d>=o&&d<=l))h.baseValue?(m=h.baseValue[0],o=m*h.ymin,m*=h.ymax,m=h.height/(m-o)):o=h.ymin,this.setXLabel(h,c),this.setYLabel(o,l,m,d,h.options.bottomSpacing||0,h.options.fixedNum);if(!h&&i)for(var w in i)h=i[w],o=h.yStart,l=o+h.height,d>=o&&d<=l&&(this.setXLabel(h,c),this.setYLabel(h.ymin,l,h.yAxisScale,d,h.options.bottomSpacing||0,h.options.fixedNum));if(u)for(w in u)h=u[w],o=h.yStart,l=o+h.height,d>=o&&d<=l&&(this.setXLabel(h,c),this.setYLabel(h.ymin,l,h.yAxisScale,d,h.options.bottomSpacing||0,
h.options.fixedNum));i=b.position(this.hLabel);w=b.position(this.vLabel);f=c-e<i.w/2?e:f-(c-e)<i.w/2?e+f-i:c-i.w/2;a.set(this.hLabel,{top:g.scale(n+p+2,"y")+"px",left:g.scale(f,"x")+"px"});a.set(this.vLabel,{left:"-3px",top:g.scale(d-w.h/2,"y")+"px",width:e+"px"})}else a.set(this.hLine,{display:"none"}),a.set(this.vLine,{display:"none"}),a.set(this.hLabel,{display:"none"}),a.set(this.vLabel,{display:"none"})},setXLabel:function(a,b){var d=a.xStart,c=a.cwidth,f=a.csize,g=e.array2toarray1(a.xLabels);
prepareDistance=a.options.prepareDistance;xline=Math.ceil((b-d-prepareDistance-f)/c);d=g[xline]||g[xline-1];"undefined"==typeof d&&(d="--/--");this.hLabel.children[0].innerHTML=d},setYLabel:function(a,b,d,c,e,f){this.vLabel.children[0].innerHTML=((b-c-e)/d+a).toFixed(f)}});return w("dojox.customfig.actions.Crosshair",[l,y],{templateString:"<div><div data-dojo-attach-point='mLabel' style='display:none;'></div><div data-dojo-attach-point='vLabel' style='display:none;'><strong data-dojo-attach-point='vLabelVal'></strong><div style ='width: 5px; height: 5px; border-top: #587eb5 2px solid; border-left: #587eb5 2px solid; position: absolute;  top: 5px; right: -4px; -webkit-transform: rotate(145deg) skew(1deg, 1deg);border-radius: 2px;'></div></div><div data-dojo-attach-point='hLabel' style='display:none;'><strong data-dojo-attach-point='hLabelVal'></strong><div style ='width: 5px; height: 5px; border-top: #587eb5 2px solid; border-left: #587eb5 2px solid; position: absolute; top: -5px; left: 45%; -webkit-transform: rotate(45deg) skew(0deg, 0deg);border-radius: 2px;'></div></div><div data-dojo-attach-point='vLine' style='display:none;'></div><div data-dojo-attach-point='hLine' style='display:none;'></div>",
plot:null,lineLabel:null,toolTip:null,constructor:function(a){this.kwArgs=a;this.plot=a.plot;this.tipKey=a.tipKey||{}},postCreate:function(){var b=this.kwArgs,c=this.plot.theme,b=this.style={tooltip:b.style?m.mixin({},c.crosshair.tooltip,b.style.tooltip):c.crosshair.tooltip,hLine:b.style?m.mixin({},c.crosshair.hLine,b.style.hLine):c.crosshair.hLine,vLine:b.style?m.mixin({},c.crosshair.vLine,b.style.vLine):c.crosshair.vLine,hLabel:b.style?m.mixin({},c.crosshair.hLabel,b.style.hLabel):c.crosshair.hLabel,
vLabel:b.style?m.mixin({},c.crosshair.vLabel,b.style.vLabel):c.crosshair.vLabel};a.set(this.mLabel,b.tooltip.content);a.set(this.hLabel,b.hLabel);a.set(this.vLabel,b.vLabel);a.set(this.hLine,b.hLine);a.set(this.vLine,b.vLine);this.lineLabel=new n(this.vLine,this.hLine,this.vLabel,this.hLabel,this.plot);this.toolTip=new u(this.mLabel,this.plot,this.tipKey);d.place(this.domNode,this.plot.domNode,"first");f.connect(this.plot.domNode,"click",this,this.click);f.connect(this.plot.domNode,"mousemove",this,
this.mouseMove)},click:function(a){var c=this.plot,d=c.kwArgs.margins,e=c.offsets,f=d.t+e.t,d=d.l+e.l,g=c.plotHeight-e.t-e.b,e=c.plotWidth-e.l-e.r,h;h=b.position(k.byId(c.domNode),!1);c=Math.round(a.pageX-h.x);a=Math.round(a.pageY-h.y);if(a>=f&&a<=f+g&&c>=d&&c<=d+e)this.toolTip.isShow=!this.toolTip.isShow,this.lineLabel.isShow=!this.lineLabel.isShow},mouseMove:function(a){this.toolTip.behave(a);this.lineLabel.behave(a)}})})},"bond/bondMarket/public/marketGrid":function(){define("dojo/_base/declare,dojo/json,dojo/parser,dojox/slickgrid/formatters,bond/bondMarket/public/bondMarketFormatter,bond/bondMarket/public/util,dojox/store/GridWSStore,dojox/store/WebSocket,dojox/slickgrid/slickgrid,dojox/slickgrid/quotegrid,dojo/_base/array,dojo/aspect,dojo/_base/lang,dojo/store/Memory,dojo/dom,dojo/dom-geometry".split(","),
function(w,l,y,m,f,e,a,d,b,k,g,c,i,h){var C=new f;return w([],{columns:"",options:"",field:"",dataType:"",gridId:"",bondCode:"",jsoUrl:"",constructor:function(a){i.mixin(this,a);"jsoData"===this.dataType?this.getJsoData():"getBondNews"===this.dataType?this.getBondNews():"getBulletins"===this.dataType?this.getBulletins():"todayOffer"===this.dataType?this.getTodayOffer():"getHistoryData"===this.dataType?this.getOneMonthBestPrice():"division"===this.dataType&&this.getDivisionData()},getTodayOffer:function(){this.createSlickgrid(new a({idProperty:"buytime"}),
{service:"did",did:"100211",where:"obj="+bondCode.bondCode,response_times:-1})},getOneMonthBestPrice:function(){var c=e.getOneMonthAgoDate("3"),d=e.getOneMonthAgoDate("2"),c=";time>="+c+"000000;time<"+d+"000000;",d=new a({}),f=new a({}),g={service:"did",where:"obj="+bondCode.bondCode+c,response_times:1},q=new b({store:new h,columns:this.columns,options:this.options},this.gridId);q.startup();whetherShowData&&d.query(i.mixin(g,{did:100107})).then(function(a){f.query(i.mixin(g,{did:100108})).then(function(b){for(var c=
0;c<b.length;c++){for(var d=0;d<a.length;d++)b[c].time==a[d].time&&i.mixin(b[c],a[d]);b[c].vol=e.handleRawData("vol",b[c].vol/1E6);b[c].time=e.reSetNewDate(b[c].time)}b.reverse();q.store.data=b;q.refresh(b)})})},getDivisionData:function(){var b=new a({idProperty:"time"});b.formatter="container_grid06"==this.gridId?C.division:C.divisionA;this.createSlickgrid(b,{service:"did",did:"100207",where:"obj="+bondCode.bondCode,response_times:-1})},getJsoData:function(){var c=this,d=new a({}),f=new b({store:new h,
columns:c.columns,options:c.options,resize:function(){this.inherited("resize",arguments);e.adjustMaskDivPoi(c.gridId)}},c.gridId);f.startup();e.adjustMaskDivPoi(c.gridId);c.hasPermission(d,f)},getBondNews:function(){e.getBeforeDate(180);e.DateToFullDateTimeString(new Date);var b=new a,c={service:"rpc",so:"jso-ui-companynewsnotify.jar","function":"gw.sh.func.CompanyNewsRequest",paraencode:"base64",parameter:btoa('{"objs":"'+bondCode.bondCode+'","fids":"C1,C2,C3,C6,C8","titleKeys":""}'),response_times:1,
cache_timeout:0,response_mode:0,request_timeout:-1};this.createSlickgrid(b,c)},getBulletins:function(){var b=new a,c={service:"rpc",so:"jso-ui-notice_new.jar","function":"gw.sh.func.NoticeSearchRequest",paraencode:"base64",parameter:btoa('{"type":10,"pageNum":1,"pageSize":20,"objCode":"'+bondCode.bondCode+'","bdate":"","edate":""}'),response_times:1,cache_timeout:0,response_mode:0,request_timeout:-1};this.createSlickgrid(b,c)},hasPermission:function(b,c){var d=this;if(permission&&""!=permission.permission)"1"==
permission.permission?d.refreshGridData(b,c):e.showNoPerm();else{var f=e.getUserId();(new a).query({service:"rpc",so:"jso-all-bondpermissions.jar","function":"gw.sh.func.BondPermissionsRequest",paraencode:"base64",parameter:btoa('{"username":"'+f+'","moduleid":"612","dataid":"2"}'),response_times:1,cache_timeout:0,response_mode:0,request_timeout:-1}).then(function(a){a&&a[0]&&a[0].ISPERMISSION?("1"==a[0].ISPERMISSION?d.refreshGridData(b,c):e.showNoPerm(),permission.permission=a[0].ISPERMISSION):(permission.permission=
"noPemissions",e.showNoPerm())})}},refreshGridData:function(a,b){a.on("afterconvert",function(a){for(var c=[],a=a.data,d=0;d<a.length;d++)if(""!=a[d].clearPrice&&""!=a[d].clearPrice){for(var f in a[d])"null"===a[d][f]&&(a[d][f]=""),"convexityDis"!=f&&"convexityInt"!=f&&"dutation"!=f&&"dutationInt"!=f&&(a[d][f]=e.handleRawData(f,a[d][f]));a[d].dataSourcesType="1"==a[d].dataSources?"\u63a8\u8350":"\u975e\u63a8\u8350";a[d].co=a[d].co.replace("IB","").replace(".bond","");c.push(a[d])}c.reverse();b.store.data=
c;b.refresh(c)});a.query({service:"rpc",so:"javadataproxy.jar","function":"gw/UIMain",paraencode:"base64",parameter:"Z2V0,"+btoa(this.jsoUrl+"?obj="+bondCode.bondCode),response_times:1,response_mode:0})},createSlickgrid:function(a,d){var f=this;if("jsoData"!==f.dataType)if("todayOffer"===f.dataType){var g=new b({store:new h,columns:f.columns,options:f.options},f.gridId);g.startup();a.on("afterconvert",function(a){var b=g.store.data,a=f.countDiffr(a);a.reverse();for(var c=0;c<a.length;c++)a[c].buyvol=
e.handleRawData("vol",a[c].buyvol/1E4),a[c].sellvol=e.handleRawData("vol",a[c].sellvol/1E4);b=a.concat(b);g.store.data=b;g.refresh(b)});whetherShowData&&a.query(d)}else{g=new b({store:a,columns:f.columns,options:f.options},f.gridId);if("getBondNews"===f.dataType||"getBulletins"===f.dataType)g.queryLimit=d;else if(whetherShowData)g.queryLimit=d;if("division"===f.dataType){c.after(a,"put",function(){g.updateRowCount();g.scrollTo(g.getCanvasHeight());g.viewportHasVScroll||g.refresh()});var i=c.after(g,
"refresh",function(){i.remove();g.scrollTo(g.getCanvasHeight())})}if("getBondNews"===f.dataType||"getBulletins"===f.dataType){c.after(a,"put",function(){g.refresh()});if("getBondNews"===f.dataType)var j="dzh://navigate?'root://news/details/index.html#";else"getBulletins"===f.dataType&&(j="dzh://navigate?'root://news/details/notice.html#");g.on("dblclick",function(a,b){var c=g.getDataItem(b.row);url=j+c.C1;"getBulletins"===f.dataType&&(url+="-"+c.TYPE);url+="#DZHPOPUP(256,132,854,504)#";window.location=
url})}g.startup()}},countDiffr:function(a){for(var a=a.data,b=0;b<a.length;b++){var c="",d="";if(a[b].buyclean&&a[b].sellclean&&a[b].buyyield&&a[b].sellyield){var d=a[b].buyyield,f=a[b].sellyield,c=a[b].buyclean-a[b].sellclean,d=d-f,c=e.handleRawData("priceD",c),d=e.handleRawData("yieldD",d);a[b].priceD=c;a[b].yieldD=d}d=a[b].buytime.toString();c=d.substring(0,4)+"-"+d.substring(4,6)+"-"+d.substring(6,8);d=d.substring(8,10)+":"+d.substring(10,12)+":"+d.substring(12,14);a[b]._dateBuy=c;a[b]._timeBuy=
d;d=a[b].selltime.toString();c=d.substring(0,4)+"-"+d.substring(4,6)+"-"+d.substring(6,8);d=d.substring(8,10)+":"+d.substring(10,12)+":"+d.substring(12,14);a[b]._dateSell=c;a[b]._timeSell=d}return a}})})},"bond/bondMarket/public/colorStyleFormatter":function(){define(["dojo/_base/declare","dojo/json","dojox/slickgrid/formatters","dojox/store/GridWSStore","dojo/_base/lang"],function(w){var l=0,y=0;return w([],{constructor:function(m,f){l=(new Number(m)).toFixed(4);y=(new Number(f)).toFixed(4)},unsignedplusMinusColor:function(m,
f,e){return null==e?"--":'<div class="'+(0==e?"":0<e?"font-red":"font-green")+'">'+Math.abs(e)+"</div>"},testColor:function(m,f,e,a,d,b){b.getDataItem(m);f=e;b.oldDataArr[m][a.id]!=e&&(f='<div class="start4" >'+e+"</div> ");return f},resetpricecolorandstyle:function(m,f,e,a,d,b){if(null==e)return"--";f="";m=f=0<m?b.getDataItem(m-1).newclean:l;return['<div class="',0==d.newclean?"":+d.newclean>+l?"font-red":+d.newclean<+l?"font-green":"font-white",'">',e,m>e?'<span class="font-green">\u2193</span>':
m<e?'<span class="font-red">\u2191</span>':"&nbsp;&nbsp;","</div>"].join("")},reSetYieldColor:function(m,f,e,a,d,b){if(null==e)return"--";f="";m=f=0<m?b.getDataItem(m-1).newyield:y;return['<div class="',0==d.newyield?"":+d.newyield>+y?"font-red":+d.newyield<+y?"font-green":"font-white",'">',e,m>e?'<span class="font-green">\u2193</span>':m<e?'<span class="font-red">\u2191</span>':"&nbsp;&nbsp;","</div>"].join("")},bondFavoriteFormat:function(m,f,e,a,d){return'<a target="_blank" style="text-decoration:none;" href=\''+
(bondForumConfig.bondF9Url+"?obj="+d.co+"&f9="+bondForumConfig.f9Url)+"'>"+e+"</a>"},reSetTimeSecond:function(m,f,e){return 0==e.indexOf(":")?'<div style="color:#ABABAB;font-size:6px; ">&nbsp;&nbsp;&nbsp;&nbsp;'+e+"</div>":'<div style="color:#ABABAB;">'+e+"</div>"}})})}}});
define("bond/bondMarket/src","dojo/parser,dojo/on,dijit/form/Button,dojo/store/Memory,dijit/layout/ContentPane,dijit/form/ComboBox,platform/charts/view/utils,bond/bondMarket/public/util,dojox/customfig/themes/blackTheme,dojox/customfig/widget/DIDKline,bond/bondMarket/public/marketLabel,dojox/customfig/actions/MouseAndKey,bond/bondMarket/public/ContextMenu,bond/bondMarket/public/ContextMenuTrend,platform/charts/view/Crosshair,dijit/layout/TabContainer,bond/bondMarket/public/marketGrid,dojox/slickgrid/slickgrid,dojox/slickgrid/formatters,dojox/store/LocalStorage,dojo/_base/lang,bond/bondMarket/public/colorStyleFormatter,dojox/store/WebSocket,dojo/dom,dojox/customfig/widget/DIDSharingPlans,dojox/store/GridWSStore".split(","),function(w,
l,y,m,f,e,a,d,b,k,g,c,i,h,C,p,o,u,n,q,j,A,x,z,D){function r(b,d,f,g){if(isKline){var k=new m({data:[{name:"\u65e5\u7ebf",id:"day"}]}),l=new e({id:"daySelect",name:"state",value:"\u65e5\u7ebf",store:k,searchAttr:"name",style:"width:10%","class":"font_trl"},"daySelect");l.on("change",function(){var a="";"\u65e5\u7ebf"==l.value?a="1d":"\u5468\u7ebf"==l.value?a="1w":"\u6708\u7ebf"==l.value?a="1M":"\u5b63"==l.value?a="1q":"\u5e74"==l.value&&(a="1y");whetherShowData&&(d.setTimeScale({value:a,txt:this.get("value")}),
d.render())});k=new m({data:[{name:"\u6700\u8fd1\u4e00\u4e2a\u6708",id:"oneM"},{name:"\u6700\u8fd1\u4e09\u4e2a\u6708",id:"threeM"},{name:"\u6700\u8fd16\u4e2a\u6708",id:"sixM"},{name:"\u5e74\u521d\u81f3\u4eca",id:"yearToDate"},{name:"\u6700\u8fd11\u5e74",id:"oneY"},{name:"\u6700\u8fd12\u5e74",id:"twoY"},{name:"\u6700\u8fd13\u5e74",id:"threeY"},{name:"\u4e0a\u5e02\u81f3\u4eca",id:"listedSoFar"}]});k=new e({id:"intervalSelect",name:"state",value:"\u6700\u8fd16\u4e2a\u6708",store:k,searchAttr:"name",
style:"width:12%","class":"font_trl"},"intervalSelect");k.on("change",function(){var b=this.get("value"),c="";"\u6700\u8fd1\u4e00\u4e2a\u6708"==b?c="1M":"\u6700\u8fd1\u4e09\u4e2a\u6708"==b?c="3M":"\u6700\u8fd16\u4e2a\u6708"==b?c="6M":"\u5e74\u521d\u81f3\u4eca"==b?c="0M":"\u6700\u8fd11\u5e74"==b?c="1Y":"\u6700\u8fd12\u5e74"==b?c="2Y":"\u6700\u8fd13\u5e74"==b?c="3Y":"\u4e0a\u5e02\u81f3\u4eca"==b&&(c="maxY");"0"==c.slice(0,-1)&&(c=(new Date).getMonth()+1,c+="M");var b=a.millisecond2Date("%Y%m%d%H%M%S",
Math.round(Date.now()/1E3),!1,!1,!0),e;var f=Number(c.slice(0,-1)),g,h,i=Array.prototype.slice,j=Array.prototype.splice,s=i.call(b);/maxY/i.test(c)?e="19700101000000":(/m/i.test(c)&&(e=Number(b.slice(4,6)),g=Number(b.slice(0,4)),h=Math.floor(f/12),e-=f%12,1>e&&(e=12+e,h++),g-=h,10>e&&(e="0"+e)),/y/i.test(c)&&(g=Number(s.slice(0,4).join(""))-f),g&&(strs=i.call(""+g),j.call(s,0,4),s=strs.concat(s)),e&&s.splice(4,2,""+e),e=s.join(""));whetherShowData&&(d.setCount(0),d.setStartTime(e),d.setEndTime(b),
d.render())})}new y({label:"\u81ea\u9009\u80a1",className:"button_Style",onClick:function(){var a;self.curcode=isKline?a=d.getCodes().join():a=f.getCodes()[0].name;window.external&&window.external.addSelfBlock(2,a)}},"freeButton");var n=new m({data:[{name:"\u51c0\u4ef7",id:"clean"},{name:"\u5168\u4ef7",id:"dirty"},{name:"\u6536\u76ca\u7387",id:"yield"}]}),o=new e({id:"priceSelect",name:"clean",value:"\u51c0\u4ef7",store:n,searchAttr:"name",style:"width:10%","class":"font_trl"},"priceSelect");o.on("change",
function(){if(isKline){var a={open:"openclean",high:"highclean",low:"lowclean",close:"closeclean",volume:"vol"},c={open:"openwholeprice",high:"hightwholeprice",low:"lowwholeprice",close:"closewholeprice",volume:"vol"},e={open:"openyield",high:"highyield",low:"lowyield",close:"closeyield",volume:"vol"},h=100107;"\u51c0\u4ef7"==o.value?(j.mixin(b,a),h=100107):"\u5168\u4ef7"==o.value?(h=100133,j.mixin(b,c)):"\u6536\u76ca\u7387"==o.value&&(h=100108,j.mixin(b,e));whetherShowData&&(d.changeDid(h),d.changeQueryObj(b),
d.render())}else{h=100208;a=100007;if("\u51c0\u4ef7"==o.value)h=100208,a=100007,b.price="newclean",g.type="lastcloseclean";else if("\u5168\u4ef7"==o.value)h=100210,a=100033,b.price="newwholeprice",g.type="closewholeprice";else if("\u6536\u76ca\u7387"==o.value)h=100208,a=100007,b.price="newyield",g.type="lastcloseyield";whetherShowData&&(f.changeDid(h),f.changeBaseDid(a),f.changeQueryObj(b),f.changeCodes([g]),f.render())}});isKline?(new C({plot:d.plot,style:{},tipKey:{options:{fixNum:4},keys:"time,open,high,low,close,updown,volume".split(",")}}),
new c(d.plot),new i(d.plot,{domId:"figure_box",klineKline:d,intervalSelection:k,selectPrice:o,selectDayLine:l})):(new C({plot:f.plot,style:{},tipKey:{options:{fixNum:4},keys:["time","price","updown"]}}),new h(f.plot,{domId:"figure_box",minSharingPlans:f,Sprice:o}));dijit.byId("kline").resize()}function I(c){var d={obj:"obj",time:function(b,c,d,e){return 1*a.str2millisecond(c[d[e]])},price:"newclean",volume:"vol"},e={name:bondCode.bondCode,type:"lastcloseclean",codeName:c},f=function(a){a.com_de_opt.font=
"12px simsun";a.ma.ma=["white","yellow","fuchsia"];a.vol.volumnStyle.upColor="#FF5454";a.vol.volumnStyle.downColor="#54FFFF";a.crosshair.tooltip.content.background="rgba(0,0,0,.7)";delete a.crosshair.tooltip.content["text-align"];delete a.crosshair.tooltip.content.opacity;return a}(new b);f.sharingPlans.timetrend=["#ffffff","red","yellow"];c=new D({codes:[{name:bondCode.bondCode,type:"lastcloseclean",codeName:c}],baseDid:100007,plot:{margins:{l:2,t:2,r:4,b:2},offsets:{l:50,t:20,r:60,b:20},noscale:!0},
theme:f,queryObj:d,sharingPlans:{options:{timetrendFilled:!1,fixedNum:2,rateNum:1.0E-4,rateNumOffset:0.1,baseValueStyle:{color:"red"}}},indicators:[{type:"Vol",params:{args:[],options:{topSpacing:0,closed:!1,closedStyle:{w:7,h:7,color:"red"}}}}],mainIndicators:[{type:"Ma",params:{args:[5],options:{mainIndicatorType:1}}}]},"figure_box");if(whetherShowData)c.did=100208;c.startup();c.plot.indicators.vol.txt="";c.plot.indicators.vol.yAxis=function(){var b=this.ctx,c=this.options,d=this.xStart,e=d+this.width,
f=this.yStart,g=this.height,h=f+g,i=this.yAxisScale,j=this.ymin,s=this.yLabels;if(!s||!s.length)for(var g=a.ygrid(j,this.ymax,Math.floor((g-c.topSpacing)/c.backgroundGrid.height)),k=0,l=g.length;k<l;k++)Math.pow(10,c.precision.num),s=h-(g[k]-j)*i,s===f||s===h||("dashed"==c.backgroundGrid.type?a.drawDashes(b,d,s,e,s,c.backgroundGrid.color,1):a.drawline(b,d,s,e,s,c.backgroundGrid.color))};c.delMainIndicator("ma");f=new b;c.setTheme(f);r(d,"",c,e)}function J(){var c={obj:"obj",time:function(b,c,d,e,
f){return a.millisecond2Date(arguments.callee.that.timeStyle,a.str2millisecond(c[d[e]]))},timeStamp:function(b,c,d){return a.str2millisecond(c[d.time])},open:"openclean",high:"highclean",low:"lowclean",close:"closeclean",volume:"vol"},e=a.millisecond2Date("%Y%m%d%H%M%S",Math.round(Date.now()/1E3),!1,!1,!0),e=d.getKineStarTime(e),e=new k({codes:[bondCode.bondCode],timeScale:{value:"1d",txt:"\u65e5\u7ebf"},plot:{margins:{l:2,t:2,r:4,b:2},offsets:{l:70,t:20,r:30,b:20},noscale:!0},theme:function(a){a.com_de_opt.font=
"12px simsun";a.kline.candleStyle=[{upStyle:{candle:{type:"stroke",color:"#FF5454"}},downStyle:{candle:{type:"fill",color:"#54FFFF"}}},{upStyle:{candle:{type:"stroke",color:"#FF5454"}},downStyle:{candle:{type:"fill",color:"#54FFFF"}}},{upStyle:{candle:{type:"stroke",color:"#FF5454"}},downStyle:{candle:{type:"fill",color:"#54FFFF"}}},{upStyle:{candle:{type:"stroke",color:"#FF5454"}},downStyle:{candle:{type:"fill",color:"#54FFFF"}}},{upStyle:{candle:{type:"stroke",color:"#FF5454"}},downStyle:{candle:{type:"fill",
color:"#54FFFF"}}}];a.ma.ma=["white","yellow","fuchsia"];a.vol.volumnStyle.upColor="#FF5454";a.vol.volumnStyle.downColor="#54FFFF";a.crosshair.tooltip.content.background="rgba(0,0,0,.7)";delete a.crosshair.tooltip.content["text-align"];delete a.crosshair.tooltip.content.opacity;return a}(new b),queryObj:c,Kline:{startTime:e,options:{klineType:1,fixedNum:2,showCounts:10,topSpacing:30,bottomSpacing:30,isHighLowShowed:!0,isDrawName:!1,backgroundGrid:{type:"dashed",color:"#600000",height:40,lineHeight:0.4}}},
indicators:[{type:"Vol",params:{args:[],options:{topSpacing:0,closed:!1,precision:{num:4,txt:"x10000"},backgroundGrid:{type:"dashed",color:"#600000",height:25,lineHeight:0.4}}}}],mainIndicators:[{type:"Ma",params:{args:[5,10],options:{fixedNum:3,mainIndicatorType:1}}}]},"figure_box");if(whetherShowData)e.did=100107;e.startup();e.plot.indicators.vol.txt="";this.klineKline=e;r(c,e)}function H(){var a=new p({tabPosition:"bottom",selectedchild:"basisInfo",tabStrip:!0,style:"height: 100%; width: 100%;",
className:"spacer table_border_trl"},"bottomTab"),b=new f({id:"basisInfo",title:"\u57fa\u672c\u8d44\u6599",selected:!0,content:'  <table id="analysis_data"  cellpadding="0" cellspacing="0"></table>'});a.addChild(b);b=new f({id:"todayOffer",title:"\u4eca\u65e5\u62a5\u4ef7",content:'<div id="analysis_grid03" data-dojo-attach-point="grid03"  ></div>'});a.addChild(b);b=new f({id:"history",title:"\u5386\u53f2\u884c\u60c5",content:' <div id="analysis_grid01"  style="overflow: hidden;height:100%;width:100%"></div>'});
a.addChild(b);b=new f({id:"valuation",title:"\u503a\u5238\u4f30\u503c",content:' <div id="analysis_grid02"></div>'});a.addChild(b);b=new f({id:"bondNews",title:"\u65b0\u95fb",content:'<div id="analysis_grid04_1" data-dojo-attach-point="grid04_1"  ></div>'});a.addChild(b);b=new f({id:"bondBulletins",title:"\u516c\u544a",content:'<div id="analysis_grid04_2" data-dojo-attach-point="grid04_2"  ></div>'});a.addChild(b);b=new f({id:"releatedToBond",title:"\u76f8\u5173\u503a\u5238",content:' <div  id="analysisGrid05" data-dojo-type="dijit/layout/ContentPane" class="spacer" style="overflow: hidden"></div>'});
a.addChild(b);a.startup();b=new q({idProperty:"id",namespace:"AnalysisBond"});a=dijit.byId("bottomTab");dojo.connect(a.tablist,"onSelectChild",function(a){B(a)});b.get("selectId")?(b=b.get("selectId").name,"history"!=b&&"valuation"!=b&&"todayOffer"!=b&&"bondNews"!=b&&"releatedToBond"!=b&&"basisInfo"!=b&&(b="basisInfo"),B({id:b}),a.selectChild(b)):B({id:"basisInfo"});a.watch("selectedChildWidget",function(a,b,c){(new q({idProperty:"id",namespace:"AnalysisBond"})).put({id:"selectId",name:c.id})});new o({columns:[{id:"num",
name:"\u5e8f\u53f7",field:"",width:50,formatter:n.indexFormatter,sortable:!0,headerCssClass:"font-center",cssClass:"font-center font-gray"},{id:"time",name:"\u65e5\u671f",field:"time",width:100,sortable:!0,headerCssClass:"font-center",cssClass:"font-right font-gray"},{id:"closeclean",name:"\u6700\u65b0\u51c0\u4ef7",field:"closeclean",width:80,sortable:!0,headerCssClass:"font-center",cssClass:"font-right font-gray"},{id:"closeyield",name:"\u6700\u65b0\u6536\u76ca\u7387",field:"closeyield",width:100,
sortable:!0,headerCssClass:"font-center",cssClass:"font-right font-gray"},{id:"vol",name:"\u6210\u4ea4\u91cf(\u4e07\u5f20)",field:"vol",width:100,sortable:!0,headerCssClass:"font-center",cssClass:"font-right font-gray"},{id:"openclean",name:"\u5f00\u76d8\u51c0\u4ef7",field:"openclean",width:100,sortable:!0,headerCssClass:"font-center",cssClass:"font-right font-gray"},{id:"highclean",name:"\u6700\u9ad8\u51c0\u4ef7",field:"highclean",width:100,sortable:!0,headerCssClass:"font-center",cssClass:"font-right font-gray"},
{id:"lowclean",name:"\u6700\u4f4e\u51c0\u4ef7",field:"lowclean",width:100,sortable:!0,headerCssClass:"font-center",cssClass:"font-right font-gray"},{id:"openyield",name:"\u5f00\u76d8\u6536\u76ca\u7387",field:"openyield",width:120,sortable:!0,headerCssClass:"font-center",cssClass:"font-right font-gray"},{id:"highyield",name:"\u6700\u9ad8\u6536\u76ca\u7387",field:"highyield",width:120,sortable:!0,headerCssClass:"font-center",cssClass:"font-right font-gray"},{id:"lowyield",name:"\u6700\u4f4e\u6536\u76ca\u7387",
field:"lowyield",width:100,sortable:!0,headerCssClass:"font-center",cssClass:"font-right font-gray"}],options:{enableCellNavigation:!0,enableColumnReorder:!1,rowHeight:20},field:"",dataType:"getHistoryData",gridId:"analysis_grid01",bondCode:bondCode.bondCode});new o({columns:[{id:"num",name:"\u5e8f\u53f7",field:"",width:50,formatter:n.indexFormatter,sortable:!0,headerCssClass:"font-center",cssClass:"font-center font-gray"},{id:"tradeDate",name:"\u65e5\u671f",field:"tradeDate",width:100,sortable:!0,
headerCssClass:"font-center ",cssClass:"font-center font-gray"},{id:"clearPrice",name:"\u7406\u8bba\u51c0\u4ef7",field:"clearPrice",width:80,sortable:!0,headerCssClass:"font-center",cssClass:"font-center font-gray"},{id:"dirtyPrice",name:"\u7406\u8bba\u5168\u4ef7",field:"dirtyPrice",width:80,sortable:!0,headerCssClass:"font-center",cssClass:"font-center font-gray"},{id:"accruedInterest",name:"\u5e94\u8ba1\u5229\u606f",field:"accruedInterest",width:80,sortable:!0,headerCssClass:"font-center",cssClass:"font-center font-gray"},
{id:"terToMaturity",name:"\u5269\u4f59\u671f\u9650",field:"terToMaturity",width:80,sortable:!0,headerCssClass:"font-center",cssClass:"font-center font-gray"},{id:"yield",name:"\u5230\u671f\u6536\u76ca\u7387",field:"yield",width:90,sortable:!0,headerCssClass:"font-center",cssClass:"font-center font-gray"},{id:"durationMod",name:"\u4fee\u6b63\u4e45\u671f",field:"durationMod",width:80,sortable:!0,headerCssClass:"font-center",cssClass:"font-center font-gray"},{id:"convexity",name:"\u51f8\u6027",field:"convexity",
width:70,sortable:!0,headerCssClass:"font-center",cssClass:"font-center font-gray"},{id:"dutation",name:"\u5229\u5dee\u4e45\u671f",field:"dutation",width:80,sortable:!0,headerCssClass:"font-center",cssClass:"font-center font-gray"},{id:"convexityDis",name:"\u5229\u5dee\u51f8\u6027",field:"convexityDis",width:80,sortable:!0,headerCssClass:"font-center",cssClass:"font-center font-gray"},{id:"dutationInt",name:"\u5229\u7387\u4e45\u671f",field:"dutationInt",width:80,sortable:!0,headerCssClass:"font-center",
cssClass:"font-center font-gray"},{id:"convexityInt",name:"\u5229\u7387\u51f8\u6027",field:"convexityInt",width:80,sortable:!0,headerCssClass:"font-center",cssClass:"font-center font-gray"},{id:"dataSourcesType",name:"\u4f30\u503c\u7c7b\u578b",field:"dataSourcesType",width:80,sortable:!0,headerCssClass:"font-center",cssClass:"font-center font-gray"}],options:{enableCellNavigation:!0,enableColumnReorder:!1,forceFitColumns:!1,rowHeight:20},field:"",dataType:"jsoData",gridId:"analysis_grid02",bondCode:bondCode.bondCode,
jsoUrl:jsoUrl.jsoUrl+"/bond/market/loadCBDHistoryByCo"});new o({columns:[{id:"num",name:"\u5e8f\u53f7",field:"",width:50,formatter:n.indexFormatter,headerCssClass:"font-center headercss",cssClass:"font-center font-gray"},{id:"_timeBuy",name:"\u62a5\u4ef7\u65f6\u95f4",field:"_timeBuy",width:80,group:"\u4e70\u5165\u4fe1\u606f",sortable:!0,headerCssClass:"font-center",cssClass:"font-center font-gray"},{id:"buyinitiator",name:"\u62a5\u4ef7\u65b9",field:"buyinitiator",group:"\u4e70\u5165\u4fe1\u606f",
sortable:!0,width:140,headerCssClass:"font-center ",cssClass:"font-left font-gray"},{id:"buyvol",name:"\u5238\u9762\u603b\u989d\uff08\u4e07\u5143\uff09",field:"buyvol",group:"\u4e70\u5165\u4fe1\u606f",width:120,sortable:!0,headerCssClass:"font-center",cssClass:"font-center font-gray"},{id:"buyclean",name:"\u51c0\u4ef7\uff08\u5143\uff09",field:"buyclean",group:"\u4e70\u5165\u4fe1\u606f",width:80,sortable:!0,headerCssClass:"font-center",cssClass:"font-center font-gray"},{id:"buyyield",name:"\u6536\u76ca\u7387 ",
field:"buyyield",group:"\u4e70\u5165\u4fe1\u606f",width:80,sortable:!0,headerCssClass:"font-center",cssClass:"font-center font-gray"},{id:"priceD",name:"\u51c0\u4ef7\u5dee\u989d\uff08\u5143\uff09",field:"priceD",group:"\u4e70\u5356\u5dee\u4ef7",width:100,sortable:!0,headerCssClass:"font-center",cssClass:"font-center font-gray"},{id:"yieldD",name:"\u6536\u76ca\u7387\u5dee\u989d\uff08EP\uff09",field:"yieldD",group:"\u4e70\u5356\u5dee\u4ef7",width:120,sortable:!0,headerCssClass:"font-center",cssClass:"font-center font-gray"},
{id:"_timeSell",name:"\u62a5\u4ef7\u65f6\u95f4",field:"_timeSell",width:80,group:"\u5356\u51fa\u4fe1\u606f",sortable:!0,headerCssClass:"font-center",cssClass:"font-center font-gray"},{id:"sellinitiator",name:"\u62a5\u4ef7\u65b9",field:"sellinitiator",group:"\u5356\u51fa\u4fe1\u606f",width:120,sortable:!0,headerCssClass:"font-center",cssClass:"font-left font-gray"},{id:"sellvol",name:"\u5238\u9762\u603b\u989d\uff08\u4e07\u5143\uff09",field:"sellvol",group:"\u5356\u51fa\u4fe1\u606f",width:115,headerCssClass:"font-center",
cssClass:"font-center font-gray"},{id:"sellclean",name:"\u51c0\u4ef7\uff08\u5143\uff09",field:"sellclean",group:"\u5356\u51fa\u4fe1\u606f",width:80,sortable:!0,headerCssClass:"font-center",cssClass:"font-center font-gray"},{id:"sellyield",name:"\u6536\u76ca\u7387",field:"sellyield",group:"\u5356\u51fa\u4fe1\u606f",width:80,sortable:!0,headerCssClass:"font-center",cssClass:"font-center font-gray"}],options:{enableCellNavigation:!0,enableColumnReorder:!1,rowHeight:20},field:"time,buyprice1,buyvol1,sellprice1,sellvol1,matuyld",
dataType:"todayOffer",gridId:"analysis_grid03",bondCode:bondCode.bondCode});new o({columns:[{id:"C16",name:"\u65f6\u95f4",field:"C6",width:2,formatter:n.timeFormats,sortable:!0,headerCssClass:"font-center",cssClass:"font-center font-gray"},{id:"C3",name:"\u6807\u9898",field:"C3",width:8,headerCssClass:"font-center",cssClass:"font-left font-gray"},{id:"C8",name:"\u6765\u6e90",field:"C8",width:2,headerCssClass:"font-center",cssClass:"font-left font-gray"}],options:{showHeader:!1,enableCellNavigation:!0,
enableColumnReorder:!1,forceFitColumns:!0,rowHeight:23},dataType:"getBondNews",gridId:"analysis_grid04_1"});new o({columns:[{id:"C2",name:"\u516c\u544a\u65f6\u95f4",field:"C2",width:2,formatter:n.timeFormats,sortable:!0,headerCssClass:"font-center",cssClass:"font-center font-gray"},{id:"C3",name:"\u516c\u544a\u6807\u9898",field:"C3",width:8,headerCssClass:"font-center",cssClass:"font-left font-gray"},{id:"C4",name:"\u516c\u544a\u7c7b\u578b",field:"C4",width:2,headerCssClass:"font-center",cssClass:"font-left font-gray"}],
options:{showHeader:!1,enableCellNavigation:!0,enableColumnReorder:!1,forceFitColumns:!0,rowHeight:23},dataType:"getBulletins",gridId:"analysis_grid04_2"});new g({tabType:"analysis",columns:[{id:"num",name:"\u5e8f\u53f7",field:"",width:8,formatter:n.indexFormatter,headerCssClass:"font-center ",cssClass:"font-center font-gray"},{id:"obj",name:"\u503a\u5238\u4ee3\u7801",field:"obj",width:12,sortable:!0,headerCssClass:"font-center ",cssClass:"font-center font-gray"},{id:"shortName",name:"\u503a\u5238\u7b80\u79f0",
field:"shortName",width:12,sortable:!0,headerCssClass:"font-center ",cssClass:"font-center font-gray"},{id:"newclean",name:"\u6700\u65b0\u51c0\u4ef7",field:"newclean",sortable:!0,width:11,sortable:!0,headerCssClass:"font-center ",cssClass:"font-center font-gray"},{id:"newyield",name:"\u6700\u65b0\u6536\u76ca\u7387",field:"newyield",width:11,sortable:!0,headerCssClass:"font-center ",cssClass:"font-center font-gray"},{id:"openclean",name:"\u5f00\u76d8\u51c0\u4ef7",field:"openclean",width:11,sortable:!0,
headerCssClass:"font-center ",cssClass:"font-center font-gray "},{id:"highclean",name:"\u6700\u9ad8\u51c0\u4ef7",field:"highclean",width:11,sortable:!0,headerCssClass:"font-center ",cssClass:"font-center font-gray"},{id:"lowclean",name:"\u6700\u4f4e\u51c0\u4ef7",field:"lowclean",width:11,sortable:!0,headerCssClass:"font-center ",cssClass:"font-center font-gray"},{id:"avgclean",name:"\u52a0\u6743\u5e73\u5747\u51c0\u4ef7",field:"avgclean",width:13,sortable:!0,headerCssClass:"font-center ",cssClass:"font-center font-gray"}],
options:{enableCellNavigation:!0,enableColumnReorder:!1,forceFitColumns:!0,rowHeight:20},jsoUrl:jsoUrl.jsoUrl+"/bond/market/loadBondByRelation",reCreate:!0})}function K(){var a=new p({tabPosition:"bottom",selectedchild:"devision",tabStrip:!0,style:"height: 100%; width: 100%;",className:"spacer table_border_trl"},"bottomTabR"),b=new f({id:"devision",title:"\u5206\u65f6\u6210\u4ea4",content:'<div id="analysis_grid06" ></div>'});a.addChild(b);b=new f({id:"count",title:"\u8ba1\u7b97\u5668",content:'<table cellpadding="0" cellspacing="0" class="counter_com font_trl" id="analysis_counter"></table>'});
a.addChild(b);a.startup();l(z.byId("analysis_counter"),"keypress",function(a){if(13==a.keyCode){for(var a=document.activeElement.id,b=z.byId(a).value,c=d.yieldArrayObj,e=0;e<c.length;e++)a==c[e]&&(b=d.handleRawData("count",parseFloat(b)/100));d.trialValueA=b;d.trialTypeA=a;d.counterChange("0")}});L()}function B(a){dijit.byId("bottomTab").selectedchild=a.id;d.showNoPerm()}function L(){var a=0,b=0;(new x).query({service:"did",did:"100007",where:"obj="+bondCode.bondCode,response_times:1}).then(function(c){c[0]&&
c[0].result&&c[0].result.datas&&c[0].result.datas.length&&(a=c[0].result.datas[0][11],b=c[0].result.datas[0][20]);c=new A(a,b);new o({columns:[{id:"time",name:"\u65f6\u95f4",field:"time",width:2,formatter:c.reSetTimeSecond,headerCssClass:"font-center",cssClass:"font-left font-white"},{id:"newclean",name:"\u4ef7\u683c",field:"newclean",width:2,formatter:c.resetpricecolorandstyle,headerCssClass:"font-center",cssClass:"font-left"},{id:"newyield",name:"\u5230\u671f\u6536\u76ca\u7387",field:"newyield",
width:2,formatter:c.reSetYieldColor,headerCssClass:"font-center",cssClass:"font-left"}],options:{showHeader:!1,enableCellNavigation:!0,enableColumnReorder:!1,forceFitColumns:!0,rowHeight:20},dataType:"division",gridId:"analysis_grid06",bondCode:bondCode.bondCode})})}n.timeFormats=function(a,b,c){a=null;a=new Date;return a=c&&10<c.length?a.getDate()==c.slice(6,8)&&a.getMonth()==Number(c.slice(4,6))-1&&a.getFullYear()==c.slice(0,4)?c.slice(8,10)+":"+c.slice(10,12)+":"+c.slice(12,14):c.slice(0,4)+"-"+
c.slice(4,6)+"-"+c.slice(6,8):c};return function(){w.parse();l(document.body,"dblclick",function(a){var b;if(dojo.query(a.target).closest(".slickgrid")&&dojo.query(a.target).closest(".slickgrid")[0]&&dojo.query(a.target).closest(".slickgrid")[0].id)b=dojo.query(a.target).closest(".slickgrid")[0].id,"analysis_grid01"!=b&&"analysis_grid02"!=b&&"analysis_grid03"!=b&&"analysis_grid04"!=b&&"analysis_grid06"!=b&&(b="analysisGrid05");if("analysis_grid04"!=b&&"analysisGrid05"!=b&&goToUrl&&""!=goToUrl.gotourl)window.location.href=
goToUrl.gotourl});var a;a=setInterval(function(){var b=new Date,c=b.getHours(),b=b.getMinutes();if(6==c&&30==b)window.location=window.location,clearInterval(a)},6E4);new f({content:'<div id="figure_box" style="width: 100%;height: 100%" ></div>',resize:function(){this.inherited("resize",arguments)}},"kline");isKline?J():I("");H();K();new g({tabType:"analysis",jsoUrl:jsoUrl.jsoUrl+"/bond/market/getBondValuation",bondCode:bondCode.bondCode});document.getElementById("bottomTab_tablist").style.height=
"20px";var b=document.getElementById("bottomTabR_tablist");b.style.top=parseInt(b.style.top)+1+"px";dojo.query(".claro .table_border_trl .dijitTabController .dijitTab").style({height:"19px"});dojo.query(".claro .table_border_trl .dijitTabController .dijitTab").style({"padding-bottom":"0px"})}});