/*
	Copyright (c) 2012-2013,   To get sources and documentation, please visit:

		http://dms.gw.com.cn
*/

//>>built
require({cache:{"marco/WorldBank/view/c/top":function(){define("dojo/_base/declare,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dijit/form/FilteringSelect,dijit/Menu,dijit/MenuItem,dijit/form/ComboButton,marco/WorldBank/view/c/oftenStyle,dojo/text!../v/top.html,dojo/store/Memory,dijit/Dialog,marco/WorldBank/view/m/DataService,marco/WorldBank/view/c/rightGrid".split(","),function(t,u,w,q,p,j,y,r,h,i,f,d,e,b){return t("marco.WorldBank.view.c.top",[u,w,q],{templateString:i,init:function(){this.setYear();
this.setYangs();document.getElementById("saveAsExcel").addEventListener("click",this.saveAsCustomExcel)},setYear:function(){for(var a=[],b=(new Date).getFullYear(),c=b-10,d=b;1980<=d;d--){var e={};if(d==c)e.selected=!0;e.name=d;e.id=d;a.push(e)}a=new f({data:a});new p({id:"bYear",name:"beginYear",value:c,store:a,style:"width: 60px;height:19px;margin-top: 2px;",maxHeight:290,searchAttr:"id"},"bYear");c=[];for(d=b;1980<=d;d--)c.push(e);new f({data:c});new p({id:"eYear",name:"EndYear",value:b,store:a,
style:"width: 60px;height:19px;margin-top: 2px;",maxHeight:290,searchAttr:"id"},"eYear")},setYangs:function(){var a=document.getElementById("yangshi"),x=new h,c=new e;a.onclick=function(){var e=dijit.byId("oftenEindexShow")||new d({id:"oftenEindexShow",title:"\u6837\u5f0f\u9009\u62e9",style:{width:"615px",height:"500px",background:"#e0dfdf"}});e.show();e.set("content",x.domNode.innerHTML);document.getElementById("oftenQx").onclick=function(){dijit.byId("oftenEindexShow").onCancel()};document.getElementById("oftenQd").onclick=
function(){for(var c=document.getElementsByName("oftenOneInput"),b=0;b<c.length;b++)if(c[b].checked)formattype=c[b].value;switch(formattype){case "1":a.innerHTML="\u6837\u5f0f\u4e00";break;case "2":a.innerHTML="\u6837\u5f0f\u4e8c";break;case "3":a.innerHTML="\u6837\u5f0f\u4e09";break;case "4":a.innerHTML="\u6837\u5f0f\u4e94";break;case "5":a.innerHTML="\u6837\u5f0f\u56db";break;case "6":a.innerHTML="\u6837\u5f0f\u516d"}g()};var k=document.getElementById("oftenOne");c.on("checkQueryReturn",function(a){var c=
WBtopTreeSelectedName.slice(0),d=WBbottomTreeSelectedName.slice(0);WBtopTreeSelectedCode.slice(0);WBbottomTreeSelectedCode.slice(0);(new b).createGrid(c,d,formattype,a.data)});var g=function(){e.onCancel();var a=WBtopTreeSelectedCode.slice(0),b=WBbottomTreeSelectedCode.slice(0),d=dijit.byId("bYear").value,m=dijit.byId("eYear").value,a='{"ind":"'+a.join()+'","country":"'+b.join()+'","formattype":"'+formattype+'","byear":"'+d+'","eyear":"'+m+'"}';c.gridSearch(a,"checkQueryReturn")};k.ondblclick=function(){formattype=
"1";a.innerHTML="\u6837\u5f0f\u4e00";g()};document.getElementById("oftenTwo").ondblclick=function(){formattype="2";a.innerHTML="\u6837\u5f0f\u4e8c";g()};document.getElementById("oftenThree").ondblclick=function(){formattype="3";a.innerHTML="\u6837\u5f0f\u4e09";g()};k=document.getElementById("oftenfour");k.ondblclick=function(){formattype="5";a.innerHTML="\u6837\u5f0f\u56db";g()};k=document.getElementById("oftenfive");k.ondblclick=function(){formattype="4";a.innerHTML="\u6837\u5f0f\u4e94";g()};k=document.getElementById("oftensix");
k.ondblclick=function(){formattype="6";a.innerHTML="\u6837\u5f0f\u516d";g()}}},saveAsCustomExcel:function(){(function(){if(window.external.saveas){var a=dijit.byId("myGrid");store=a.data;columns=a.get("columns");(function(a,c,b,d,e){var a=a||"\u5927\u667a\u6167\u6570\u636e\u5bfc\u51fa",c=c||"",b=b||a,e=e||this.getColumns(),n=[],l=d.length,o=["<html xmlns:x='urn:schemas-microsoft-com:office:excel'><head><\!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>"];o.push(b);
o.push("</x:Name><x:WorksheetOptions><x:Panes></x:Panes></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\><meta http-equiv='content-type' content='text/html; charset=gbk'><style>.text { font-family:Arial;font-size:10pt;mso-number-format:'@';}</style></head>");o.push("<body>");o.push("<table width='100%' border='1' cellpadding='0' bordercolorlight='#999999' bordercolordark='#FFFFFF' cellspacing='0' align='center'>");o.push(c);o.push("<tr>");c=0;for(b=
e.length;c<b-1;c++)e[c].field&&(n.push(e[c].field),o.push("<th><div>"),o.push(e[c].name),e[c].group&&o.push("("+e[c].group+")"),o.push("</div></th>"));o.push("</tr>");e=n.length;for(c=0;c<l;c++){o.push("<tr>");for(b=0;b<e;b++)o.push("<td>"),o.push(d[c][n[b]]),o.push("</td>");o.push("</tr>")}o.push("</table>");o.push("</body>");window.external.saveas?window.external.saveas(o.join(""),a,"xls"):alert("\u8bf7\u5728\u5927\u667a\u6167\u5ba2\u6237\u7aef\u4f7f\u7528")})("\u4e16\u754c\u94f6\u884c","<tr><td colspan='9' style='text-align:right;'>\u6570\u636e\u6765\u6e90:\u5927\u667a\u6167</td></tr>",
"sheet\u7684\u540d\u5b57",store,columns)}else alert("\u8bf7\u5728\u5927\u667a\u6167\u5ba2\u6237\u7aef\u4f7f\u7528\u8868\u683c\u5bfc\u51fa\u529f\u80fd")})()}})})},"marco/WorldBank/view/c/oftenStyle":function(){define("dojo/_base/declare,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dojo/text!../v/oftenStyle.html,dojo/dnd/Source".split(","),function(t,u,w,q,p){return t("marco.WorldBank.view.c.oftenStyle",[u,w,q],{templateString:p,postCreate:function(){}})})},"url:marco/WorldBank/view/v/oftenStyle.html":'<div style="background-color:#e0dfdf; width:615px;height:500px;">\r\n<div style="height:auto;background-color:#e0dfdf;padding: 10px 4px;border: 1px solid #bababa;box-shadow: inset 0px 0px 0px 2px rgba(236, 236, 236, 0.81);">\r\n\t<p style="margin-top: 0px;margin-bottom: 5px">\u4f7f\u7528\u8bf4\u660e\uff1a\u4f60\u53ef\u4ee5\u5355\u51fb\u4f60\u8981\u7684\u6837\u5f0f\u540e\u70b9\u786e\u5b9a\uff0c\u4e5f\u53ef\u4ee5\u53cc\u51fb\u4f60\u5bf9\u5e94\u6837\u5f0f\u7684\u8868\u683c\u3002</p>\r\n\t<table style="height:262px">\r\n\t\t<tr>\r\n\t\t\t<td><input type="radio" name="oftenOneInput" id="oftenOneInput1" class="oftenOne_lable" value=1 /><label for="oftenOneInput1"> \u6837\u5f0f\u4e00</label></td>\r\n\t\t\t<td><input type="radio" name="oftenOneInput" id="oftenOneInput2" class="oftenOne_lable" value=2 /><label for="oftenOneInput2"> \u6837\u5f0f\u4e8c</label></td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td><label for="oftenOneInput1"><img id="oftenOne" class="oftenimg" alt="\u6837\u5f0f1\u793a\u610f\u56fe\uff0c\u5355\u51fb\u9009\u5b9a\uff0c\u53cc\u51fb\u786e\u5b9a" src="./resources/oftenOne.png" style="height:108px;width:288px;" /></label></td>\r\n\t\t\t<td><label for="oftenOneInput2"><img id="oftenTwo" class="oftenimg" alt="\u6837\u5f0f2\u793a\u610f\u56fe\uff0c\u5355\u51fb\u9009\u5b9a\uff0c\u53cc\u51fb\u786e\u5b9a" src="./resources/oftenTwo.png" style="height:108px;width:288px; margin-left:5px;" /></label></td>\r\n\t\t</tr>\r\n\t\t<tr style="margin-top:10px;">\r\n\t\t\t<td><input type="radio" name="oftenOneInput" id="oftenOneInput3" class="oftenOne_lable" value=3 /><label for="oftenOneInput3"> \u6837\u5f0f\u4e09</label></td>\r\n\t\t\t<td><input type="radio" name="oftenOneInput" id="oftenOneInput4" class="oftenOne_lable" value=5 /><label for="oftenOneInput4"> \u6837\u5f0f\u56db</label></td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td><label for="oftenOneInput3"><img id="oftenThree" class="oftenimg" alt="\u6837\u5f0f3\u793a\u610f\u56fe\uff0c\u5355\u51fb\u9009\u5b9a\uff0c\u53cc\u51fb\u786e\u5b9a" src="./resources/oftenThree.png" style="height:108px;width:288px;" /></label></td>\r\n\t\t\t<td><label for="oftenOneInput4"><img id="oftenfour" class="oftenimg" alt="\u6837\u5f0f4\u793a\u610f\u56fe\uff0c\u5355\u51fb\u9009\u5b9a\uff0c\u53cc\u51fb\u786e\u5b9a" src="./resources/oftenfive.png" style="height:108px;width:288px;margin-left:5px;" /></label></td>\r\n\t\t</tr>\r\n\t\t<tr style="margin-top:10px;">\r\n\t\t\t<td><input type="radio" name="oftenOneInput" id="oftenOneInput5" class="oftenOne_lable" value=4 /><label for="oftenOneInput3"> \u6837\u5f0f\u4e94</label></td>\r\n\t\t\t<td><input type="radio" name="oftenOneInput" id="oftenOneInput6" class="oftenOne_lable" value=6 /><label for="oftenOneInput4"> \u6837\u5f0f\u516d</label></td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td><label for="oftenOneInput5"><img id="oftenfive" class="oftenimg" alt="\u6837\u5f0f3\u793a\u610f\u56fe\uff0c\u5355\u51fb\u9009\u5b9a\uff0c\u53cc\u51fb\u786e\u5b9a" src="./resources/oftenfour.png" style="height:108px;width:288px;" /></label></td>\r\n\t\t\t<td><label for="oftenOneInput6"><img id="oftensix" class="oftenimg" alt="\u6837\u5f0f4\u793a\u610f\u56fe\uff0c\u5355\u51fb\u9009\u5b9a\uff0c\u53cc\u51fb\u786e\u5b9a" src="./resources/oftensix.png" style="height:108px;width:288px;margin-left:5px;" /></label></td>\r\n\t\t</tr>\r\n\t</table>\r\n\t<button id="oftenQd" type="button"style="margin-left:220px;width:55px;">\u786e\u5b9a</button> <button id="oftenQx" type="button" style="width:55px;margin-left:10px;">\u53d6\u6d88</button> \r\n</div>\r\n</div>',
"url:marco/WorldBank/view/v/top.html":'<div data-dojo-attach-point="containerNode">\r\n\t<div id="rightTop">\r\n\t\t<label id="fristlabel" class="tjlabel">\u8d77\u59cb\u5e74\u4efd</label><span id="bYear"></span>\r\n\t\t<label class="tjlabel">\u7ed3\u675f\u5e74\u4efd</label><span id="eYear"></span>\r\n\t\t<button id="yangshi" class="tjlabel">\u6837\u5f0f\u4e00</button><button type="button" id="checkquery">\u67e5\u8be2</button>\r\n\t\t<button data-dojo-type="dijit.form.Button" id="saveAsExcel" title="\u5bfc\u51fa\u6570\u636e\u8868\u683c\u81f3Excel" data-dojo-attach-point="saveAsExcel" style="float: right;margin-right: 20px;margin-top: 2px;" data-dojo-props=\'label:"\u5bfc\u51fa\u81f3Excel"\'></button>\r\n\t</div>\r\n</div>',
"marco/WorldBank/view/m/DataService":function(){define("dojo/_base/declare,dojo/_base/lang,dojo/json,dojo/Deferred,dojo/store/util/QueryResults,dojo/store/Observable,dojo/_base/array,dojo/io-query,dojo/topic,dojox/store/GridWSStore,dojo/Evented".split(","),function(t,u,w,q,p,j,y,r,h,i,f){return t("marco.WorldBank.view.m.DataService",[i,f],{test:function(){alert("i is Dataservice")},gridSearch:function(d,e){var b=new i,a=this;theQueryStr=d||'{"ind":"1063","country":"155,156,157,158,159,160","formattype":"3","byear":"2002","eyear":"2012"}';
b.query({service:"rpc",so:"jso-ui-mrpsglobalbankdatagrid.jar","function":"gw.sh.func.MrpsGlobalBankIndexDataRequest",paraencode:"base64",parameter:(window.external.base64encode||btoa)(theQueryStr),response_times:1,response_mode:10}).then(function(b){a.emit(e,{data:b})})}})})},"marco/WorldBank/view/c/rightGrid":function(){define(["dojo/_base/declare","dojox/slickgrid/slickgrid","dojo/store/Memory"],function(t,u,w){return t("marco.WorldBank.view.c.rightGrid",null,{createGrid:function(q,p,j,t){if(dijit.byId("myGrid")){dijit.byId("myGrid").destroy();
var r=document.getElementById("btab1"),h=document.createElement("div");h.id="myGrid";r.appendChild(h)}r=1E3;switch(j.toString()){case "1":for(var i=[{id:"riqi",name:"\u65e5\u671f",field:"C1",width:80,headerCssClass:"header-css",sortable:!0}],j=2,h=0;h<q.length;h++)for(var f=0;f<p.length;f++){var d={};d.id="Cid"+j;d.name=p[f];d.field="C"+j;d.group=q[h];d.sortable=!0;d.formatter=function(a,b,c){a=/null/i.test(c)?"--":c;return 3<=a.length?"<div class='hand_pointer stereoscopic' title='"+a+"'>"+a+"</div>":
"<div title='"+a+"'>"+a+"</div>"};d.width=140<13*d.name.length?14*(d.name.length-1):140;r+=d.width;j++;i.push(d)}break;case "2":i=[{id:"riqi",name:"\u65e5\u671f",field:"C1",width:80,headerCssClass:"header-css"}];j=2;for(h=0;h<p.length;h++)for(f=0;f<q.length;f++)d={},d.id="Cid"+j,d.name=q[f],d.field="C"+j,d.group=p[h],d.sortable=!0,d.width=140<13*d.name.length?14*(d.name.length-1):140,d.formatter=function(a,b,c){a=/null/i.test(c)?"--":c;return 3<=a.length?"<div class='hand_pointer stereoscopic' title='"+
a+"'>"+a+"</div>":"<div title='"+a+"'>"+a+"</div>"},j++,i.push(d),r+=d.width;break;case "3":for(var i=[{id:"guojia",name:"\u56fd\u5bb6",field:"C1",width:80,headerCssClass:"header-css"}],j=2,e=dijit.byId("bYear").value,b=dijit.byId("eYear").value,h=b;h+1>e;h--)for(f=0;f<q.length;f++)d={},d.id="Cid"+j,d.name=q[f],d.field="C"+j,d.group=h,d.sortable=!0,d.width=140<13*d.name.length?14*(d.name.length-1):140,d.formatter=function(a,b,c){a=/null/i.test(c)?"--":c;return 3<=a.length?"<div class='hand_pointer stereoscopic' title='"+
a+"'>"+a+"</div>":"<div title='"+a+"'>"+a+"</div>"},j++,i.push(d),r+=d.width;break;case "5":i=[{id:"guojia",name:"\u56fd\u5bb6",field:"C1",width:80,headerCssClass:"header-css"}];j=2;e=dijit.byId("bYear").value;b=dijit.byId("eYear").value;for(f=0;f<q.length;f++)for(h=b;h+1>e;h--)d={},d.id="Cid"+j,d.name=h,d.field="C"+j,d.group=q[f],d.sortable=!0,d.width=140<13*d.name.length?14*(d.name.length-1):140,d.formatter=function(a,b,c){a=/null/i.test(c)?"--":c;return 3<=a.length?"<div class='hand_pointer stereoscopic' title='"+
a+"'>"+a+"</div>":"<div title='"+a+"'>"+a+"</div>"},j++,i.push(d),r+=d.width;break;case "4":r=1110;i=[{id:"zhibiao",name:"\u6307\u6807",field:"C1",width:190,headerCssClass:"header-css"}];j=2;e=dijit.byId("bYear").value;for(h=b=dijit.byId("eYear").value;h+1>e;h--)for(f=0;f<p.length;f++)d={},d.id="Cid"+j,d.name=p[f],d.field="C"+j,d.group=h,d.sortable=!0,d.formatter=function(a,b,c){a=/null/i.test(c)?"--":c;return 3<=a.length?"<div class='hand_pointer stereoscopic' title='"+a+"'>"+a+"</div>":"<div title='"+
a+"'>"+a+"</div>"},d.width=140<13*d.name.length?14*(d.name.length-1):140,j++,i.push(d),r+=d.width;break;case "6":r=1110;i=[{id:"zhibiao",name:"\u6307\u6807",field:"C1",width:190,headerCssClass:"header-css"}];j=2;e=dijit.byId("bYear").value;b=dijit.byId("eYear").value;for(f=0;f<p.length;f++)for(h=b;h+1>e;h--)d={},d.id="Cid"+j,d.name=h,d.field="C"+j,d.group=p[f],d.sortable=!0,d.formatter=function(a,b,c){a=/null/i.test(c)?"--":c;return 3<=a.length?"<div class='hand_pointer stereoscopic' title='"+a+"'>"+
a+"</div>":"<div title='"+a+"'>"+a+"</div>"},d.width=140<13*d.name.length?14*(d.name.length-1):140,j++,i.push(d),r+=d.width}q=new w({data:t});i=new u({"class":"nontable-striped rowBorder",store:q,columns:i,options:{rowHeight:29,frozenColumn:0}},"myGrid");q=dojo.query("div.slick-header-columns.slick-header-columns-left");p=dojo.query(".slick-header-columns.slick-header-columns-right");dojo.style(q[0],"width",r+"px");p[0].style.width=r+100+"px";dojo.query(".slick-viewport.slick-viewport-top.slick-viewport-right")[0].style.overflow=
"auto";i.startup();i.setSorter(function(a,b,c){for(var d,e=0,g=c.sortCols,n=g.length;e<n;e++)if(c=a[g[e].sortCol.field],d=b[g[e].sortCol.field],parseFloat(c)!=parseFloat(d))return"--"==c||"NULL"==c?1:"--"==d||"NULL"==d?-1:g[e].sortAsc==parseFloat(c)>parseFloat(d)?1:-1;return 0})}})})},"marco/WorldBank/view/c/WBTree":function(){define("dojo/_base/declare,dojo/store/Memory,dojo/dom,dijit/tree/CheckboxTree,dojo/data/ItemFileWriteStore,dijit/tree/CheckboxForestStoreModel,dojox/store/WebSocket,dojo/Evented,marco/WorldBank/view/c/WBCharTree".split(","),
function(t,u,w,q,p,j,y,r,h){return t("marco.WorldBank.view.c.WBTree",[r],{createTopTree:function(){BottomTreeModeOk=0;var i=window.external.base64encode||btoa,f=new y,d=new h;f.query({service:"rpc",so:"jso-ui-mrpsglobalbankdatagrid.jar","function":"gw.sh.func.MrpsGlobalBankIndexTreeRequest",paraencode:"base64",parameter:i('{"treetype":"2"}'),response_times:1,response_mode:10}).then(function(e){try{for(var b=e[0].result.datas[0][1].datas,e=[],a=0;a<b.length;a++){var f={};f.name=b[a][1];f.code=parseInt(b[a][0]);
if(localStorage.WBtopTreeSelectedCode)var c=JSON.parse(localStorage.WBtopTreeSelectedCode);if(localStorage.WBtopTreeSelectedCode)for(var i=0;i<c.length;i++){if(c[i]==f.code)f.checked=!0}else if(1<a&&5>a)f.checked=!0;if(b[a][0]==b[a][3])e.push(f);else if(e[e.length-1].children&&e[e.length-1].children[e[e.length-1].children.length-1].code==b[a][2]){if(!e[e.length-1].children[e[e.length-1].children.length-1].children)e[e.length-1].children[e[e.length-1].children.length-1].children=[];e[e.length-1].children[e[e.length-
1].children.length-1].children.push(f)}else if(e[e.length-1].code==b[a][2]){if(!e[e.length-1].children)e[e.length-1].children=[];e[e.length-1].children.push(f)}}var k=new p({data:{identifier:"code",label:"name",items:e}}),g=new j({store:k,childrenAttrs:["children"]});new q({id:"TopTreeN",model:g,showRoot:!1,openOnClick:!1,setCheckboxOnClick:!0},"topTree");var n=[],b=function(){WBtopTreeSelectedCode=[];WBtopTreeSelectedName=[];k.fetch({query:{checked:!0},queryOptions:{deep:!0},onItem:function(a){a.children||
(WBtopTreeSelectedCode.push(parseInt(k.getValue(a,"code"))),WBtopTreeSelectedName.push(k.getValue(a,"name")))}});if(10<WBtopTreeSelectedCode.length)localStorage.WBtopTreeSelectedCode=JSON.stringify(WBtopTreeSelectedCode.slice(0,10)),localStorage.WBtopTreeSelectedName=JSON.stringify(WBtopTreeSelectedName.slice(0,10));else if(0<WBtopTreeSelectedCode.length)localStorage.WBtopTreeSelectedCode=JSON.stringify(WBtopTreeSelectedCode),localStorage.WBtopTreeSelectedName=JSON.stringify(WBtopTreeSelectedName);
TopTreeModeOk=1;n.toString()!=WBtopTreeSelectedCode.toString()&&1==BottomTreeModeOk&&(d.createTopTree(WBtopTreeSelectedName,WBbottomTreeSelectedName,WBtopTreeSelectedCode,WBbottomTreeSelectedCode),n=WBtopTreeSelectedCode.slice(0))};dojo.connect(g,"onChange",b);1==fristWBCharTree&&b()}catch(l){alert("\u6307\u6807\u6570\u636e\u8bfb\u53d6\u5931\u8d25")}})},createbottomTree:function(){TopTreeModeOk=0;var i=window.external.base64encode||btoa,f=new y,d=new h;f.query({service:"rpc",so:"jso-ui-mrpsglobalbankdatagrid.jar",
"function":"gw.sh.func.MrpsGlobalBankIndexTreeRequest",paraencode:"base64",parameter:i('{"treetype":"1"}'),response_times:1,response_mode:10}).then(function(e){for(var e=e[0].result.datas[0][1].datas,b=[],a=0;a<e.length;a++){var f={};f.name=e[a][1];f.code=parseInt(e[a][0]);if(localStorage.WBbottomTreeSelectedCode)for(var c=JSON.parse(localStorage.WBbottomTreeSelectedCode),i=0;i<c.length;i++){if(c[i]==f.code)f.checked=!0}else if(1<a&&5>a)f.checked=!0;if(e[a][0]==e[a][3])b.push(f);else if(b[b.length-
1].children&&b[b.length-1].children[b[b.length-1].children.length-1].code==e[a][2]){if(!b[b.length-1].children[b[b.length-1].children.length-1].children)b[b.length-1].children[b[b.length-1].children.length-1].children=[];b[b.length-1].children[b[b.length-1].children.length-1].children.push(f)}else if(b[b.length-1].code==e[a][2]){if(!b[b.length-1].children)b[b.length-1].children=[];b[b.length-1].children.push(f)}}var k=new p({data:{identifier:"code",label:"name",items:b}}),e=new j({store:k,childrenAttrs:["children"]});
new q({id:"bottomTreeN",model:e,showRoot:!1,openOnClick:!1,setCheckboxOnClick:!0},"bottomTree");var g=[],b=function(){WBbottomTreeSelectedCode=[];WBbottomTreeSelectedName=[];k.fetch({query:{checked:!0},queryOptions:{deep:!0},onItem:function(a){a.children||(WBbottomTreeSelectedCode.push(parseInt(k.getValue(a,"code"))),WBbottomTreeSelectedName.push(k.getValue(a,"name")))}});if(10<WBbottomTreeSelectedCode.length)localStorage.WBbottomTreeSelectedCode=JSON.stringify(WBbottomTreeSelectedCode.slice(0,10)),
localStorage.WBbottomTreeSelectedName=JSON.stringify(WBbottomTreeSelectedName.slice(0,10));else if(0<WBbottomTreeSelectedCode.length)localStorage.WBbottomTreeSelectedCode=JSON.stringify(WBbottomTreeSelectedCode),localStorage.WBbottomTreeSelectedName=JSON.stringify(WBbottomTreeSelectedName);BottomTreeModeOk=1;g.toString()!=WBbottomTreeSelectedCode.toString()&&1==TopTreeModeOk&&(d.createTopTree(WBtopTreeSelectedName,WBbottomTreeSelectedName,WBtopTreeSelectedCode,WBbottomTreeSelectedCode),g=WBtopTreeSelectedCode.slice(0))};
dojo.connect(e,"onChange",b);1==fristWBCharTree&&b()})}})})},"marco/WorldBank/view/c/WBCharTree":function(){define("dojo/_base/declare,dojo/store/Memory,dojo/dom,dijit/tree/CheckboxTree,dojo/data/ItemFileWriteStore,dijit/tree/CheckboxForestStoreModel,dojo/Evented,marco/WorldBank/view/m/DataService,marco/WorldBank/view/c/WBChar".split(","),function(t,u,w,q,p,j,y,r,h){return t("marco.WorldBank.view.c.WBCharTree",[y],{createTopTree:function(i,f,d,e){if(dijit.byId("ChartopTree")){dijit.byId("ChartopTree").destroy();
var b=document.getElementById("CharTopTreeParent"),a=document.createElement("div");a.id="ChartopTree";b.appendChild(a)}if(dijit.byId("CharBottomTree"))dijit.byId("CharBottomTree").destroy(),b=document.getElementById("CharBottomTreeParent"),a=document.createElement("div"),a.id="CharBottomTree",b.appendChild(a);leftoptions=[];a=[];for(b=0;b<i.length;b++){var x={};x.name=i[b];x.code=d[b];x.parentCode=d[b];x.children=[];for(charChildresI=0;charChildresI<f.length;charChildresI++){var c={};c.name=f[charChildresI];
c.code=e[charChildresI];for(tcci=0;tcci<lastTopCharcountry.length;tcci++)if(lastTopCharcountry[tcci].country==e[charChildresI]&&lastTopCharcountry[tcci].indcode==d[b])c.checked=!0;if(0==lastTopCharcountry.length&&2>charChildresI&&0==b&&1==fristWBCharTree){c.checked=!0;var s={};s.country=e[charChildresI];s.countryName=f[charChildresI];s.indcode=d[b];s.indName=i[b];leftoptions.push(s)}c.parentCode=d[b];c.parentName=i[b];x.children.push(c)}a.push(x)}var k=new p({data:{thecode:"code",parentCode:"parentCode",
label:"name",items:a}}),b=new j({store:k,childrenAttrs:["children"]}),x=new q({model:b,showRoot:!1,openOnClick:!1,setCheckboxOnClick:!0},"ChartopTree"),g=[],n=[],l=[],o=[];new r;a=function(){leftoptions=[];g=[];n=[];k.fetch({query:{checked:!0},queryOptions:{deep:!0},onItem:function(a){if(k.getValue(a,"code")!=k.getValue(a,"parentCode")){0>g.lastIndexOf(parseInt(k.getValue(a,"code")))&&g.push(parseInt(k.getValue(a,"code")));0>n.lastIndexOf(parseInt(k.getValue(a,"parentCode")))&&n.push(parseInt(k.getValue(a,
"parentCode")));var b={};b.country=parseInt(k.getValue(a,"code"));b.countryName=k.getValue(a,"name");b.indcode=parseInt(k.getValue(a,"parentCode"));b.indName=k.getValue(a,"parentName");leftoptions.push(b)}}});lastTopCharcountry=leftoptions.slice(0);charAllcountry=g.slice(0);charAllInd=n.slice(0);if(0<l.length)for(CBTSCI=0;CBTSCI<l.length;CBTSCI++)0>charAllcountry.indexOf(l[CBTSCI])&&charAllcountry.push(l[CBTSCI]);if(0<o.length)for(CBBSCI=0;CBBSCI<o.length;CBBSCI++)0>charAllInd.indexOf(o[CBBSCI])&&
charAllInd.push(o[CBBSCI]);1==fristWBCharTree&&(rightoptions=[],setTimeout(function(){(new h).CharLine()},1E3));fristWBCharTree=2};dojo.connect(b,"onChange",a);x.connect(x,"onClick",function(){(new h).CharLine()});x=[];for(b=0;b<i.length;b++){c={};c.name=i[b];c.code=d[b];c.parentCode=d[b];c.children=[];for(charChildresI=0;charChildresI<f.length;charChildresI++){s={};s.name=f[charChildresI];s.code=e[charChildresI];s.parentCode=d[b];s.parentName=i[b];for(bcci=0;bcci<lastBottomCharcountry.length;bcci++)if(lastBottomCharcountry[bcci].country==
e[charChildresI]&&lastBottomCharcountry[bcci].indcode==d[b])s.checked=!0;c.children.push(s)}x.push(c)}var m=new p({data:{thecode:"code",parentCode:"parentCode",label:"name",items:x}}),i=new j({store:m,childrenAttrs:["children"]}),f=new q({model:i,showRoot:!1,openOnClick:!1,setCheckboxOnClick:!0},"CharBottomTree");dojo.connect(i,"onChange",function(){rightoptions=[];l=[];o=[];m.fetch({query:{checked:!0},queryOptions:{deep:!0},onItem:function(a){if(m.getValue(a,"code")!=m.getValue(a,"parentCode")){0>
l.lastIndexOf(parseInt(m.getValue(a,"code")))&&l.push(parseInt(m.getValue(a,"code")));0>o.lastIndexOf(parseInt(m.getValue(a,"parentCode")))&&o.push(parseInt(m.getValue(a,"parentCode")));var b={};b.country=parseInt(m.getValue(a,"code"));b.countryName=m.getValue(a,"name");b.indcode=parseInt(m.getValue(a,"parentCode"));b.indName=m.getValue(a,"parentName");rightoptions.push(b)}}});lastBottomCharcountry=rightoptions.slice(0);charAllcountry=l.slice(0);charAllInd=o.slice(0);if(0<g.length)for(CBTSCI=0;CBTSCI<
g.length;CBTSCI++)0>charAllcountry.indexOf(g[CBTSCI])&&charAllcountry.push(g[CBTSCI]);if(0<n.length)for(CBBSCI=0;CBBSCI<n.length;CBBSCI++)0>charAllInd.indexOf(n[CBBSCI])&&charAllInd.push(n[CBBSCI])});BottomTreenodeclick=function(){(new h).CharLine()};f.connect(f,"onClick",BottomTreenodeclick);1==fristWBCharTree&&a()}})})},"marco/WorldBank/view/c/WBChar":function(){define("dojo/_base/declare,dojox/charting/widget/Chart,dojox/charting/axis2d/Default,dojox/charting/plot2d/Default,dojox/charting/themes/WhiteCustom,dojox/charting/action2d/Magnify,dojox/charting/action2d/Tooltip,dojox/store/WebSocket,dojo/Evented,dojox/charting/axis2d/legend,dojox/slickgrid/slickgrid,dojo/store/Memory".split(","),
function(t,u,w,q,p,j,y,r,h){return t("marco.WorldBank.view.c.WBChar",[r,h],{chatQueryfunc:function(i){var f="#FF0000,#0000FF,#00FF00,#800080,#20B2AA,#8B0A50,#FF4040,#F4A460,#E0FFFF,#CDCD00,#BF3EFF,#AB82FF,#A0522D,#8B636C,#8A8A8A,#c5ff5eff,#636363,#00FFFF,#00CD66,#2f3dffff,#d5b32b,#a344bb,#ffcc00,#2b91d5,#ee9611,#ee11c2,#91766f,#777e88,#808080,#338fcc,#ffcc00,#c211ee,#d54d2b,#8a5522ff,#94e61a,#51732d".split(","),d=dijit.byId("theCharDivParent"),e=[],b=[];for(ldi=0;ldi<leftoptions.length;ldi++){var a=
[];b.push(a)}var h=[];for(rdi=0;rdi<rightoptions.length;rdi++)a=[],h.push(a);var c=i[0].result.datas[0][1].datas.reverse(),s=1,k=1,a=i="",g=0,n=100,l=0,o=100;for(di=0;di<=c.length;di++){labelsDateOption={};labelsDateOption.value=di;if(0==di)labelsDateOption.text="";else{labelsDateOption.text=c[di-1][0];for(var m=0;m<leftoptions.length;m++){if(0==di-1&&(1E7<parseFloat(c[di-1][m+1])||1E7<parseFloat(c[di][m+1])||1E7<parseFloat(c[di+1][m+1])))s=1E8,i="(\u5355\u4f4d:\u4ebf)";"NULL"==c[di-1][m+1]?b[m].push(null):
(0==di-1?(g=parseFloat(c[di-1][m+1])/s,n=parseFloat(c[di-1][m+1])/s):(parseFloat(c[di-1][m+1])/s<g&&(g=parseFloat(c[di-1][m+1])/s),parseFloat(c[di-1][m+1])/s>n&&(n=parseFloat(c[di-1][m+1])/s)),b[m].push(parseFloat(c[di-1][m+1])/s))}for(m=0;m<rightoptions.length;m++){if(0==di-1&&(1E7<parseFloat(c[di-1][m+1+leftoptions.length])||1E7<parseFloat(c[di][m+1+leftoptions.length])||1E7<parseFloat(c[di+1][m+1+leftoptions.length])))k=1E8,a="(\u5355\u4f4d\uff1a\u4ebf)";"NULL"==c[di-1][m+1+leftoptions.length]?
h[m].push(null):(0==di-1?(l=parseFloat(c[di-1][m+1+leftoptions.length])/k,o=parseFloat(c[di-1][m+1+leftoptions.length])/k):(parseFloat(c[di-1][m+1+leftoptions.length])/k<l&&(l=parseFloat(c[di-1][m+1+leftoptions.length])/k),parseFloat(c[di-1][m+1+leftoptions.length])/k>o&&(o=parseFloat(c[di-1][m+1+leftoptions.length])/k)),h[m].push(parseFloat(c[di-1][m+1+leftoptions.length])/k))}}e.push(labelsDateOption)}s=(n-g)/20;if(0<parseFloat(s.toFixed()))var j=0;else for(k=1;10>k;k++)if(0<parseFloat(s.toFixed(k))){j=
k;break}c=(o-l)/20;if(0<parseFloat(c.toFixed(0)))var v=0;else for(k=1;10>k;k++)if(0<parseFloat(c.toFixed(k))){v=k;break}j=parseFloat(s.toFixed(j))||10;c=parseFloat(c.toFixed(v))||10;if(1>Math.abs(g)||1>Math.abs(j))g-=j;if(1>Math.abs(l)||1>Math.abs(c))l-=c;n+=j;o+=c;v=function(a,b){var c=a;if(1<=Math.abs(b))var d=c==b?Math.floor(Math.abs(c)).toFixed(0).length-1:Math.floor(Math.abs(b)).toFixed(0).length,d=Math.pow(10,d),c=Math.floor(c/d).toFixed(0)*d;return c};g=v(g,j);l=v(l,c);j=v(j,j);c=v(c,c);if(dijit.byId("theCharDiv"))dijit.byId("theCharDiv").destroy(),
v=document.getElementById("theCharDivParent"),s=document.createElement("div"),s.id="theCharDiv",v.appendChild(s);v=new u({margins:{l:20,t:5,r:20,b:5},titlePos:"top",titleGap:0,titleFont:"normal normal normal 0pt monospace",titleFontColor:"orange",style:"height:100%"},"theCharDiv");v.addAxis("x",{labels:e,font:"normal normal normal 10pt Arial",titleOrientation:"away",titleGap:20,minorTicks:!1,titleFont:"normal normal normal  10pt Arial",titleFontColor:"#646565",majorTickStep:2,natural:!1});v.addAxis("y1",
{vertical:!0,includeZero:!1,font:"normal normal normal  10pt Arial",title:i,titleOrientation:"axis",titleGap:10,titleFont:"normal normal  10pt Arial",titlePos:top,titleFontColor:"#646565",minorTicks:!1,majorTickStep:j,min:g,max:n});v.addAxis("y2",{vertical:!0,leftBottom:!1,includeZero:!1,font:"normal normal normal  10pt Arial",title:a,titleOrientation:"axis",titleGap:10,titleFont:"normal normal  10pt Arial",titleFontColor:"#646565",minorTicks:!1,majorTickStep:c,min:l,max:o});v.addPlot("default",{type:q,
markers:!0,vAxis:"y1",maxAndMin:!1,drawData:!1});v.addPlot("default2",{type:q,markers:!0,vAxis:"y2",maxAndMin:!1,drawData:!1});v.setTheme(p);e=0;i=document.getElementById("theCharLegend");for(n=0;n<b.length&&40>e;n++){var a=leftoptions[n].indName+"-"+leftoptions[n].countryName,r=null,g=b[n],l=f[e];g.forEach(function(a){a&&(r=a)});if(r)v.addSeries(a,g,{plot:"default",marker:"m-3,-3 l0,6 6,0 0,-6 z",stroke:{color:l,width:1}}),g=document.createElement("span"),g.innerHTML="\u2014&nbsp",g.id="eachSpan"+
e,g.setAttribute("class","eachSpanxian"),g.style.color=l,l=document.createElement("span"),l.innerHTML=a,l.setAttribute("class","explainwz"),i.appendChild(g),i.appendChild(l),1==e%2&&(a=document.createElement("br"),i.appendChild(a)),e++}for(b=0;b<h.length&&40>e;b++){var a=rightoptions[b].indName+"-"+rightoptions[b].countryName,t=null,g=h[b],n=f[e];g.forEach(function(a){a&&(t=a)});if(t)v.addSeries(a,g,{plot:"default2",marker:"m-3,0 c0,-4 6,-4 6,0 m-6,0 c0,4 6,4 6,0",stroke:{color:n,width:1}}),g=document.createElement("span"),
g.innerHTML="\u2014&nbsp",g.id="eachSpan"+e,g.setAttribute("class","eachSpanxian"),g.style.color=n,l=document.createElement("span"),l.setAttribute("class","explainwz"),n=document.createElement("span"),n.innerHTML=a,a=document.createElement("span"),a.setAttribute("class","youzhouclass"),a.innerHTML="&nbsp&nbsp\u53f3\u8f74",l.appendChild(n),l.appendChild(a),i.appendChild(g),i.appendChild(l),1==e%2&&(a=document.createElement("br"),i.appendChild(a)),e++}new y(v.chart,"default");new y(v.chart,"default2");
v.render();d.resize()},CharLine:function(){for(var i=this,f=new r,d=window.external.base64encode||btoa,e=charAllInd.slice(0),b=charAllcountry.slice(0),a=dijit.byId("bYear").value,j=dijit.byId("eYear").value,c="",h=0;h<leftoptions.length;h++)c+=leftoptions[h].indcode+"_",c+=leftoptions[h].country+",";for(h=0;h<rightoptions.length;h++)c+=rightoptions[h].indcode+"_",c=h!=rightoptions.length-1?c+(rightoptions[h].country+","):c+rightoptions[h].country;e='{"ind":"'+e.join()+'","country":"'+b.join()+'","formattype":"1","byear":"'+
a+'","eyear":"'+j+'","range":"'+c+'"}';f.query({service:"rpc",so:"jso-ui-mrpsglobalbankdatagrid.jar","function":"gw.sh.func.MrpsGlobalBankIndexDataRequest",paraencode:"base64",parameter:d(e),response_times:1,response_mode:10}).then(function(a){i.chatQueryfunc(a)});f=document.getElementById("theCharLegend");d=document.getElementById("theCharLegendParent");d.removeChild(f);f=document.createElement("div");f.id="theCharLegend";d.appendChild(f)}})})},"marco/WorldBank/view/c/rightBottom":function(){define("dojo/_base/declare,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dijit/layout/_ContentPaneResizeMixin,dojo/_base/lang,dojo/_base/event,dojo/on,dojo/dom-class,dojo/dom-attr,dojo/text!../v/rightBottom.html,dijit/Dialog,dojox/layout/ContentPane".split(","),
function(t,u,w,q,p,j,y,r,h,i,f){return t("marco.WorldBank.view.v.rightBottom",[u,w,q,p],{templateString:f,postCreate:function(){}})})},"url:marco/WorldBank/view/v/rightBottom.html":'<div data-dojo-attach-point="containerNode">\r\n<div data-dojo-type="dijit.layout.TabContainer" id="bottomTabs" data-dojo-props="tabPosition:\'bottom\', selectedchild:\'btab1\', tabStrip:true">\r\n\t\t\t\r\n\t\t\t<div id="btab1" data-dojo-type="dijit.layout.ContentPane" data-dojo-props=\'title:"\u6570\u636e"\'>\r\n\t\t\t\t<div id="myGrid">\u6570\u636e\u8868\u683c</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div id="btab2" data-dojo-type="dijit/layout/BorderContainer" data-dojo-props=\'title:"\u56fe\u5f62",design:"sidebar",\'>\r\n\t\t\t\t\t<div data-dojo-type="dijit/layout/BorderContainer" data-dojo-props=\'region:"center" \' style="height:100%">\r\n\t\t\t\t\t\t<\!-- \r\n\t\t\t\t\t\t<div id="CharButtonParent" data-dojo-type="dijit/layout/ContentPane" data-dojo-props=\'region:"top", splitter:false \' style="height:25px">\r\n\t\t\t\t\t\t\t<span id="tushisapn">\u6ce8\u91ca\uff1a\u5706\u70b9\u6298\u7ebf\u56fe\u5bf9\u5e94\u5de6\u8f74\uff0c\u65b9\u70b9\u6298\u7ebf\u56fe\u5bf9\u5e94\u53f3\u8f74\u3002</span><button type="button" id="CharButton">\u53d6\u6570\u753b\u56fe</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t --\>\r\n\t\t\t\t\t\t<div id="theCharDivParent" data-dojo-type="dijit/layout/ContentPane" data-dojo-props=\'region:"center", splitter:false \'>\r\n\t\t\t\t\t\t\t<div id="theCharDiv"></div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<div id="theCharLegendParent" data-dojo-type="dijit/layout/ContentPane" data-dojo-props=\'region:"bottom", splitter:false \' style="height:100px">\r\n\t\t\t\t\t\t\t <div id="theCharLegend"></div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t \r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t        <div data-dojo-type="dijit/layout/BorderContainer" id="charTree" data-dojo-props=\'region:"right", splitter:true \' style="height:100%;width:250px;">\r\n\t\t\t        \t<div data-dojo-type="dijit/layout/ContentPane" data-dojo-props=\'region:"top", splitter:true \' style="height:47%">\r\n\t\t\t        \t\t<div data-dojo-type="dijit/layout/TabContainer" style="height: 100%;">\r\n\t\t\t\t        \t\t<div id="CharTopTreeParent" data-dojo-type="dijit/layout/ContentPane" data-dojo-props=\'selected:true, title:"\u5de6\u8f74\u6307\u6807"\'>\r\n\t\t\t\t\t\t\t\t\t<div id="ChartopTree"></div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t \t\t\t</div>\r\n\t\t\t\t \t\t</div>\r\n\t\t\t\t \t\t\r\n\t\t\t\t \t\t<div data-dojo-type="dijit/layout/ContentPane" data-dojo-props=\'region:"center"\' style="width:100%;">\r\n\t\t\t\t \t\t\t<div data-dojo-type="dijit/layout/TabContainer" style="height: 100%;">\r\n\t\t\t\t\t\t\t\t<div id="CharBottomTreeParent" data-dojo-type="dijit/layout/ContentPane" data-dojo-props=\'selected:true, title:"\u53f3\u8f74\u6307\u6807"\'>\r\n\t\t\t\t\t\t\t\t\t<div id="CharBottomTree"></div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t \t\t</div>\r\n\t\t\t        </div>\r\n\t\t\t</div>\r\n</div>\r\n</div>',
"dojox/layout/ContentPane":function(){define("dojox/layout/ContentPane",["dojo/_base/lang","dojo/_base/xhr","dijit/layout/ContentPane","dojox/html/_base","dojo/_base/declare"],function(t,u,w,q,p){return p("dojox.layout.ContentPane",w,{adjustPaths:!1,cleanContent:!1,renderStyles:!1,executeScripts:!0,scriptHasHooks:!1,ioMethod:u.get,ioArgs:{},onExecError:function(){},_setContent:function(j){var p=this._contentSetter;if(!(p&&p instanceof q._ContentSetter))p=this._contentSetter=new q._ContentSetter({node:this.containerNode,
_onError:t.hitch(this,this._onError),onContentError:t.hitch(this,function(j){j=this.onContentError(j);try{this.containerNode.innerHTML=j}catch(h){console.error("Fatal "+this.id+" could not change content due to "+h.message,h)}})});this._contentSetterParams={adjustPaths:Boolean(this.adjustPaths&&(this.href||this.referencePath)),referencePath:this.href||this.referencePath,renderStyles:this.renderStyles,executeScripts:this.executeScripts,scriptHasHooks:this.scriptHasHooks,scriptHookReplacement:"dijit.byId('"+
this.id+"')"};this.inherited("_setContent",arguments)}})})},"dojox/html/_base":function(){define("dojox/html/_base","dojo/_base/declare,dojo/Deferred,dojo/dom-construct,dojo/html,dojo/_base/kernel,dojo/_base/lang,dojo/ready,dojo/_base/sniff,dojo/_base/url,dojo/_base/xhr,dojo/when,dojo/_base/window".split(","),function(t,u,w,q,p,j,y,r,h,i,f,d){var e=p.getObject("dojox.html",!0),b=/(?:(?:@import\s*(['"])(?![a-z]+:|\/)([^\r\n;{]+?)\1)|url\(\s*(['"]?)(?![a-z]+:|\/)([^\r\n;]+?)\3\s*\))([a-z, \s]*[;}]?)/g,
a=e._adjustCssPaths=function(a,c){if(c&&a)return c.replace(b,function(b,c,d,e,l,f){return d?'@import "'+(new h(a,"./"+d)).toString()+'"'+f:"url("+(new h(a,"./"+l)).toString()+")"+f})},x=/(<[a-z][a-z0-9]*\s[^>]*)(?:(href|src)=(['"]?)([^>]*?)\3|style=(['"]?)([^>]*?)\5)([^>]*>)/gi,c=e._adjustHtmlPaths=function(b,c){var d=b||"./";return c.replace(x,function(b,c,e,l,f,n,g,i){return c+(e?e+"="+l+(new h(d,f)).toString()+l:"style="+n+a(d,g)+n)+i})},s=e._snarfStyles=function(b,c,d){d.attributes=[];c=c.replace(/<[!][-][-](.|\s)*?[-][-]>/g,
function(a){return a.replace(/<(\/?)style\b/ig,"&lt;$1Style").replace(/<(\/?)link\b/ig,"&lt;$1Link").replace(/@import "/ig,'@ import "')});return c.replace(/(?:<style([^>]*)>([\s\S]*?)<\/style>|<link\s+(?=[^>]*rel=['"]?stylesheet)([^>]*?href=(['"])([^>]*?)\4[^>\/]*)\/?>)/gi,function(c,e,f,l,h,g){c=(e||l||"").replace(/^\s*([\s\S]*?)\s*$/i,"$1");f?f=d.push(b?a(b,f):f):(f=d.push('@import "'+g+'";'),c=c.replace(/\s*(?:rel|href)=(['"])?[^\s]*\1\s*/gi,""));if(c){c=c.split(/\s+/);g={};l=0;for(h=c.length;l<
h;l++)e=c[l].split("="),g[e[0]]=e[1].replace(/^\s*['"]?([\s\S]*?)['"]?\s*$/,"$1");d.attributes[f-1]=g}return""})},k=e._snarfScripts=function(a,b){function c(a){b.downloadRemote&&(a=a.replace(/&([a-z0-9#]+);/g,function(a,b){switch(b){case "amp":return"&";case "gt":return">";case "lt":return"<";default:return"#"==b.charAt(0)?String.fromCharCode(b.substring(1)):"&"+b+";"}}),i.get({url:a,sync:!0,load:function(a){b.code+=a+";"},error:b.errBack}))}b.code="";a=a.replace(/<[!][-][-](.|\s)*?[-][-]>/g,function(a){return a.replace(/<(\/?)script\b/ig,
"&lt;$1Script")});return a.replace(/<script\s*(?![^>]*type=['"]?(?:dojo\/|text\/html\b))[^>]*?(?:src=(['"]?)([^>]*?)\1[^>]*)?>([\s\S]*?)<\/script>/gi,function(a,d,e,f){e?c(e):b.code+=f;return""})},g=e.evalInGlobal=function(a,b){var b=b||d.doc.body,c=b.ownerDocument.createElement("script");c.type="text/javascript";b.appendChild(c);c.text=a};e._ContentSetter=t(q._ContentSetter,{adjustPaths:!1,referencePath:".",renderStyles:!1,executeScripts:!1,scriptHasHooks:!1,scriptHookReplacement:null,_renderStyles:function(a){this._styleNodes=
[];for(var b,c,d,e=this.node.ownerDocument,f=e.getElementsByTagName("head")[0],g=0,h=a.length;g<h;g++){d=a[g];c=a.attributes[g];b=e.createElement("style");b.setAttribute("type","text/css");for(var i in c)b.setAttribute(i,c[i]);this._styleNodes.push(b);f.appendChild(b);b.styleSheet?b.styleSheet.cssText=d:b.appendChild(e.createTextNode(d))}},empty:function(){this.inherited("empty",arguments);this._styles=[]},onBegin:function(){this.inherited("onBegin",arguments);var a=this.content,b=this._styles;if(j.isString(a)){this.adjustPaths&&
this.referencePath&&(a=c(this.referencePath,a));if(this.renderStyles||this.cleanContent)a=s(this.referencePath,a,b);if(this.executeScripts){var d=this,b={downloadRemote:!0,errBack:function(a){d._onError.call(d,"Exec",'Error downloading remote script in "'+d.id+'"',a)}},a=k(a,b);this._code=b.code}}this.content=a},onEnd:function(){var a=this._code,b=this._styles;if(this._styleNodes&&this._styleNodes.length)for(;this._styleNodes.length;)w.destroy(this._styleNodes.pop());this.renderStyles&&b&&b.length&&
this._renderStyles(b);if(this.executeScripts&&a){this.cleanContent&&(a=a.replace(/(<\!--|(?:\/\/)?--\>|<!\[CDATA\[|\]\]>)/g,""));this.scriptHasHooks&&(a=a.replace(/_container_(?!\s*=[^=])/g,this.scriptHookReplacement));try{g(a,this.node)}catch(c){this._onError("Exec","Error eval script in "+this.id+", "+c.message,c)}}var d=this.getInherited(arguments),e=arguments,h=new u;y(j.hitch(this,function(){d.apply(this,e);f(this.parseDeferred,function(){h.resolve()})}));return h.promise},tearDown:function(){this.inherited(arguments);
delete this._styles;if(this._styleNodes&&this._styleNodes.length)for(;this._styleNodes.length;)w.destroy(this._styleNodes.pop());delete this._styleNodes;j.mixin(this,e._ContentSetter.prototype)}});e.set=function(a,b,c){return c?(new e._ContentSetter(j.mixin(c,{content:b,node:a}))).set():q._setNodeContent(a,b,!0)};return e})}}});
define("marco/WorldBank/src","dojo/_base/lang,dijit/dijit,dojo/parser,dojo/ready,marco/WorldBank/view/c/top,marco/WorldBank/view/c/WBTree,marco/WorldBank/view/c/rightBottom,marco/WorldBank/view/m/DataService,marco/WorldBank/view/c/rightGrid,marco/WorldBank/view/c/WBCharTree,marco/WorldBank/view/c/WBChar,dojo/on,dojo/aspect".split(","),function(t,u,w,q,p,j,y,r,h,i,f,d,e){return function(){w.parse().then(function(){var b=new p({},"rTop");b.setYear();b.setYangs();b=new j;b.createTopTree();b.createbottomTree();
u.byId("btab1");var a=new r,d=new h;if(localStorage.WBtopTreeSelectedCode&&2<localStorage.WBtopTreeSelectedCode.length)var c=JSON.parse(localStorage.WBtopTreeSelectedName),b=JSON.parse(localStorage.WBtopTreeSelectedCode);else c=["\u6536\u5165,\u4e0d\u5305\u62ec\u6350\u8d60(\u73b0\u4ef7\u672c\u5e01)","\u6536\u5165,\u4e0d\u5305\u62ec\u6350\u8d60(\u5360GDP\u7684\u6bd4\u4f8b)","\u7a0e\u6536(\u73b0\u503c\u672c\u5e01)","\u7a0e\u6536(\u5360GDP\u7684\u767e\u5206\u6bd4)"],b=[1064,1065,1066,1067];if(localStorage.WBbottomTreeSelectedCode&&
2<localStorage.WBbottomTreeSelectedCode.length)var f=JSON.parse(localStorage.WBbottomTreeSelectedCode),k=JSON.parse(localStorage.WBbottomTreeSelectedName);else f=[155,156,157],k=["\u4e2d\u56fd","\u4e2d\u56fd\u9999\u6e2f","\u4e2d\u56fd\u6fb3\u95e8"];var g=new Date,n=g.getFullYear()-10,g=g.getFullYear();formattype=1;b='{"ind":"'+b.join()+'","country":"'+f.join()+'","formattype":"'+formattype+'","byear":"'+n+'","eyear":"'+g+'"}';a.gridSearch(b,"gridQuery");a.on("gridQuery",function(a){d.createGrid(c,
k,"1",a.data)});var l=document.getElementById("checkquery");l.addEventListener("click",function(){l.className="checkquery";setTimeout(function(){l.className=""},200);var b=WBtopTreeSelectedCode.slice(0),c=WBbottomTreeSelectedCode.slice(0),d=u.byId("bYear").value,e=u.byId("eYear").value,f='{"ind":"'+b.join()+'","country":"'+c.join()+'","formattype":"'+formattype+'","byear":"'+d+'","eyear":"'+e+'"}';3E3<b.length*c.length*(e-d)?alert("\u60a8\u67e5\u8be2\u8303\u56f4\u7684\u6570\u636e\u91cf\u592a\u5927\uff0c\u8bf7\u91cd\u65b0\u9009\u62e9\u3002"):
a.gridSearch(f,"checkQueryReturn")});new i;a.on("checkQueryReturn",function(a){var b=WBtopTreeSelectedName.slice(0),c=WBbottomTreeSelectedName.slice(0);WBtopTreeSelectedCode.slice(0);WBbottomTreeSelectedCode.slice(0);d.createGrid(b,c,formattype,a.data)});lastTopCharcountry=[];lastBottomCharcountry=[];charfirst=0;var b=u.byId("bottomTabs"),o=u.byId("btab2"),m=u.byId("rightTree_splitter");e.after(b,"_showChild",function(){!0==o.selected?m.set("state","closed"):m.set("state","full")});fristWBCharTree=
1})}});