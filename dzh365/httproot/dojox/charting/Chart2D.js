/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is an optimized version of Dojo, built for deployment and not for
	development. To get sources and documentation, please visit:

		http://dojotoolkit.org
*/

//>>built
require({cache:{"dojox/gfx/canvasWithEvents":function(){define("dojo/_base/lang,dojo/_base/declare,dojo/_base/connect,dojo/_base/Color,dojo/dom,dojo/dom-geometry,./_base,./canvas,./shape,./matrix,dojo/cssScale".split(","),function(l,h,f,i,g,e,d,c,b,a,k){var m=d.canvasWithEvents={};m.Shape=h("dojox.gfx.canvasWithEvents.Shape",c.Shape,{_testInputs:function(b,c){if(this.clip||!this.canvasFill&&this.strokeStyle)this._hitTestPixel(b,c);else{this._renderShape(b);for(var d=this.getTransform(),k=0;k<c.length;++k){var e=
c[k];if(!e.target){var f=e.x,g=e.y,f=d?a.multiplyPoint(a.invert(d),f,g):{x:f,y:g};e.target=this._hitTestGeometry(b,f.x,f.y)}}}},_hitTestPixel:function(a,b){for(var c=0;c<b.length;++c){var d=b[c];if(!d.target){var k=d.x,e=d.y;a.clearRect(0,0,1,1);a.save();a.translate(-k,-e);this._render(a,!0);d.target=a.getImageData(0,0,1,1).data[0]?this:null;a.restore()}}},_hitTestGeometry:function(a,b,c){return a.isPointInPath(b,c)?this:null},_renderFill:function(a,b){a.pickingMode?"canvasFill"in this&&b&&a.fill():
this.inherited(arguments)},_renderStroke:function(a,b){if(this.strokeStyle&&a.pickingMode){var c=this.strokeStyle.color;try{this.strokeStyle.color=new i(a.strokeStyle),this.inherited(arguments)}finally{this.strokeStyle.color=c}}else this.inherited(arguments)},getEventSource:function(){return this.surface.getEventSource()},connect:function(a,b,c){this.surface._setupEvents(a);return 2<arguments.length?f.connect(this,a,b,c):f.connect(this,a,b)},disconnect:function(a){f.disconnect(a)},oncontextmenu:function(){},
onclick:function(){},ondblclick:function(){},onmouseenter:function(){},onmouseleave:function(){},onmouseout:function(){},onmousedown:function(){},ontouchstart:function(){},touchstart:function(){},onmouseup:function(){},ontouchend:function(){},touchend:function(){},onmouseover:function(){},onmousemove:function(){},ontouchmove:function(){},touchmove:function(){},onkeydown:function(){},onkeyup:function(){}});m.Group=h("dojox.gfx.canvasWithEvents.Group",[m.Shape,c.Group],{_testInputs:function(b,c){var d=
this.children,k=this.getTransform(),e,f;if(0!==d.length){var g=[];for(e=0;e<c.length;++e)if(f=c[e],g[e]={x:f.x,y:f.y},!f.target){var p=f.x,m=f.y,p=k?a.multiplyPoint(a.invert(k),p,m):{x:p,y:m};f.x=p.x;f.y=p.y}for(e=d.length-1;0<=e;--e){d[e]._testInputs(b,c);f=!0;for(k=0;k<c.length;++k)if(null==c[k].target){f=!1;break}if(f)break}if(this.clip)for(e=0;e<c.length;++e){if(f=c[e],f.x=g[e].x,f.y=g[e].y,f.target){b.clearRect(0,0,1,1);b.save();b.translate(-f.x,-f.y);this._render(b,!0);if(!b.getImageData(0,
0,1,1).data[0])f.target=null;b.restore()}}else for(e=0;e<c.length;++e)c[e].x=g[e].x,c[e].y=g[e].y}}});m.Image=h("dojox.gfx.canvasWithEvents.Image",[m.Shape,c.Image],{_renderShape:function(a){var b=this.shape;a.pickingMode?a.fillRect(b.x,b.y,b.width,b.height):this.inherited(arguments)},_hitTestGeometry:function(a,b,c){a=this.shape;return b>=a.x&&b<=a.x+a.width&&c>=a.y&&c<=a.y+a.height?this:null}});m.Text=h("dojox.gfx.canvasWithEvents.Text",[m.Shape,c.Text],{_testInputs:function(a,b){return this._hitTestPixel(a,
b)}});m.Rect=h("dojox.gfx.canvasWithEvents.Rect",[m.Shape,c.Rect],{});m.Circle=h("dojox.gfx.canvasWithEvents.Circle",[m.Shape,c.Circle],{});m.Ellipse=h("dojox.gfx.canvasWithEvents.Ellipse",[m.Shape,c.Ellipse],{});m.Line=h("dojox.gfx.canvasWithEvents.Line",[m.Shape,c.Line],{});m.DashedLine=h("dojox.gfx.canvasWithEvents.DashedLine",[m.Shape,c.DashedLine],{});m.Polyline=h("dojox.gfx.canvasWithEvents.Polyline",[m.Shape,c.Polyline],{});m.AlternatePolyline=h("dojox.gfx.canvasWithEvents.AlternatePolyline",
[m.Shape,c.AlternatePolyline],{});m.Path=h("dojox.gfx.canvasWithEvents.Path",[m.Shape,c.Path],{});m.TextPath=h("dojox.gfx.canvasWithEvents.TextPath",[m.Shape,c.TextPath],{});var o={onmouseenter:"onmousemove",onmouseleave:"onmousemove",onmouseout:"onmousemove",onmouseover:"onmousemove",touchstart:"ontouchstart",touchend:"ontouchend",touchmove:"ontouchmove"},p={ontouchstart:"touchstart",ontouchend:"touchend",ontouchmove:"touchmove"},A=navigator.userAgent.toLowerCase(),t=-1<A.search("iphone")||-1<A.search("ipad")||
-1<A.search("ipod");m.Surface=h("dojox.gfx.canvasWithEvents.Surface",c.Surface,{constructor:function(){this._pick={curr:null,last:null};this._pickOfMouseUp=this._pickOfMouseDown=null},connect:function(a,c,k){if(-1!==a.indexOf("touch"))return this._setupEvents(a),f.connect(this,"_on"+a+"Impl_",c,k);this._initMirrorCanvas();return f.connect(this.getEventSource(),a,null,b.fixCallback(this,d.fixTarget,c,k))},_ontouchstartImpl_:function(){},_ontouchendImpl_:function(){},_ontouchmoveImpl_:function(){},
_initMirrorCanvas:function(){if(!this.mirrorCanvas){var a=this._parent,b=a.ownerDocument.createElement("canvas");b.width=1;b.height=1;b.style.position="absolute";b.style.left="-99999px";b.style.top="-99999px";a.appendChild(b);this.mirrorCanvas=b}},_setupEvents:function(a){a in o&&(a=o[a]);if(!this._eventsH||!this._eventsH[a]){this._initMirrorCanvas();if(!this._eventsH)this._eventsH={};this._eventsH[a]=f.connect(this.getEventSource(),a,b.fixCallback(this,d.fixTarget,this,"_"+a));if("onclick"===a||
"ondblclick"===a)this._eventsH.onmousedown||(this._eventsH.onmousedown=f.connect(this.getEventSource(),"onmousedown",b.fixCallback(this,d.fixTarget,this,"_onmousedown"))),this._eventsH.onmouseup||(this._eventsH.onmouseup=f.connect(this.getEventSource(),"onmouseup",b.fixCallback(this,d.fixTarget,this,"_onmouseup")))}},destroy:function(){b.Surface.prototype.destroy.apply(this);for(var a in this._eventsH)f.disconnect(this._eventsH[a]);this._eventsH=this.mirrorCanvas=null},getEventSource:function(){return this.rawNode},
_invokeHandler:function(a,b,c){var d=a[b];d&&d.after?d.apply(a,[c]):b in p&&(d=a[p[b]])&&d.after&&d.apply(a,[c]);!d&&-1!==b.indexOf("touch")&&(b="_"+b+"Impl_",(d=a[b])&&d.apply(a,[c]));!(void 0!==c.cancelBubble&&c.cancelBubble)&&a.parent&&this._invokeHandler(a.parent,b,c)},_oncontextmenu:function(a){this._pick.curr&&this._invokeHandler(this._pick.curr,"oncontextmenu",a)},_ondblclick:function(a){this._pickOfMouseUp&&this._invokeHandler(this._pickOfMouseUp,"ondblclick",a)},_onclick:function(a){this._pickOfMouseUp&&
this._pickOfMouseUp==this._pickOfMouseDown&&this._invokeHandler(this._pickOfMouseUp,"onclick",a)},_onmousedown:function(a){(this._pickOfMouseDown=this._pick.curr)&&this._invokeHandler(this._pick.curr,"onmousedown",a)},_ontouchstart:function(a){this._pick.curr&&this._fireTouchEvent(a)},_onmouseup:function(a){(this._pickOfMouseUp=this._pick.curr)&&this._invokeHandler(this._pick.curr,"onmouseup",a)},_ontouchend:function(a){if(this._pick.curr)for(var b=0;b<this._pick.curr.length;++b)if(this._pick.curr[b].target)a.gfxTarget=
this._pick.curr[b].target,this._invokeHandler(this._pick.curr[b].target,"ontouchend",a)},_onmousemove:function(a){this._pick.last&&this._pick.last!=this._pick.curr&&(this._invokeHandler(this._pick.last,"onmouseleave",a),this._invokeHandler(this._pick.last,"onmouseout",a));this._pick.curr&&(this._pick.last==this._pick.curr?this._invokeHandler(this._pick.curr,"onmousemove",a):(this._invokeHandler(this._pick.curr,"onmouseenter",a),this._invokeHandler(this._pick.curr,"onmouseover",a)))},_ontouchmove:function(a){this._pick.curr&&
this._fireTouchEvent(a)},_fireTouchEvent:function(a){for(var b=[],c=0;c<this._pick.curr.length;++c){var d=this._pick.curr[c];if(d.target){var k=d.target.__gfxtt;if(!k)k=[],d.target.__gfxtt=k;k.push(d.t);if(!d.target.__inToFire)b.push(d.target),d.target.__inToFire=!0}}if(0===b.length)this._invokeHandler(this,"on"+a.type,a);else for(c=0;c<b.length;++c)(function(){var d=b[c].__gfxtt,k=l.delegate(a,{gfxTarget:b[c]});if(t)k.preventDefault=function(){a.preventDefault()},k.stopPropagation=function(){a.stopPropagation()};
k.__defineGetter__("targetTouches",function(){return d});delete b[c].__gfxtt;delete b[c].__inToFire;this._invokeHandler(b[c],"on"+a.type,k)}).call(this)},_onkeydown:function(){},_onkeyup:function(){},_whatsUnderEvent:function(a){var b=e.position(this.rawNode,!0),c=[],d=a.changedTouches,k=a.touches;if(d)for(a=0;a<d.length;++a)c.push({t:d[a],x:d[a].pageX-b.x,y:d[a].pageY-b.y});else if(k)for(a=0;a<k.length;++a)c.push({t:k[a],x:k[a].pageX-b.x,y:k[a].pageY-b.y});else c.push({x:a.pageX-b.x,y:a.pageY-b.y});
var a=this.mirrorCanvas,b=a.getContext("2d"),f=this.children;b.clearRect(0,0,a.width,a.height);b.save();b.strokeStyle="rgba(127,127,127,1.0)";b.fillStyle="rgba(127,127,127,1.0)";b.pickingMode=!0;for(a=f.length-1;0<=a;a--){f[a]._testInputs(b,c);var g=!0;for(j=0;j<c.length;++j)if(null==c[j].target){g=!1;break}if(g)break}b.restore();return k||d?c:c[0].target}});m.createSurface=function(a,b,c){if(!b&&!c)var f=e.position(a),b=b||f.w,c=c||f.h;"number"==typeof b&&(b+="px");"number"==typeof c&&(c+="px");
var f=new m.Surface,a=g.byId(a),p=a.ownerDocument.createElement("canvas");p.style["-webkit-transform-origin"]="left top";p.style.position="absolute";p.style["-webkit-transform"]="scale("+1/k.getScaleX()+","+1/k.getScaleY()+")";p.width=k.scaleMul(d.normalizedLength(b),"x");p.height=k.scaleMul(d.normalizedLength(c),"y");p.id=a.id+"_canvas";a.appendChild(p);f.rawNode=p;f._parent=a;return f.surface=f};m.fixTarget=function(a,b){if(void 0!==a.cancelBubble&&a.cancelBubble)return!1;if(!a.gfxTarget&&(b._pick.last=
b._pick.curr,b._pick.curr=b._whatsUnderEvent(a),!l.isArray(b._pick.curr)))a.gfxTarget=b._pick.curr;return!0};return m})},"dojox/gfx/_base":function(){define("dojo/_base/kernel,dojo/_base/lang,dojo/_base/Color,dojo/_base/sniff,dojo/_base/window,dojo/_base/array,dojo/dom,dojo/dom-construct,dojo/dom-geometry".split(","),function(l,h,f,i,g,e,d,c,b){var a=h.getObject("dojox.gfx",!0),k=a._base={};a._hasClass=function(a,b){var c=a.getAttribute("className");return c&&0<=(" "+c+" ").indexOf(" "+b+" ")};a._addClass=
function(a,b){var c=a.getAttribute("className")||"";if(!c||0>(" "+c+" ").indexOf(" "+b+" "))a.setAttribute("className",c+(c?" ":"")+b)};a._removeClass=function(a,b){var c=a.getAttribute("className");c&&a.setAttribute("className",c.replace(RegExp("(^|\\s+)"+b+"(\\s+|$)"),"$1$2"))};k._getFontMeasurements=function(){var a={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,small:0,medium:0,large:0,"x-large":0,"xx-large":0},b,d=c.create("div",{style:{position:"absolute",left:"0",top:"-100px",
width:"30px",height:"1000em",borderWidth:"0",margin:"0",padding:"0",outline:"none",lineHeight:"1",overflow:"hidden"}},g.body());for(b in a)d.style.fontSize=b,a[b]=16*Math.round(12*d.offsetHeight/16)/12/1E3;g.body().removeChild(d);return a};var m=null;k._getCachedFontMeasurements=function(a){if(a||!m)m=k._getFontMeasurements();return m};var o=null,p={};k._getTextBox=function(a,d,k){var e,f,m=arguments.length,A;o||(o=c.create("div",{style:{position:"absolute",top:"-10000px",left:"0"}},g.body()));e=
o;e.className="";f=e.style;f.borderWidth="0";f.margin="0";f.padding="0";f.outline="0";if(1<m&&d)for(A in d)A in p||(f[A]=d[A]);if(2<m&&k)e.className=k;e.innerHTML=a;e.getBoundingClientRect?(f=e.getBoundingClientRect(),textBox={l:f.left,t:f.top,w:f.width||f.right-f.left,h:f.height||f.bottom-f.top}):textBox=b.getMarginBox(e);e.innerHTML="";return textBox};var A=0;k._getUniqueId=function(){var a;do a=l._scopeName+"xUnique"+ ++A;while(d.byId(a));return a};h.mixin(a,{defaultPath:{type:"path",path:""},
defaultPolyline:{type:"polyline",points:[]},defaultAlternatePolyline:{type:"polyline",points:[]},defaultRect:{type:"rect",x:0,y:0,width:100,height:100,r:0},defaultEllipse:{type:"ellipse",cx:0,cy:0,rx:200,ry:100},defaultCircle:{type:"circle",cx:0,cy:0,r:100},defaultLine:{type:"line",x1:0,y1:0,x2:100,y2:100},defaultDashedLine:{type:"dashedline",x1:0,y1:0,x2:100,y2:100},defaultImage:{type:"image",x:0,y:0,width:0,height:0,src:""},defaultText:{type:"text",x:0,y:0,text:"",align:"start",textBaseline:"middle",
decoration:"none",rotated:!1,kerning:!0},defaultTextPath:{type:"textpath",text:"",align:"start",decoration:"none",rotated:!1,kerning:!0},defaultStroke:{type:"stroke",color:"black",style:"solid",width:1,cap:"butt",join:4},defaultLinearGradient:{type:"linear",x1:0,y1:0,x2:100,y2:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultRadialGradient:{type:"radial",cx:0,cy:0,r:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultPattern:{type:"pattern",x:0,y:0,width:0,
height:0,src:""},defaultFont:{type:"font",style:"normal",variant:"normal",weight:"normal",size:"10pt",family:"serif"},getDefault:function(){var b={};return function(c){var d=b[c];if(d)return new d;d=b[c]=new Function;d.prototype=a["default"+c];return new d}}(),normalizeColor:function(a){return a instanceof f?a:new f(a)},normalizeParameters:function(a,b){var c;if(b){var d={};for(c in a)c in b&&!(c in d)&&(a[c]=b[c])}return a},makeParameters:function(a,b){var c=null;if(!b)return h.delegate(a);var d=
{};for(c in a)c in d||(d[c]=h.clone(c in b?b[c]:a[c]));return d},formatNumber:function(a,b){var c=a.toString();if(0<=c.indexOf("e"))c=a.toFixed(4);else{var d=c.indexOf(".");0<=d&&5<c.length-d&&(c=a.toFixed(4))}return 0>a?c:b?" "+c:c},makeFontString:function(a){return a.style+" "+a.variant+" "+a.weight+" "+a.size+" "+a.family},splitFontString:function(b){var c=a.getDefault("Font"),b=b.split(/\s+/);if(!(5>b.length)){c.style=b[0];c.variant=b[1];c.weight=b[2];var d=b[3].indexOf("/");c.size=0>d?b[3]:b[3].substring(0,
d);var k=4;0>d&&("/"==b[4]?k=6:"/"==b[4].charAt(0)&&(k=5));if(k<b.length)c.family=b.slice(k).join(" ")}return c},cm_in_pt:72/2.54,mm_in_pt:7.2/2.54,px_in_pt:function(){return a._base._getCachedFontMeasurements()["12pt"]/12},pt2px:function(b){return b*a.px_in_pt()},px2pt:function(b){return b/a.px_in_pt()},normalizedLength:function(b){if(0===b.length)return 0;if(2<b.length){var c=a.px_in_pt(),d=parseFloat(b);switch(b.slice(-2)){case "px":return d;case "pt":return d*c;case "in":return 72*d*c;case "pc":return 12*
d*c;case "mm":return d*a.mm_in_pt*c;case "cm":return d*a.cm_in_pt*c}}return parseFloat(b)},pathVmlRegExp:/([A-Za-z]+)|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,pathSvgRegExp:/([A-Za-z])|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,equalSources:function(a,b){return a&&b&&a===b},switchTo:function(b){var c="string"==typeof b?a[b]:b;c&&e.forEach("Group,Rect,Ellipse,Circle,Line,DashedLine,AlternatePolyline,Polyline,Image,Text,Path,TextPath,Surface,createSurface,fixTarget".split(","),function(b){a[b]=
c[b]})}});return a})},"dojox/gfx/canvas":function(){define("./_base,dojo/_base/lang,dojo/_base/array,dojo/_base/declare,dojo/_base/window,dojo/dom-geometry,dojo/dom,./_base,./shape,./path,./arc,./matrix,./decompose,dojox/canvasDashedLine,dojo/cssScale".split(","),function(l,h,f,i,g,e,d,c,b,a,k,m,o,p,A){var t=l.canvas={},s=null,B=m.multiplyPoint,x=Math.PI,u=2*x,r=x/2,c=h.extend;t.Shape=i("dojox.gfx.canvas.Shape",b.Shape,{_render:function(a){a.save();this._renderTransform(a);this._renderClip(a);this._renderShape(a);
this._renderFill(a,!0);this._renderStroke(a,!0);a.restore()},_renderClip:function(a){this.canvasClip&&(this.canvasClip.render(a),a.clip())},_renderTransform:function(a){if("canvasTransform"in this){var b=this.canvasTransform;a.translate(b.dx,b.dy);a.rotate(b.angle2);a.scale(b.sx,b.sy);a.rotate(b.angle1)}},_renderShape:function(){},_renderFill:function(a,b){if("canvasFill"in this){var c=this.fillStyle;if("canvasFillImage"in this){var d=c.width,k=c.height,e=this.canvasFillImage.width,f=this.canvasFillImage.height,
g=Math.min(d==e?1:d/e,k==f?1:k/f),p=(d-g*e)/2,m=(k-g*f)/2;s.width=d;s.height=k;var o=s.getContext("2d");o.clearRect(0,0,d,k);o.drawImage(this.canvasFillImage,0,0,e,f,p,m,g*e,g*f);this.canvasFill=a.createPattern(s,"repeat");delete this.canvasFillImage}a.fillStyle=this.canvasFill;b&&("pattern"===c.type&&(0!==c.x||0!==c.y)&&a.translate(c.x,c.y),a.fill())}else a.fillStyle="rgba(0,0,0,0.0)"},_renderStroke:function(a,b){var c=this.strokeStyle;if(c)a.strokeStyle=c.color.toString(),a.lineWidth=c.width,a.lineCap=
c.cap,"number"==typeof c.join?(a.lineJoin="miter",a.miterLimit=c.join):a.lineJoin=c.join,b&&a.stroke();else if(!b)a.strokeStyle="rgba(0,0,0,0.0)"},getEventSource:function(){return null},connect:function(){},disconnect:function(){},canvasClip:null,setClip:function(a){this.inherited(arguments);var b=a?"width"in a?"rect":"cx"in a?"ellipse":"points"in a?"polyline":"d"in a?"path":null:null;if(a&&!b)return this;this.canvasClip=a?D(b,a):null;this.surface.makeDirty();return this}});var D=function(a,b){switch(a){case "ellipse":return{canvasEllipse:K(b),
render:function(a){return t.Ellipse.prototype._renderShape.call(this,a)}};case "rect":return{shape:h.delegate(b,{r:0}),render:function(a){return t.Rect.prototype._renderShape.call(this,a)}};case "path":return{canvasPath:C(b),render:function(a){this.canvasPath._renderShape(a)}};case "polyline":return{canvasPolyline:b.points,render:function(a){return t.Polyline.prototype._renderShape.call(this,a)}}}return null},C=function(a){var b=new dojox.gfx.canvas.Path;b.canvasPath=[];b._setPath(a.d);return b},
q=function(a,b,c){var d=a.prototype[b];a.prototype[b]=c?function(){this.surface.makeDirty();d.apply(this,arguments);c.call(this);return this}:function(){this.surface.makeDirty();return d.apply(this,arguments)}};q(t.Shape,"setTransform",function(){this.matrix?this.canvasTransform=l.decompose(this.matrix):delete this.canvasTransform});q(t.Shape,"setFill",function(){var a=this.fillStyle,b;if(a){if("object"==typeof a&&"type"in a){var c=this.surface.rawNode.getContext("2d");switch(a.type){case "linear":case "radial":b=
"linear"==a.type?c.createLinearGradient(a.x1,a.y1,a.x2,a.y2):c.createRadialGradient(a.cx,a.cy,0,a.cx,a.cy,a.r);f.forEach(a.colors,function(a){b.addColorStop(a.offset,l.normalizeColor(a.color).toString())});break;case "pattern":s||(s=document.createElement("canvas")),c=new Image,this.surface.downloadImage(c,a.src),this.canvasFillImage=c}}else b=a.toString();this.canvasFill=b}else delete this.canvasFill});q(t.Shape,"setStroke");q(t.Shape,"setShape");t.Group=i("dojox.gfx.canvas.Group",t.Shape,{constructor:function(){b.Container._init.call(this)},
_render:function(a){a.save();this._renderTransform(a);this._renderClip(a);for(var b=0;b<this.children.length;++b)this.children[b]._render(a);a.restore()},destroy:function(){this.clear(!0);t.Shape.prototype.destroy.apply(this,arguments)}});t.Rect=i("dojox.gfx.canvas.Rect",[t.Shape,b.Rect],{_renderShape:function(a){var b=this.shape,c=Math.min(b.r,b.height/2,b.width/2),d=b.x,k=d+b.width,e=b.y,b=e+b.height,f=d+c,g=k-c,p=e+c,m=b-c;a.beginPath();a.moveTo(f,e);c?0<c&&(a.arc(g,p,c,-r,0,!1),a.arc(g,m,c,0,
r,!1),a.arc(f,m,c,r,x,!1),a.arc(f,p,c,x,x+r,!1)):(a.lineTo(g,e),a.lineTo(k,m),a.lineTo(f,b),a.lineTo(d,p));a.closePath()}});var z=[];(function(){var a=k.curvePI4;z.push(a.s,a.c1,a.c2,a.e);for(var b=45;360>b;b+=45){var c=m.rotateg(b);z.push(B(c,a.c1),B(c,a.c2),B(c,a.e))}})();var K=function(a){var b,c,d=[],k=m.normalize([m.translate(a.cx,a.cy),m.scale(a.rx,a.ry)]),a=B(k,z[0]);d.push([a.x,a.y]);for(var e=1;e<z.length;e+=3)b=B(k,z[e]),c=B(k,z[e+1]),a=B(k,z[e+2]),d.push([b.x,b.y,c.x,c.y,a.x,a.y]);return d};
t.Ellipse=i("dojox.gfx.canvas.Ellipse",[t.Shape,b.Ellipse],{setShape:function(){this.inherited(arguments);this.canvasEllipse=K(this.shape);return this},_renderShape:function(a){var b=this.canvasEllipse;a.beginPath();a.moveTo.apply(a,b[0]);for(var c=1;c<b.length;++c)a.bezierCurveTo.apply(a,b[c]);a.closePath()}});t.Circle=i("dojox.gfx.canvas.Circle",[t.Shape,b.Circle],{_renderShape:function(a){var b=this.shape;a.beginPath();a.arc(b.cx,b.cy,Math.abs(b.r),0,u,1)}});t.Line=i("dojox.gfx.canvas.Line",[t.Shape,
b.Line],{_renderShape:function(a){var b=this.shape;a.beginPath();a.moveTo(b.x1,b.y1);a.lineTo(b.x2,b.y2)}});t.DashedLine=i("dojox.gfx.canvas.DashedLine",[t.Shape,b.DashedLine],{_renderShape:function(a){var b=this.shape;a.beginPath();var c=this.strokeStyle,d={};c?(d.color=c.color.toString(),d.width=c.width,d.cap=c.cap,d.join="number"==typeof c.join?"miter":c.join):d.color="rgba(0,0,0,0.0)";p.drawDashedPolyLine(a,[[Math.floor(b.x1)+0.5,Math.floor(b.y1)+0.5],[Math.floor(b.x2)+0.5,Math.floor(b.y2)+0.5]],
d)}});t.Polyline=i("dojox.gfx.canvas.Polyline",[t.Shape,b.Polyline],{setShape:function(){this.inherited(arguments);var a=this.shape.points,b=a[0],c,d;this.bbox=null;this._normalizePoints();if(a.length)if("number"==typeof b)b=a;else{b=[];for(d=0;d<a.length;++d)c=a[d],b.push(c.x,c.y)}else b=[];this.canvasPolyline=b;return this},_renderShape:function(a){var b=this.canvasPolyline;if(b.length){a.beginPath();a.globalAlpha=this.globalAlpha?this.globalAlpha:1;a.moveTo(b[0],b[1]);for(var c=2;c<b.length;c+=
2)a.lineTo(b[c],b[c+1])}}});t.AlternatePolyline=i("dojox.gfx.canvas.AlternatePolyline",[t.Shape,b.Polyline],{setShape:function(){this.inherited(arguments);var a=this.shape.points,b=a[0],c,d;this.bbox=null;this._normalizePoints();if(a.length)if("number"==typeof b)b=a;else{b=[];for(d=0;d<a.length;++d)c=a[d],b.push(c.x,c.y)}else b=[];this.alternatePolyline=b;return this},_renderStroke:function(){},_renderShape:function(a){for(var b=this.alternatePolyline,c=this.alternateY,d=b.length,k=3;k<d;++k){var e=
b[k-3],f=b[k-2],g=b[k-1],p=b[k];if(f<c&&c<p||f>c&&c>p)b.splice(k-1,0,(c-f)/((p-f)/(g-e))+e,c),d=b.length;++k}for(k=3;k<d;++k)e=b[k-3],f=b[k-2],g=b[k-1],p=b[k],a.beginPath(),a.strokeStyle=c?f==c?this.strokeStyle.color[f<p?1:0].toString():p==c?this.strokeStyle.color[f<p?0:1].toString():this.strokeStyle.color[f>c?1:0].toString():this.strokeStyle.color[p<f?0:1].toString(),a.lineWidth=this.strokeStyle.width,a.moveTo(e,f),a.lineTo(g,p),a.stroke(),++k}});t.Image=i("dojox.gfx.canvas.Image",[t.Shape,b.Image],
{setShape:function(){this.inherited(arguments);var a=new Image;this.surface.downloadImage(a,this.shape.src);this.canvasImage=a;return this},_renderShape:function(a){var b=this.shape;a.drawImage(this.canvasImage,b.x,b.y,b.width,b.height)}});t.Text=i("dojox.gfx.canvas.Text",[t.Shape,b.Text],{_setFont:function(){this.fontStyle?this.canvasFont=l.makeFontString(this.fontStyle):delete this.canvasFont},getTextWidth:function(){var a=this.shape,b=0,c;if(a.text&&0<a.text.length){c=this.surface.rawNode.getContext("2d");
c.save();this._renderTransform(c);this._renderFill(c,!1);this._renderStroke(c,!1);if(this.canvasFont)c.font=this.canvasFont;b=c.measureText(a.text).width;c.restore()}return b},_render:function(a){a.save();this._renderTransform(a);this._renderFill(a,!1);this._renderStroke(a,!1);this._renderShape(a);a.restore()},_renderShape:function(a){var b=this.shape;if(b.text&&0!=b.text.length){a.textAlign="middle"===b.align?"center":b.align;b.textBaseline&&(a.textBaseline=b.textBaseline);if(this.canvasFont)a.font=
this.canvasFont;this.canvasFill&&a.fillText(b.text,b.x,b.y);this.strokeStyle&&(a.beginPath(),a.strokeText(b.text,b.x,b.y),a.closePath())}}});q(t.Text,"setFont");g.global.CanvasRenderingContext2D&&(g=g.doc.createElement("canvas").getContext("2d"))&&"function"!=typeof g.fillText&&t.Text.extend({getTextWidth:function(){return 0},_renderShape:function(){}});var L={M:"_moveToA",m:"_moveToR",L:"_lineToA",l:"_lineToR",H:"_hLineToA",h:"_hLineToR",V:"_vLineToA",v:"_vLineToR",C:"_curveToA",c:"_curveToR",S:"_smoothCurveToA",
s:"_smoothCurveToR",Q:"_qCurveToA",q:"_qCurveToR",T:"_qSmoothCurveToA",t:"_qSmoothCurveToR",A:"_arcTo",a:"_arcTo",Z:"_closePath",z:"_closePath"};t.Path=i("dojox.gfx.canvas.Path",[t.Shape,a.Path],{constructor:function(){this.lastControl={}},setShape:function(){this.canvasPath=[];return this.inherited(arguments)},_updateWithSegment:function(a){var b=h.clone(this.last);this[L[a.action]](this.canvasPath,a.action,a.args);this.last=b;this.inherited(arguments)},_renderShape:function(a){var b=this.canvasPath;
a.beginPath();a.globalAlpha=this.globalAlpha?this.globalAlpha:1;for(var c=0;c<b.length;c+=2)a[b[c]].apply(a,b[c+1])},_moveToA:function(a,b,c){a.push("moveTo",[c[0],c[1]]);for(b=2;b<c.length;b+=2)a.push("lineTo",[c[b],c[b+1]]);this.last.x=c[c.length-2];this.last.y=c[c.length-1];this.lastControl={}},_moveToR:function(a,b,c){"x"in this.last?a.push("moveTo",[this.last.x+=c[0],this.last.y+=c[1]]):a.push("moveTo",[this.last.x=c[0],this.last.y=c[1]]);for(b=2;b<c.length;b+=2)a.push("lineTo",[this.last.x+=
c[b],this.last.y+=c[b+1]]);this.lastControl={}},_lineToA:function(a,b,c){for(b=0;b<c.length;b+=2)a.push("lineTo",[c[b],c[b+1]]);this.last.x=c[c.length-2];this.last.y=c[c.length-1];this.lastControl={}},_lineToR:function(a,b,c){for(b=0;b<c.length;b+=2)a.push("lineTo",[this.last.x+=c[b],this.last.y+=c[b+1]]);this.lastControl={}},_hLineToA:function(a,b,c){for(b=0;b<c.length;++b)a.push("lineTo",[c[b],this.last.y]);this.last.x=c[c.length-1];this.lastControl={}},_hLineToR:function(a,b,c){for(b=0;b<c.length;++b)a.push("lineTo",
[this.last.x+=c[b],this.last.y]);this.lastControl={}},_vLineToA:function(a,b,c){for(b=0;b<c.length;++b)a.push("lineTo",[this.last.x,c[b]]);this.last.y=c[c.length-1];this.lastControl={}},_vLineToR:function(a,b,c){for(b=0;b<c.length;++b)a.push("lineTo",[this.last.x,this.last.y+=c[b]]);this.lastControl={}},_curveToA:function(a,b,c){for(b=0;b<c.length;b+=6)a.push("bezierCurveTo",c.slice(b,b+6));this.last.x=c[c.length-2];this.last.y=c[c.length-1];this.lastControl.x=c[c.length-4];this.lastControl.y=c[c.length-
3];this.lastControl.type="C"},_curveToR:function(a,b,c){for(b=0;b<c.length;b+=6)a.push("bezierCurveTo",[this.last.x+c[b],this.last.y+c[b+1],this.lastControl.x=this.last.x+c[b+2],this.lastControl.y=this.last.y+c[b+3],this.last.x+c[b+4],this.last.y+c[b+5]]),this.last.x+=c[b+4],this.last.y+=c[b+5];this.lastControl.type="C"},_smoothCurveToA:function(a,b,c){for(b=0;b<c.length;b+=4){var d="C"==this.lastControl.type;a.push("bezierCurveTo",[d?2*this.last.x-this.lastControl.x:this.last.x,d?2*this.last.y-this.lastControl.y:
this.last.y,c[b],c[b+1],c[b+2],c[b+3]]);this.lastControl.x=c[b];this.lastControl.y=c[b+1];this.lastControl.type="C"}this.last.x=c[c.length-2];this.last.y=c[c.length-1]},_smoothCurveToR:function(a,b,c){for(b=0;b<c.length;b+=4){var d="C"==this.lastControl.type;a.push("bezierCurveTo",[d?2*this.last.x-this.lastControl.x:this.last.x,d?2*this.last.y-this.lastControl.y:this.last.y,this.last.x+c[b],this.last.y+c[b+1],this.last.x+c[b+2],this.last.y+c[b+3]]);this.lastControl.x=this.last.x+c[b];this.lastControl.y=
this.last.y+c[b+1];this.lastControl.type="C";this.last.x+=c[b+2];this.last.y+=c[b+3]}},_qCurveToA:function(a,b,c){for(b=0;b<c.length;b+=4)a.push("quadraticCurveTo",c.slice(b,b+4));this.last.x=c[c.length-2];this.last.y=c[c.length-1];this.lastControl.x=c[c.length-4];this.lastControl.y=c[c.length-3];this.lastControl.type="Q"},_qCurveToR:function(a,b,c){for(b=0;b<c.length;b+=4)a.push("quadraticCurveTo",[this.lastControl.x=this.last.x+c[b],this.lastControl.y=this.last.y+c[b+1],this.last.x+c[b+2],this.last.y+
c[b+3]]),this.last.x+=c[b+2],this.last.y+=c[b+3];this.lastControl.type="Q"},_qSmoothCurveToA:function(a,b,c){for(b=0;b<c.length;b+=2){var d="Q"==this.lastControl.type;a.push("quadraticCurveTo",[this.lastControl.x=d?2*this.last.x-this.lastControl.x:this.last.x,this.lastControl.y=d?2*this.last.y-this.lastControl.y:this.last.y,c[b],c[b+1]]);this.lastControl.type="Q"}this.last.x=c[c.length-2];this.last.y=c[c.length-1]},_qSmoothCurveToR:function(a,b,c){for(b=0;b<c.length;b+=2){var d="Q"==this.lastControl.type;
a.push("quadraticCurveTo",[this.lastControl.x=d?2*this.last.x-this.lastControl.x:this.last.x,this.lastControl.y=d?2*this.last.y-this.lastControl.y:this.last.y,this.last.x+c[b],this.last.y+c[b+1]]);this.lastControl.type="Q";this.last.x+=c[b];this.last.y+=c[b+1]}},_arcTo:function(a,b,c){for(var b="a"==b,d=0;d<c.length;d+=7){var e=c[d+5],p=c[d+6];b&&(e+=this.last.x,p+=this.last.y);var g=k.arcAsBezier(this.last,c[d],c[d+1],c[d+2],c[d+3]?1:0,c[d+4]?1:0,e,p);f.forEach(g,function(b){a.push("bezierCurveTo",
b)});this.last.x=e;this.last.y=p}this.lastControl={}},_closePath:function(a){a.push("closePath",[]);this.lastControl={}}});f.forEach("moveTo,lineTo,hLineTo,vLineTo,curveTo,smoothCurveTo,qCurveTo,qSmoothCurveTo,arcTo,closePath".split(","),function(a){q(t.Path,a)});t.TextPath=i("dojox.gfx.canvas.TextPath",[t.Shape,a.TextPath],{_renderShape:function(){},_setText:function(){},_setFont:function(){}});t.Surface=i("dojox.gfx.canvas.Surface",b.Surface,{constructor:function(){b.Container._init.call(this);
this.pendingImageCount=0;this.makeDirty()},setDimensions:function(a,b){this.width=A.scaleMul(l.normalizedLength(a),"x");this.height=A.scaleMul(l.normalizedLength(b),"y");if(!this.rawNode)return this;this.rawNode.style["-webkit-transform"]="scale("+1/A.getScaleX()+","+1/A.getScaleY()+")";var c=!1;if(this.rawNode.width!=this.width)this.rawNode.width=this.width,c=!0;if(this.rawNode.height!=this.height)this.rawNode.height=this.height,c=!0;c&&this.makeDirty();return this},getDimensions:function(){return this.rawNode?
{width:this.rawNode.width,height:this.rawNode.height}:null},getTextWidth:function(a,b){var c=this.rawNode.getContext("2d");c.save();c.font=b;w=c.measureText(a).width;c.restore();return w},_render:function(a){if((a||!this.pendingImageCount)&&this.rawNode)a=this.rawNode.getContext("2d"),a.clearRect(0,0,this.rawNode.width,this.rawNode.height),this.render(a),"pendingRender"in this&&(clearTimeout(this.pendingRender),delete this.pendingRender)},render:function(a){a.save();for(var b=0;b<this.children.length;++b)this.children[b]._render(a);
a.restore()},makeDirty:function(){if(!this.pendingImagesCount&&!("pendingRender"in this))this.pendingRender=setTimeout(h.hitch(this,this._render),0)},downloadImage:function(a,b){var c=h.hitch(this,this.onImageLoad);!this.pendingImageCount++&&"pendingRender"in this&&(clearTimeout(this.pendingRender),delete this.pendingRender);a.onload=c;a.onerror=c;a.onabort=c;a.src=b},onImageLoad:function(){--this.pendingImageCount||(this.onImagesLoaded(),this._render())},onImagesLoaded:function(){},getEventSource:function(){return null},
connect:function(){},disconnect:function(){}});t.createSurface=function(a,b,c){if(!b&&!c)var k=e.position(a),b=b||k.w,c=c||k.h;"number"==typeof b&&(b+="px");"number"==typeof c&&(c+="px");var k=new t.Surface,a=d.byId(a),f=a.ownerDocument.createElement("canvas");f.style.position="absolute";f.style["-webkit-transform-origin"]="left top";f.style["-webkit-transform"]="scale("+1/A.getScaleX()+","+1/A.getScaleY()+")";f.width=A.scaleMul(l.normalizedLength(b),"x");f.height=A.scaleMul(l.normalizedLength(c),
"y");f.id=a.id+"canvas";a.appendChild(f);k.rawNode=f;k._parent=a;return k.surface=k};var H=b.Container,i={add:function(a){this.surface.makeDirty();return H.add.apply(this,arguments)},remove:function(a,b){this.surface.makeDirty();return H.remove.apply(this,arguments)},clear:function(){this.surface.makeDirty();return H.clear.apply(this,arguments)},getBoundingBox:H.getBoundingBox,_moveChildToFront:function(a){this.surface.makeDirty();return H._moveChildToFront.apply(this,arguments)},_moveChildToBack:function(a){this.surface.makeDirty();
return H._moveChildToBack.apply(this,arguments)}},a={createObject:function(a,b){var c=new a;c.surface=this.surface;c.setShape(b);this.add(c);return c}};c(t.Group,i);c(t.Group,b.Creator);c(t.Group,a);c(t.Surface,i);c(t.Surface,b.Creator);c(t.Surface,a);t.fixTarget=function(){return!0};return t})},"dojox/gfx/shape":function(){define("./_base,dojo/_base/lang,dojo/_base/declare,dojo/_base/kernel,dojo/_base/sniff,dojo/_base/connect,dojo/_base/array,dojo/dom-construct,dojo/_base/Color,./matrix".split(","),
function(l,h,f,i,g,e,d,c,b,a){var k=l.shape={},m={},o={};k.register=function(a){var b=a.declaredClass.split(".").pop(),c=b in m?++m[b]:m[b]=0,b=b+c;o[b]=a;return b};k.byId=function(a){return o[a]};k.dispose=function(a){delete o[a.getUID()]};k.Shape=f("dojox.gfx.shape.Shape",null,{constructor:function(){this.parentMatrix=this.parent=this.bbox=this.strokeStyle=this.fillStyle=this.matrix=this.shape=this.rawNode=null;var a=k.register(this);this.getUID=function(){return a}},destroy:function(){k.dispose(this)},
getNode:function(){return this.rawNode},getShape:function(){return this.shape},getTransform:function(){return this.matrix},getFill:function(){return this.fillStyle},getStroke:function(){return this.strokeStyle},getParent:function(){return this.parent},getBoundingBox:function(){return this.bbox},getTransformedBoundingBox:function(){var b=this.getBoundingBox();if(!b)return null;var c=this._getRealMatrix();return[a.multiplyPoint(c,b.x,b.y),a.multiplyPoint(c,b.x+b.width,b.y),a.multiplyPoint(c,b.x+b.width,
b.y+b.height),a.multiplyPoint(c,b.x,b.y+b.height)]},getEventSource:function(){return this.rawNode},setGlobalAlpha:function(a){this.globalAlpha=a},setClip:function(a){this.clip=a},getClip:function(){return this.clip},setShape:function(a){this.shape=l.makeParameters(this.shape,a);this.bbox=null;return this},setFill:function(a){if(!a)return this.fillStyle=null,this;var b=null;if("object"==typeof a&&"type"in a)switch(a.type){case "linear":b=l.makeParameters(l.defaultLinearGradient,a);break;case "radial":b=
l.makeParameters(l.defaultRadialGradient,a);break;case "pattern":b=l.makeParameters(l.defaultPattern,a)}else b=l.normalizeColor(a);this.fillStyle=b;return this},setStroke:function(a){if(!a)return this.strokeStyle=null,this;if("string"==typeof a||h.isArray(a)||a instanceof b)a={color:a};a=this.strokeStyle=l.makeParameters(l.defaultStroke,a);if(a.color instanceof Array&&this.alternateY)for(var c in a.color)a.color[c]=l.normalizeColor(a.color[c]);else a.color=l.normalizeColor(a.color);return this},setTransform:function(b){this.matrix=
a.clone(b?a.normalize(b):a.identity);return this._applyTransform()},_applyTransform:function(){return this},moveToFront:function(){var a=this.getParent();a&&(a._moveChildToFront(this),this._moveToFront());return this},moveToBack:function(){var a=this.getParent();a&&(a._moveChildToBack(this),this._moveToBack());return this},_moveToFront:function(){},_moveToBack:function(){},applyRightTransform:function(a){return a?this.setTransform([this.matrix,a]):this},applyLeftTransform:function(a){return a?this.setTransform([a,
this.matrix]):this},applyTransform:function(a){return a?this.setTransform([this.matrix,a]):this},removeShape:function(a){this.parent&&this.parent.remove(this,a);return this},_setParent:function(a,b){this.parent=a;return this._updateParentMatrix(b)},_updateParentMatrix:function(b){this.parentMatrix=b?a.clone(b):null;return this._applyTransform()},_getRealMatrix:function(){for(var b=this.matrix,c=this.parent;c;)c.matrix&&(b=a.multiply(c.matrix,b)),c=c.parent;return b}});k._eventsProcessing={connect:function(a,
b,c){return e.connect(this.getEventSource(),a,k.fixCallback(this,l.fixTarget,b,c))},disconnect:function(a){e.disconnect(a)}};k.fixCallback=function(a,b,c,d){d||(d=c,c=null);if(h.isString(d)){c=c||i.global;if(!c[d])throw['dojox.gfx.shape.fixCallback: scope["',d,'"] is null (scope="',c,'")'].join("");return function(k){return b(k,a)?c[d].apply(c,arguments||[]):void 0}}return!c?function(k){return b(k,a)?d.apply(c,arguments):void 0}:function(k){return b(k,a)?d.apply(c,arguments||[]):void 0}};h.extend(k.Shape,
k._eventsProcessing);k.Container={_init:function(){this.children=[]},openBatch:function(){},closeBatch:function(){},add:function(a){var b=a.getParent();b&&b.remove(a,!0);this.children.push(a);return a._setParent(this,this._getRealMatrix())},remove:function(a,b){for(var c=0;c<this.children.length;++c)if(this.children[c]==a){if(!b)a.parent=null,a.parentMatrix=null;this.children.splice(c,1);break}return this},clear:function(a){for(var b,c=0;c<this.children.length;++c)b=this.children[c],b.parent=null,
b.parentMatrix=null,a&&b.destroy();this.children=[];return this},getBoundingBox:function(){if(this.children){var b=null;d.forEach(this.children,function(c){var d=c.getBoundingBox();if(d)(c=c.getTransform())&&(d=a.multiplyRectangle(c,d)),b?(b.x=Math.min(b.x,d.x),b.y=Math.min(b.y,d.y),b.endX=Math.max(b.endX,d.x+d.width),b.endY=Math.max(b.endY,d.y+d.height)):b={x:d.x,y:d.y,endX:d.x+d.width,endY:d.y+d.height}});if(b)b.width=b.endX-b.x,b.height=b.endY-b.y;return b}return null},_moveChildToFront:function(a){for(var b=
0;b<this.children.length;++b)if(this.children[b]==a){this.children.splice(b,1);this.children.push(a);break}return this},_moveChildToBack:function(a){for(var b=0;b<this.children.length;++b)if(this.children[b]==a){this.children.splice(b,1);this.children.unshift(a);break}return this}};k.Surface=f("dojox.gfx.shape.Surface",null,{constructor:function(){this._parent=this.rawNode=null;this._nodes=[];this._events=[]},destroy:function(){d.forEach(this._nodes,c.destroy);this._nodes=[];d.forEach(this._events,
e.disconnect);this._events=[];this.rawNode=null;this._parent&&(this._parent.innerHTML="");this._parent=null},getEventSource:function(){return this.rawNode},_getRealMatrix:function(){return null},isLoaded:!0,onLoad:function(){},whenLoaded:function(a,b){var c=h.hitch(a,b);if(this.isLoaded)c(this);else var d=e.connect(this,"onLoad",function(a){e.disconnect(d);c(a)})}});h.extend(k.Surface,k._eventsProcessing);k.Rect=f("dojox.gfx.shape.Rect",k.Shape,{constructor:function(a){this.shape=l.getDefault("Rect");
this.rawNode=a},getBoundingBox:function(){return this.shape}});k.Ellipse=f("dojox.gfx.shape.Ellipse",k.Shape,{constructor:function(a){this.shape=l.getDefault("Ellipse");this.rawNode=a},getBoundingBox:function(){if(!this.bbox){var a=this.shape;this.bbox={x:a.cx-a.rx,y:a.cy-a.ry,width:2*a.rx,height:2*a.ry}}return this.bbox}});k.Circle=f("dojox.gfx.shape.Circle",k.Shape,{constructor:function(a){this.shape=l.getDefault("Circle");this.rawNode=a},getBoundingBox:function(){if(!this.bbox){var a=this.shape;
this.bbox={x:a.cx-a.r,y:a.cy-a.r,width:2*a.r,height:2*a.r}}return this.bbox}});k.Line=f("dojox.gfx.shape.Line",k.Shape,{constructor:function(a){this.shape=l.getDefault("Line");this.rawNode=a},getBoundingBox:function(){if(!this.bbox){var a=this.shape;this.bbox={x:Math.min(a.x1,a.x2),y:Math.min(a.y1,a.y2),width:Math.abs(a.x2-a.x1),height:Math.abs(a.y2-a.y1)}}return this.bbox}});k.DashedLine=f("dojox.gfx.shape.DashedLine",k.Shape,{constructor:function(a){this.shape=l.getDefault("DashedLine");this.rawNode=
a},getBoundingBox:function(){if(!this.bbox){var a=this.shape;this.bbox={x:Math.min(a.x1,a.x2),y:Math.min(a.y1,a.y2),width:Math.abs(a.x2-a.x1),height:Math.abs(a.y2-a.y1)}}return this.bbox}});k.Polyline=f("dojox.gfx.shape.Polyline",k.Shape,{constructor:function(a){this.shape=l.getDefault("Polyline");this.rawNode=a},setShape:function(a,b){a&&a instanceof Array?(this.inherited(arguments,[{points:a}]),b&&this.shape.points.length&&this.shape.points.push(this.shape.points[0])):this.inherited(arguments,[a]);
return this},_normalizePoints:function(){var a=this.shape.points,b=a&&a.length;if(b&&"number"==typeof a[0]){for(var c=[],d=0;d<b;d+=2)c.push({x:a[d],y:a[d+1]});this.shape.points=c}},getBoundingBox:function(){if(!this.bbox&&this.shape.points.length){for(var a=this.shape.points,b=a.length,c=a[0],d=c.x,k=c.y,e=c.x,f=c.y,g=1;g<b;++g){c=a[g];if(d>c.x)d=c.x;if(e<c.x)e=c.x;if(k>c.y)k=c.y;if(f<c.y)f=c.y}this.bbox={x:d,y:k,width:e-d,height:f-k}}return this.bbox}});k.Image=f("dojox.gfx.shape.Image",k.Shape,
{constructor:function(a){this.shape=l.getDefault("Image");this.rawNode=a},getBoundingBox:function(){return this.shape},setStroke:function(){return this},setFill:function(){return this}});k.Text=f(k.Shape,{constructor:function(a){this.fontStyle=null;this.shape=l.getDefault("Text");this.rawNode=a},getFont:function(){return this.fontStyle},setFont:function(a){this.fontStyle="string"==typeof a?l.splitFontString(a):l.makeParameters(l.defaultFont,a);this._setFont();return this}});k.Creator={createShape:function(a){switch(a.type){case l.defaultPath.type:return this.createPath(a);
case l.defaultRect.type:return this.createRect(a);case l.defaultCircle.type:return this.createCircle(a);case l.defaultEllipse.type:return this.createEllipse(a);case l.defaultLine.type:return this.createLine(a);case l.defaultDashedLine.type:return this.createDashedLine(a);case l.defaultPolyline.type:return this.createPolyline(a);case l.defaultAlternatePolyline.type:return this.createAlternatePolyline(a);case l.defaultImage.type:return this.createImage(a);case l.defaultText.type:return this.createText(a);
case l.defaultTextPath.type:return this.createTextPath(a)}return null},createGroup:function(){return this.createObject(l.Group)},createRect:function(a){return this.createObject(l.Rect,a)},createEllipse:function(a){return this.createObject(l.Ellipse,a)},createCircle:function(a){return this.createObject(l.Circle,a)},createLine:function(a){return this.createObject(l.Line,a)},createDashedLine:function(a){return this.createObject(l.DashedLine,a)},createPolyline:function(a){return this.createObject(l.Polyline,
a)},createAlternatePolyline:function(a){return this.createObject(l.AlternatePolyline,a)},createImage:function(a){return this.createObject(l.Image,a)},createText:function(a){return this.createObject(l.Text,a)},createPath:function(a){return this.createObject(l.Path,a)},createTextPath:function(a){return this.createObject(l.TextPath,{}).setText(a)},createObject:function(){return null}};return k})},"dojox/gfx/matrix":function(){define(["./_base","dojo/_base/lang"],function(l,h){var f=l.matrix={},i={};
f._degToRad=function(f){return i[f]||(i[f]=Math.PI*f/180)};f._radToDeg=function(f){return 180*(f/Math.PI)};f.Matrix2D=function(g){if(g)if("number"==typeof g)this.xx=this.yy=g;else if(g instanceof Array){if(0<g.length){for(var e=f.normalize(g[0]),d=1;d<g.length;++d){var c=e,b=f.normalize(g[d]),e=new f.Matrix2D;e.xx=c.xx*b.xx+c.xy*b.yx;e.xy=c.xx*b.xy+c.xy*b.yy;e.yx=c.yx*b.xx+c.yy*b.yx;e.yy=c.yx*b.xy+c.yy*b.yy;e.dx=c.xx*b.dx+c.xy*b.dy+c.dx;e.dy=c.yx*b.dx+c.yy*b.dy+c.dy}h.mixin(this,e)}}else h.mixin(this,
g)};h.extend(f.Matrix2D,{xx:1,xy:0,yx:0,yy:1,dx:0,dy:0});h.mixin(f,{identity:new f.Matrix2D,flipX:new f.Matrix2D({xx:-1}),flipY:new f.Matrix2D({yy:-1}),flipXY:new f.Matrix2D({xx:-1,yy:-1}),translate:function(g,e){return 1<arguments.length?new f.Matrix2D({dx:g,dy:e}):new f.Matrix2D({dx:g.x,dy:g.y})},scale:function(g,e){return 1<arguments.length?new f.Matrix2D({xx:g,yy:e}):"number"==typeof g?new f.Matrix2D({xx:g,yy:g}):new f.Matrix2D({xx:g.x,yy:g.y})},rotate:function(g){var e=Math.cos(g),g=Math.sin(g);
return new f.Matrix2D({xx:e,xy:-g,yx:g,yy:e})},rotateg:function(g){return f.rotate(f._degToRad(g))},skewX:function(g){return new f.Matrix2D({xy:Math.tan(g)})},skewXg:function(g){return f.skewX(f._degToRad(g))},skewY:function(g){return new f.Matrix2D({yx:Math.tan(g)})},skewYg:function(g){return f.skewY(f._degToRad(g))},reflect:function(g,e){if(1==arguments.length)e=g.y,g=g.x;var d=g*g,c=e*e,b=d+c,a=2*g*e/b;return new f.Matrix2D({xx:2*d/b-1,xy:a,yx:a,yy:2*c/b-1})},project:function(g,e){if(1==arguments.length)e=
g.y,g=g.x;var d=g*g,c=e*e,b=d+c,a=g*e/b;return new f.Matrix2D({xx:d/b,xy:a,yx:a,yy:c/b})},normalize:function(g){return g instanceof f.Matrix2D?g:new f.Matrix2D(g)},isIdentity:function(f){return 1==f.xx&&0==f.xy&&0==f.yx&&1==f.yy&&0==f.dx&&0==f.dy},clone:function(g){var e=new f.Matrix2D,d;for(d in g)"number"==typeof g[d]&&"number"==typeof e[d]&&e[d]!=g[d]&&(e[d]=g[d]);return e},invert:function(g){var g=f.normalize(g),e=g.xx*g.yy-g.xy*g.yx;return g=new f.Matrix2D({xx:g.yy/e,xy:-g.xy/e,yx:-g.yx/e,yy:g.xx/
e,dx:(g.xy*g.dy-g.yy*g.dx)/e,dy:(g.yx*g.dx-g.xx*g.dy)/e})},_multiplyPoint:function(f,e,d){return{x:f.xx*e+f.xy*d+f.dx,y:f.yx*e+f.yy*d+f.dy}},multiplyPoint:function(g,e,d){g=f.normalize(g);return"number"==typeof e&&"number"==typeof d?f._multiplyPoint(g,e,d):f._multiplyPoint(g,e.x,e.y)},multiplyRectangle:function(g,e){var d=f.normalize(g),e=e||{x:0,y:0,width:0,height:0};if(f.isIdentity(d))return{x:e.x,y:e.y,width:e.width,height:e.height};var c=f.multiplyPoint(d,e.x,e.y),b=f.multiplyPoint(d,e.x,e.y+
e.height),a=f.multiplyPoint(d,e.x+e.width,e.y),k=f.multiplyPoint(d,e.x+e.width,e.y+e.height),d=Math.min(c.x,b.x,a.x,k.x),m=Math.min(c.y,b.y,a.y,k.y),o=Math.max(c.x,b.x,a.x,k.x),c=Math.max(c.y,b.y,a.y,k.y);return{x:d,y:m,width:o-d,height:c-m}},multiply:function(g){for(var e=f.normalize(g),d=1;d<arguments.length;++d){var c=e,b=f.normalize(arguments[d]),e=new f.Matrix2D;e.xx=c.xx*b.xx+c.xy*b.yx;e.xy=c.xx*b.xy+c.xy*b.yy;e.yx=c.yx*b.xx+c.yy*b.yx;e.yy=c.yx*b.xy+c.yy*b.yy;e.dx=c.xx*b.dx+c.xy*b.dy+c.dx;e.dy=
c.yx*b.dx+c.yy*b.dy+c.dy}return e},_sandwich:function(g,e,d){return f.multiply(f.translate(e,d),g,f.translate(-e,-d))},scaleAt:function(g,e,d,c){switch(arguments.length){case 4:return f._sandwich(f.scale(g,e),d,c);case 3:return"number"==typeof d?f._sandwich(f.scale(g),e,d):f._sandwich(f.scale(g,e),d.x,d.y)}return f._sandwich(f.scale(g),e.x,e.y)},rotateAt:function(g,e,d){return 2<arguments.length?f._sandwich(f.rotate(g),e,d):f._sandwich(f.rotate(g),e.x,e.y)},rotategAt:function(g,e,d){return 2<arguments.length?
f._sandwich(f.rotateg(g),e,d):f._sandwich(f.rotateg(g),e.x,e.y)},skewXAt:function(g,e,d){return 2<arguments.length?f._sandwich(f.skewX(g),e,d):f._sandwich(f.skewX(g),e.x,e.y)},skewXgAt:function(g,e,d){return 2<arguments.length?f._sandwich(f.skewXg(g),e,d):f._sandwich(f.skewXg(g),e.x,e.y)},skewYAt:function(g,e,d){return 2<arguments.length?f._sandwich(f.skewY(g),e,d):f._sandwich(f.skewY(g),e.x,e.y)},skewYgAt:function(g,e,d){return 2<arguments.length?f._sandwich(f.skewYg(g),e,d):f._sandwich(f.skewYg(g),
e.x,e.y)}});l.Matrix2D=f.Matrix2D;return f})},"dojox/gfx/path":function(){define(["./_base","dojo/_base/lang","dojo/_base/declare","./matrix","./shape"],function(l,h,f,i,g){g=f("dojox.gfx.path.Path",g.Shape,{constructor:function(e){this.shape=h.clone(l.defaultPath);this.segments=[];this.tbbox=null;this.absolute=!0;this.last={};this.rawNode=e;this.segmented=!1},setAbsoluteMode:function(e){this._confirmSegmented();this.absolute="string"==typeof e?"absolute"==e:e;return this},getAbsoluteMode:function(){this._confirmSegmented();
return this.absolute},getBoundingBox:function(){this._confirmSegmented();return this.bbox&&"l"in this.bbox?{x:this.bbox.l,y:this.bbox.t,width:this.bbox.r-this.bbox.l,height:this.bbox.b-this.bbox.t}:null},_getRealBBox:function(){this._confirmSegmented();if(this.tbbox)return this.tbbox;var e=this.bbox,d=this._getRealMatrix();this.bbox=null;for(var c=0,b=this.segments.length;c<b;++c)this._updateWithSegment(this.segments[c],d);d=this.bbox;this.bbox=e;return this.tbbox=d?[{x:d.l,y:d.t},{x:d.r,y:d.t},{x:d.r,
y:d.b},{x:d.l,y:d.b}]:null},getLastPosition:function(){this._confirmSegmented();return"x"in this.last?this.last:null},_applyTransform:function(){this.tbbox=null;return this.inherited(arguments)},_updateBBox:function(e,d,c){if(c)d=i.multiplyPoint(c,e,d),e=d.x,d=d.y;if(this.bbox&&"l"in this.bbox){if(this.bbox.l>e)this.bbox.l=e;if(this.bbox.r<e)this.bbox.r=e;if(this.bbox.t>d)this.bbox.t=d;if(this.bbox.b<d)this.bbox.b=d}else this.bbox={l:e,b:d,r:e,t:d}},_updateWithSegment:function(e,d){var c=e.args,b=
c.length,a;switch(e.action){case "M":case "L":case "C":case "S":case "Q":case "T":for(a=0;a<b;a+=2)this._updateBBox(c[a],c[a+1],d);this.last.x=c[b-2];this.last.y=c[b-1];this.absolute=!0;break;case "H":for(a=0;a<b;++a)this._updateBBox(c[a],this.last.y,d);this.last.x=c[b-1];this.absolute=!0;break;case "V":for(a=0;a<b;++a)this._updateBBox(this.last.x,c[a],d);this.last.y=c[b-1];this.absolute=!0;break;case "m":a=0;if(!("x"in this.last))this._updateBBox(this.last.x=c[0],this.last.y=c[1],d),a=2;for(;a<b;a+=
2)this._updateBBox(this.last.x+=c[a],this.last.y+=c[a+1],d);this.absolute=!1;break;case "l":case "t":for(a=0;a<b;a+=2)this._updateBBox(this.last.x+=c[a],this.last.y+=c[a+1],d);this.absolute=!1;break;case "h":for(a=0;a<b;++a)this._updateBBox(this.last.x+=c[a],this.last.y,d);this.absolute=!1;break;case "v":for(a=0;a<b;++a)this._updateBBox(this.last.x,this.last.y+=c[a],d);this.absolute=!1;break;case "c":for(a=0;a<b;a+=6)this._updateBBox(this.last.x+c[a],this.last.y+c[a+1],d),this._updateBBox(this.last.x+
c[a+2],this.last.y+c[a+3],d),this._updateBBox(this.last.x+=c[a+4],this.last.y+=c[a+5],d);this.absolute=!1;break;case "s":case "q":for(a=0;a<b;a+=4)this._updateBBox(this.last.x+c[a],this.last.y+c[a+1],d),this._updateBBox(this.last.x+=c[a+2],this.last.y+=c[a+3],d);this.absolute=!1;break;case "A":for(a=0;a<b;a+=7)this._updateBBox(c[a+5],c[a+6],d);this.last.x=c[b-2];this.last.y=c[b-1];this.absolute=!0;break;case "a":for(a=0;a<b;a+=7)this._updateBBox(this.last.x+=c[a+5],this.last.y+=c[a+6],d);this.absolute=
!1}var k=[e.action];for(a=0;a<b;++a)k.push(l.formatNumber(c[a],!0));"string"==typeof this.shape.path?this.shape.path+=k.join(""):Array.prototype.push.apply(this.shape.path,k)},_validSegments:{m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0},_pushSegment:function(e,d){this.tbbox=null;var c=this._validSegments[e.toLowerCase()];"number"==typeof c&&(c?d.length>=c&&(c={action:e,args:d.slice(0,d.length-d.length%c)},this.segments.push(c),this._updateWithSegment(c)):(c={action:e,args:[]},this.segments.push(c),this._updateWithSegment(c)))},
_collectArgs:function(e,d){for(var c=0;c<d.length;++c){var b=d[c];"boolean"==typeof b?e.push(b?1:0):"number"==typeof b?e.push(b):b instanceof Array?this._collectArgs(e,b):"x"in b&&"y"in b&&e.push(b.x,b.y)}},moveTo:function(){this._confirmSegmented();var e=[];this._collectArgs(e,arguments);this._pushSegment(this.absolute?"M":"m",e);return this},lineTo:function(){this._confirmSegmented();var e=[];this._collectArgs(e,arguments);this._pushSegment(this.absolute?"L":"l",e);return this},hLineTo:function(){this._confirmSegmented();
var e=[];this._collectArgs(e,arguments);this._pushSegment(this.absolute?"H":"h",e);return this},vLineTo:function(){this._confirmSegmented();var e=[];this._collectArgs(e,arguments);this._pushSegment(this.absolute?"V":"v",e);return this},curveTo:function(){this._confirmSegmented();var e=[];this._collectArgs(e,arguments);this._pushSegment(this.absolute?"C":"c",e);return this},smoothCurveTo:function(){this._confirmSegmented();var e=[];this._collectArgs(e,arguments);this._pushSegment(this.absolute?"S":
"s",e);return this},qCurveTo:function(){this._confirmSegmented();var e=[];this._collectArgs(e,arguments);this._pushSegment(this.absolute?"Q":"q",e);return this},qSmoothCurveTo:function(){this._confirmSegmented();var e=[];this._collectArgs(e,arguments);this._pushSegment(this.absolute?"T":"t",e);return this},arcTo:function(){this._confirmSegmented();var e=[];this._collectArgs(e,arguments);this._pushSegment(this.absolute?"A":"a",e);return this},closePath:function(){this._confirmSegmented();this._pushSegment("Z",
[]);return this},_confirmSegmented:function(){if(!this.segmented){var e=this.shape.path;this.shape.path=[];this._setPath(e);this.shape.path=this.shape.path.join("");this.segmented=!0}},_setPath:function(e){e=h.isArray(e)?e:e.match(l.pathSvgRegExp);this.segments=[];this.absolute=!0;this.bbox={};this.last={};if(e){for(var d="",c=[],b=e.length,a=0;a<b;++a){var k=e[a],f=parseFloat(k);isNaN(f)?(d&&this._pushSegment(d,c),c=[],d=k):c.push(f)}this._pushSegment(d,c)}},setShape:function(e){this.inherited(arguments,
["string"==typeof e?{path:e}:e]);this.segmented=!1;this.segments=[];l.lazyPathSegmentation||this._confirmSegmented();return this},_2PI:2*Math.PI});f=f("dojox.gfx.path.TextPath",g,{constructor:function(){if(!("text"in this))this.text=h.clone(l.defaultTextPath);if(!("fontStyle"in this))this.fontStyle=h.clone(l.defaultFont)},getText:function(){return this.text},setText:function(e){this.text=l.makeParameters(this.text,"string"==typeof e?{text:e}:e);this._setText();return this},getFont:function(){return this.fontStyle},
setFont:function(e){this.fontStyle="string"==typeof e?l.splitFontString(e):l.makeParameters(l.defaultFont,e);this._setFont();return this}});return l.path={Path:g,TextPath:f}})},"dojox/gfx/arc":function(){define(["./_base","dojo/_base/lang","./matrix"],function(l,h,f){function i(a){var b=Math.cos(a),a=Math.sin(a),c={x:b+4/3*(1-b),y:a-4/3*b*(1-b)/a};return{s:{x:b,y:-a},c1:{x:c.x,y:-c.y},c2:c,e:{x:b,y:a}}}var g=2*Math.PI,e=Math.PI/4,d=Math.PI/8,c=e+d,b=i(d);return l.arc={unitArcAsBezier:i,curvePI4:b,
arcAsBezier:function(a,k,m,o,p,A,t,s){var p=Boolean(p),A=Boolean(A),h=f._degToRad(o),o=k*k,l=m*m,u=f.multiplyPoint(f.rotate(-h),{x:(a.x-t)/2,y:(a.y-s)/2}),r=u.x*u.x,D=u.y*u.y,o=Math.sqrt((o*l-o*D-l*r)/(o*D+l*r));isNaN(o)&&(o=0);o={x:o*k*u.y/m,y:-o*m*u.x/k};p==A&&(o={x:-o.x,y:-o.y});o=f.multiplyPoint([f.translate((a.x+t)/2,(a.y+s)/2),f.rotate(h)],o);k=f.normalize([f.translate(o.x,o.y),f.rotate(h),f.scale(k,m)]);o=f.invert(k);a=f.multiplyPoint(o,a);s=f.multiplyPoint(o,t,s);t=Math.atan2(a.y,a.x);s=Math.atan2(s.y,
s.x);o=t-s;A&&(o=-o);0>o?o+=g:o>g&&(o-=g);m=d;s=b;m=A?m:-m;a=[];for(p=o;0<p;p-=e)p<c&&(m=p/2,s=i(m),m=A?m:-m,p=0),u=f.normalize([k,f.rotate(t+m)]),A?(o=f.multiplyPoint(u,s.c1),h=f.multiplyPoint(u,s.c2),u=f.multiplyPoint(u,s.e)):(o=f.multiplyPoint(u,s.c2),h=f.multiplyPoint(u,s.c1),u=f.multiplyPoint(u,s.s)),a.push([o.x,o.y,h.x,h.y,u.x,u.y]),t+=2*m;return a}}})},"dojox/gfx/decompose":function(){define(["./_base","dojo/_base/lang","./matrix"],function(l,h,f){function i(b,a){return Math.abs(b-a)<=1.0E-6*
(Math.abs(b)+Math.abs(a))}function g(b,a,c,d){if(isFinite(b)){if(!isFinite(c))return b}else return c;a=Math.abs(a);d=Math.abs(d);return(a*b+d*c)/(a+d)}function e(b){var b=f.normalize(b),a=-b.xx-b.yy,c=b.xx*b.yy-b.xy*b.yx,d=Math.sqrt(a*a-4*c),a=-(a+(0>a?-d:d))/2,c=c/a,d=b.xy/(a-b.xx),e=1,g=b.xy/(c-b.xx),A=1;i(a,c)&&(d=1,e=0,g=0,A=1);isFinite(d)||(d=1,e=(a-b.xx)/b.xy,isFinite(e)||(d=(a-b.yy)/b.yx,e=1,isFinite(d)||(d=1,e=b.yx/(a-b.yy))));isFinite(g)||(g=1,A=(c-b.xx)/b.xy,isFinite(A)||(g=(c-b.yy)/b.yx,
A=1,isFinite(g)||(g=1,A=b.yx/(c-b.yy))));var b=Math.sqrt(d*d+e*e),t=Math.sqrt(g*g+A*A);if(!isFinite(d/=b))d=0;if(!isFinite(e/=b))e=0;if(!isFinite(g/=t))g=0;if(!isFinite(A/=t))A=0;return{value1:a,value2:c,vector1:{x:d,y:e},vector2:{x:g,y:A}}}function d(b,a){var c=0>b.xx*b.yy||0<b.xy*b.yx?-1:1,d=a.angle1=(Math.atan2(b.yx,b.yy)+Math.atan2(-c*b.xy,c*b.xx))/2,c=Math.cos(d),d=Math.sin(d);a.sx=g(b.xx/c,c,-b.xy/d,d);a.sy=g(b.yy/c,c,b.yx/d,d);return a}function c(b,a){var c=0>b.xx*b.yy||0<b.xy*b.yx?-1:1,d=
a.angle2=(Math.atan2(c*b.yx,c*b.xx)+Math.atan2(-b.xy,b.yy))/2,c=Math.cos(d),d=Math.sin(d);a.sx=g(b.xx/c,c,b.yx/d,d);a.sy=g(b.yy/c,c,-b.xy/d,d);return a}return l.decompose=function(b){var a=f.normalize(b),b={dx:a.dx,dy:a.dy,sx:1,sy:1,angle1:0,angle2:0};if(i(a.xy,0)&&i(a.yx,0))return h.mixin(b,{sx:a.xx,sy:a.yy});if(i(a.xx*a.yx,-a.xy*a.yy))return d(a,b);if(i(a.xx*a.xy,-a.yx*a.yy))return c(a,b);var k,g=new f.Matrix2D(a);k=h.mixin(g,{dx:0,dy:0,xy:g.yx,yx:g.xy});g=e([a,k]);k=e([k,a]);g=new f.Matrix2D({xx:g.vector1.x,
xy:g.vector2.x,yx:g.vector1.y,yy:g.vector2.y});k=new f.Matrix2D({xx:k.vector1.x,xy:k.vector1.y,yx:k.vector2.x,yy:k.vector2.y});a=new f.Matrix2D([f.invert(g),a,f.invert(k)]);d(k,b);a.xx*=b.sx;a.yy*=b.sy;c(g,b);a.xx*=b.sx;a.yy*=b.sy;return h.mixin(b,{sx:a.xx,sy:a.yy})}})},"dojox/canvasDashedLine":function(){define("dojox/canvasDashedLine",[],function(){var l=function(){};l.prototype={defaultLineStyle:{pattern:"***--***--",color:"#5f5d5b",width:1,scale:8,join:"bevel",cap:"butt"},prepareLineStyle:function(h){if(null==
h)return this.defaultLineStyle;if(void 0==h.pattern||null==h.pattern)h.pattern=this.defaultLineStyle.pattern;if(void 0==h.scale||null==h.scale)h.scale=this.defaultLineStyle.scale;if(void 0==h.color||null==h.color)h.color=this.defaultLineStyle.color;if(void 0==h.width||null==h.width)h.width=this.defaultLineStyle.width;if(void 0==h.cap||null==h.cap)h.cap=this.defaultLineStyle.cap;if(void 0==h.join||null==h.join)h.join=this.defaultLineStyle.join;return h},distance:function(h,f){return Math.sqrt(Math.pow(f[0]-
h[0],2)+Math.pow(f[1]-h[1],2))},firstPattern:function(h,f){if(1<=f)return h;for(var i=0,g=[],e=0,d=h.length;e<d;e++)i+h[e].length>f&&(0==g.length?g.push({type:h[e].type,length:h[e].length-(f-i)}):g.push(h[e])),i+=h[e].length;return g},strToPattern:function(h){for(var h=h.split(""),f=null,i=[],g=0,e=h.length;g<e;g++){var d=h[g];d==f?i[i.length-1].length++:"*"==d?i.push({type:"line",length:1}):i.push({type:"space",length:1});f=h[g]}g=0;for(e=i.length;g<e;g++)i[g].length/=h.length;return i},drawPolyLine:function(h,
f,i){h.save();h.strokeStyle=i.color;h.lineWidth=i.width;h.lineCap=i.cap;h.lineJoin=i.join;h.beginPath();h.moveTo(f[0][0],f[0][1]);for(var i=0,g=f.length;i<g;i++)h.lineTo(f[i][0],f[i][1]);h.stroke();h.restore()},dashedLine:function(h,f,i,g){void 0==g&&(g=0);var e=this.strToPattern(i.pattern),d=this.distance(h,f),c=(f[0]-h[0])/d,d=(f[1]-h[1])/d,b=h[0],h=h[1],a=0,k=null,m=!1,o,p=[];a:for(;;){k=0==a?g:0;0==a?(o=this.firstPattern(e,g),0==o.length&&(o=e)):o=e;for(var A=0,t=o.length;A<t;A++){var s=c*o[A].length*
i.scale,B=d*o[A].length*i.scale;if(1E4<a||0<c&&b+s>=f[0]||0==d&&0<c&&b+s>=f[0]||0>c&&b+s<=f[0]||0==d&&0>c&&b+s<=f[0]||0<d&&h+B>=f[1]||0==c&&0<d&&h+B>=f[1]||0>d&&h+B<=f[1]||0==c&&0>d&&h+B<=f[1])m=!0;m&&(s=f[0]-b,B=f[1]-h,g=k+this.distance([b,h],f)/i.scale);"line"==o[A].type&&p.push([[b,h],[b+s,h+B]]);if(m)break a;b+=s;h+=B;k+=o[A].length;a++}}return{startPosition:g,lines:p}},drawLineFragments:function(h,f,i){for(var g in f)this.drawPolyLine(h,f[g],i)},connectAdjacentLines:function(h,f){var i=h[h.length-
1].length;h[h.length-1][i-1][0]==f[0][0][0]&&h[h.length-1][i-1][1]==f[0][0][1]&&(h[h.length-1].push(f[0][1]),f.shift())},dashedPolyLine:function(h,f){for(var i=0,g=[],e=null,d=0,c=h.length-1;d<c;d++)if(e=this.dashedLine(h[d],h[d+1],f,i),i=e.startPosition,0<e.lines.length){0<g.length&&this.connectAdjacentLines(g,e.lines);for(var b=0,a=e.lines.length;b<a;b++)g.push(e.lines[b])}return g},drawDashedPolyLine:function(h,f,i){i=this.prepareLineStyle(i);f=this.dashedPolyLine(f,i);this.drawLineFragments(h,
f,i)}};return new l})},"dojox/charting/Chart":function(){define("dojox/charting/Chart","../main,dojo/_base/lang,dojo/_base/array,dojo/_base/declare,dojo/dom-style,dojo/dom,dojo/dom-geometry,dojo/dom-construct,dojo/_base/Color,dojo/_base/sniff,./Element,./SimpleTheme,./Series,./axis2d/common,dojox/gfx/shape,dojox/gfx,dojox/lang/functional,dojox/lang/functional/fold,dojox/lang/functional/reversed".split(","),function(l,h,f,i,g,e,d,c,b,a,k,m,o,p,A,t,s){function B(a,b){if(a&&b)a.min=Math.min(a.min,b.min),
a.max=Math.max(a.max,b.max);return a||b}function x(a,b){var c={},d={},k={};f.forEach(a,function(a){var b=c[a.name]=a.getSeriesStats();b.vmax>Number.NEGATIVE_INFINITY&&(a.hAxis&&(d[a.hAxis]=B(d[a.hAxis],{min:b.hmin,max:b.hmax}),k[a.chart.axes[a.hAxis].opt.leftBottom]||(k[a.chart.axes[a.hAxis].opt.leftBottom]={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY}),k[a.chart.axes[a.hAxis].opt.leftBottom]=B(k[a.chart.axes[a.hAxis].opt.leftBottom],d[a.hAxis])),a.vAxis&&(d[a.vAxis]=B(d[a.vAxis],{min:b.vmin,
max:b.vmax})))});f.forEach(a,function(a){var e=c[a.name],f=a.chart.startGap?0.1:0;if(e.vmax>Number.NEGATIVE_INFINITY){if(a.hAxis){var g=k[a.chart.axes[a.hAxis].opt.leftBottom];e.hmin=g.min;e.hmax=g.max}if(a.vAxis)g=d[a.vAxis],e.vmin=g.min,e.vmax=g.max;e.hmax+=0.1;e.hmin-=f;a.initializeScalers(b,e)}})}var u=h.getObject("charting",!0,l),r=s.lambda("item.clear()"),D=s.lambda("item.purgeGroup()"),C=s.lambda("item.destroy()"),q=s.lambda("item.dirty = false"),z=s.lambda("item.dirty = true"),K=s.lambda("item.name");
return i("dojox.charting.Chart",null,{constructor:function(a,b){b||(b={});this.margins=b.margins?b.margins:{l:10,t:10,r:10,b:10};this.stroke=b.stroke;this.fill=b.fill;this.delayInMs=b.delayInMs||200;this.title=b.titleText;this.titleHtmlLabels=b.titleHtmlLabels?!0:b.titleHtmlLabels;this.titleGap=b.titleGap;this.titlePos=b.titlePos;this.titleFont=b.titleFont;this.titleFontColor=b.titleFontColor;this.titlePosition=b.titlePosition?b.titlePosition:"middle";this.chartTitle=null;this.subTitle=b.subTitle&&
" \u2014 "+b.subTitle;this.subTitleFont=b.subTitleFont;this.subTitleFontColor=b.subTitleFontColor;this.chartSubTitle=null;this.plotareabackgroundcolor=b.plotareabackgroundcolor;this.kwArgs=b;this.theme=null;this.colorTag={};this.seriesNum=0;this.axes={};this.stack=[];this.plots={};this.series=[];this.runs={};this.startGap=b.startGap;this.dirty=!0;this.node=e.byId(a);var c=d.getMarginBox(a);this.surface=t.createSurface(this.node,c.w||400,c.h||300);if(-1==this.surface.declaredClass.indexOf("vml"))this.plotGroup=
this.surface.createGroup()},destroy:function(){f.forEach(this.series,C);f.forEach(this.stack,C);s.forIn(this.axes,C);this.chartTitle&&this.chartTitle.tagName&&c.destroy(this.chartTitle);this.chartSubTitle&&this.chartSubTitle.tagName&&c.destroy(this.chartSubTitle);this.plotGroup&&this.plotGroup.destroy();this.surface.destroy()},getCoords:function(){var a=this.node,b=g.getComputedStyle(a),b=d.getMarginBox(a,b),a=d.position(a,!0);b.x=a.x;b.y=a.y;return b},setTheme:function(a){this.theme=a.clone();this.dirty=
!0;return this},addAxis:function(a,b){var c;c=b&&b.type||"Default";if("string"==typeof c){if(!u.axis2d||!u.axis2d[c])throw Error("Can't find axis: "+c+" - Check require() dependencies.");c=new u.axis2d[c](this,b)}else c=new c(this,b);c.name=a;c.dirty=!0;a in this.axes&&this.axes[a].destroy();this.axes[a]=c;this.dirty=!0;return this},getAxis:function(a){return this.axes[a]},removeAxis:function(a){if(a in this.axes)this.axes[a].destroy(),delete this.axes[a],this.dirty=!0;return this},addPlot:function(a,
b){var c;c=b&&b.type||"Default";if("string"==typeof c){if(!u.plot2d||!u.plot2d[c])throw Error("Can't find plot: "+c+" - didn't you forget to dojo.require() it?");c=new u.plot2d[c](this,b)}else c=new c(this,b);c.name=a;c.dirty=!0;a in this.plots?(this.stack[this.plots[a]].destroy(),this.stack[this.plots[a]]=c):(this.plots[a]=this.stack.length,this.stack.push(c));this.dirty=!0;return this},getPlot:function(a){return this.stack[this.plots[a]]},removePlot:function(a){if(a in this.plots){var b=this.plots[a];
delete this.plots[a];this.stack[b].destroy();this.stack.splice(b,1);s.forIn(this.plots,function(a,c,d){a>b&&(d[c]=a-1)});var c=f.filter(this.series,function(b){return b.plot!=a});if(c.length<this.series.length)f.forEach(this.series,function(b){b.plot==a&&b.destroy()}),this.runs={},f.forEach(c,function(a,b){this.runs[a.plot]=b},this),this.series=c;this.dirty=!0}return this},getPlotOrder:function(){return s.map(this.stack,K)},setPlotOrder:function(a){var b={},c=s.filter(a,function(a){if(!(a in this.plots)||
a in b)return!1;b[a]=1;return!0},this);c.length<this.stack.length&&s.forEach(this.stack,function(a){a=a.name;a in b||c.push(a)});a=s.map(c,function(a){return this.stack[this.plots[a]]},this);s.forEach(a,function(a,b){this.plots[a.name]=b},this);this.stack=a;this.dirty=!0;return this},movePlotToFront:function(a){if(a in this.plots){var b=this.plots[a];if(b){var c=this.getPlotOrder();c.splice(b,1);c.unshift(a);return this.setPlotOrder(c)}}return this},movePlotToBack:function(a){if(a in this.plots){var b=
this.plots[a];if(b<this.stack.length-1){var c=this.getPlotOrder();c.splice(b,1);c.push(a);return this.setPlotOrder(c)}}return this},addSeries:function(a,b,c){b=new o(this,b,c);b.name=a;a in this.runs?(this.series[this.runs[a]].destroy(),this.series[this.runs[a]]=b):(this.runs[a]=this.series.length,this.series.push(b));this.dirty=!0;if(!("ymin"in b)&&"min"in b)b.ymin=b.min;if(!("ymax"in b)&&"max"in b)b.ymax=b.max;return this},getSeries:function(a){return this.series[this.runs[a]]},removeSeries:function(a){if(a in
this.runs){var b=this.runs[a];delete this.runs[a];this.series[b].destroy();this.series.splice(b,1);s.forIn(this.runs,function(a,c,d){a>b&&(d[c]=a-1)});this.dirty=!0}return this},updateSeries:function(a,b,c){if(a in this.runs)a=this.series[this.runs[a]],a.update(b),c?this.dirty=!0:(this._invalidateDependentPlots(a.plot,!1),this._invalidateDependentPlots(a.plot,!0));return this},getSeriesOrder:function(a){return s.map(s.filter(this.series,function(b){return b.plot==a}),K)},setSeriesOrder:function(a){var b,
c={},d=s.filter(a,function(a){if(!(a in this.runs)||a in c)return!1;var d=this.series[this.runs[a]];if(b){if(d.plot!=b)return!1}else b=d.plot;c[a]=1;return!0},this);s.forEach(this.series,function(a){var k=a.name;!(k in c)&&a.plot==b&&d.push(k)});this.series=s.map(d,function(a){return this.series[this.runs[a]]},this).concat(s.filter(this.series,function(a){return a.plot!=b}));s.forEach(this.series,function(a,b){this.runs[a.name]=b},this);this.dirty=!0;return this},moveSeriesToFront:function(a){if(a in
this.runs){var b=this.runs[a],c=this.getSeriesOrder(this.series[b].plot);if(a!=c[0])return c.splice(b,1),c.unshift(a),this.setSeriesOrder(c)}return this},moveSeriesToBack:function(a){if(a in this.runs){var b=this.runs[a],c=this.getSeriesOrder(this.series[b].plot);if(a!=c[c.length-1])return c.splice(b,1),c.push(a),this.setSeriesOrder(c)}return this},resize:function(a,b){var c;switch(arguments.length){case 1:c=h.mixin({},a);d.setMarginBox(this.node,c);break;case 2:c={w:a,h:b},d.setMarginBox(this.node,
c)}c=d.getMarginBox(this.node);var k=this.surface.getDimensions();return k.width!=c.w||k.height!=c.h?(this.surface.setDimensions(c.w,c.h),this.dirty=!0,this.render()):this},getGeometry:function(){var a={};s.forIn(this.axes,function(b){b.initialized()&&(a[b.name]={name:b.name,vertical:b.vertical,scaler:b.scaler,ticks:b.ticks})});return a},setAxisWindow:function(a,b,c,d){var k=this.axes[a];k&&(k.setWindow(b,c),f.forEach(this.stack,function(b){if(b.hAxis==a||b.vAxis==a)b.zoom=d}));return this},setWindow:function(a,
b,c,d,k){"plotArea"in this||this.calculateGeometry();s.forIn(this.axes,function(k){var e,f;e=k.getScaler().bounds;f=e.span/(e.upper-e.lower);k.vertical?(e=b,f=d/f/e):(e=a,f=c/f/e);k.setWindow(e,f)});f.forEach(this.stack,function(a){a.zoom=k});return this},zoomIn:function(a,b,c){var d=this.axes[a];if(d){var d=d.getScaler().bounds,k=Math.min(b[0],b[1]),e=Math.max(b[0],b[1]),k=b[0]<d.lower?d.lower:k,e=b[1]>d.upper?d.upper:e;this.setAxisWindow(a,(d.upper-d.lower)/(e-k),k-d.lower);c?this.delayedRender():
this.render()}},calculateGeometry:function(){if(this.dirty)return this.fullGeometry();var a=f.filter(this.stack,function(a){return a.dirty||a.hAxis&&this.axes[a.hAxis].dirty||a.vAxis&&this.axes[a.vAxis].dirty},this);x(a,this.plotArea);return this},fullGeometry:function(){this._makeDirty();f.forEach(this.stack,r);this.theme||this.setTheme(new m);this.ClusteredColumns={};this.position={plotAreaNum:0,positions:{},margin:10};f.forEach(this.series,function(a){if(!a.notDraw){if(a.kwArgs){if(!a.kwArgs.position)a.kwArgs.position=
"bottom"}else a.kwArgs={position:"bottom"};if(!this.position.positions[a.kwArgs.position])this.position.positions[a.kwArgs.position]=a.kwArgs.position,this.position.plotAreaNum++;if(!(a.plot in this.plots)){if(!u.plot2d||!u.plot2d.Default)throw Error("Can't find plot: Default - didn't you forget to dojo.require() it?");var b=new u.plot2d.Default(this,{});b.name=a.plot;this.plots[a.plot]=this.stack.length;this.stack.push(b)}"dojox.charting.plot2d.ClusteredColumns"==this.stack[this.plots[a.plot]].declaredClass&&
(this.ClusteredColumns[this.stack[this.plots[a.plot]].opt.position]||(this.ClusteredColumns[this.stack[this.plots[a.plot]].opt.position]={allLength:0,leftLength:0,rightLength:0}),this.ClusteredColumns[this.stack[this.plots[a.plot]].opt.position].allLength+=1,this.axes[this.stack[this.plots[a.plot]].vAxis].opt.leftBottom&&(this.ClusteredColumns[this.stack[this.plots[a.plot]].opt.position].leftLength+=1));this.stack[this.plots[a.plot]].addSeries(a)}},this);f.forEach(this.stack,function(a){a.assignAxes&&
a.assignAxes(this.axes)},this);var a=this.dim=this.surface.getDimensions();a.width=t.normalizedLength(a.width);a.height=t.normalizedLength(a.height);s.forIn(this.axes,r);x(this.stack,a);var b=this.offsets={l:0,r:0,t:0,b:0,commentsHeight:0};s.forIn(this.axes,function(a){s.forIn(a.getOffsets(),function(a,c){b[c]=Math.max(a,b[c]||0)})});b.commentsHeight&&(b.b+=b.commentsHeight);b.legendr&&(b.r+=b.legendr);b.legendt&&(b.t+=b.legendt);b.legendl&&(b.l+=b.legendl);b.legendb&&(b.b+=b.legendb);if(this.title){this.titleGap=
0==this.titleGap?0:this.titleGap||this.theme.chart.titleGap||20;this.titlePos=this.titlePos||this.theme.chart.titlePos||"top";this.titleFont=this.titleFont||this.theme.chart.titleFont;this.titleFontColor=this.titleFontColor||this.theme.chart.titleFontColor||"black";var c=t.normalizedLength(t.splitFontString(this.titleFont).size);b["top"==this.titlePos?"t":"b"]+=c+this.titleGap;if(this.subTitle)this.subTitleFont=this.subTitleFont||this.theme.chart.subTitleFont,this.subTitleFontColor=this.subTitleFontColor||
this.theme.chart.subTitleFontColor||"black"}s.forIn(this.margins,function(a,c){b[c]+=a});this._setPositionProperty(a,b);this.plotArea={width:a.width-b.l-b.r,height:a.height-b.t-b.b};s.forIn(this.axes,r);x(this.stack,this.plotArea);return this},render:function(){this._changeStackOrder();if(this._delayedRenderHandle)clearTimeout(this._delayedRenderHandle),this._delayedRenderHandle=null;this.theme&&this.theme.clear();if(this.dirty)return this.fullRender();this.calculateGeometry();s.forEachRev(this.stack,
function(a){a.render(this.dim,this.offsets)},this);s.forIn(this.axes,function(a){a.render(this.dim,this.offsets)},this);this._makeClean();return this},fullRender:function(){this.fullGeometry();var b=this.offsets,d=this.dim,k=Math.max(0,d.width-b.l-b.r),e=Math.max(0,d.height-b.t-b.b);f.forEach(this.series,D);s.forIn(this.axes,D);f.forEach(this.stack,D);for(var g=this.surface.children,m=0;m<g.length;++m)A.dispose(g[m]);this.chartTitle&&this.chartTitle.tagName&&c.destroy(this.chartTitle);this.chartSubTitle&&
this.chartSubTitle.tagName&&c.destroy(this.chartSubTitle);this.plotGroup&&this.plotGroup.clear();this.surface.clear();this.chartSubTitle=this.chartTitle=null;this.plotGroup?(this._renderChartBackground(d,b),this._renderPlotBackground(d,b,k,e),this.surface.add(this.plotGroup),this.plotGroup.setClip({x:b.l,y:b.t,width:k,height:e})):this._renderPlotBackground(d,b,k,e);s.foldr(this.stack,function(a,c){return c.render(d,b),0},0);this.plotGroup||this._renderChartBackground(d,b);if(this.title&&(k=(k="canvas"==
t.renderer)||this.titleHtmlLabels&&!a("opera")?"html":"gfx",e=t.normalizedLength(t.splitFontString(this.titleFont).size),e="top"==this.titlePos?e+this.margins.t:d.height-this.margins.b-(b.commentsHeight&&b.commentsHeight+10||0),g="middle"==this.titlePosition?d.width/2:"left"==this.titlePosition?b.l:this.subTitle?d.width-b.r-this.surface.getTextWidth(this.subTitle,this.subTitleFont):d.width-b.r,this.chartTitle=p.createText[k](this,this.surface,g,e,this.titlePosition,this.title,this.titleFont,this.titleFontColor),
this.subTitle))k=(k="canvas"==t.renderer)||this.titleHtmlLabels&&!a("opera")?"html":"gfx",g="middle"==this.titlePosition?g+this.chartTitle.getTextWidth()/2:"left"==this.titlePosition?g+this.chartTitle.getTextWidth():d.width-b.r,this.chartSubTitle=p.createText[k](this,this.surface,g,e,"right"==this.titlePosition?"right":"left",this.subTitle,this.subTitleFont,this.subTitleFontColor);s.forIn(this.axes,function(a){!a.opt.vertical&&this.position.areaIndexT[a.opt.position]&&"legend"!=a.opt.type||!a.opt.drawAxis||
a.render(d,b)},this);this._makeClean();return this},_renderChartBackground:function(a,c){var d=this.theme,e,f=void 0!==this.fill?this.fill:d.chart&&d.chart.fill,d=void 0!==this.stroke?this.stroke:d.chart&&d.chart.stroke;if("inherit"==f){e=this.node;for(f=new b(g.get(e,"backgroundColor"));0==f.a&&e!=document.documentElement;)f=new b(g.get(e,"backgroundColor")),e=e.parentNode}f&&(this.plotGroup?(f=k.prototype._shapeFill(k.prototype._plotFill(f,a),{x:0,y:0,width:a.width+1,height:a.height+1}),this.surface.createRect({width:a.width+
1,height:a.height+1}).setFill(f)):(f=k.prototype._plotFill(f,a,c),c.l&&(e={x:0,y:0,width:c.l,height:a.height+1},this.surface.createRect(e).setFill(k.prototype._shapeFill(f,e))),c.r&&(e={x:a.width-c.r,y:0,width:c.r+1,height:a.height+2},this.surface.createRect(e).setFill(k.prototype._shapeFill(f,e))),c.t&&(e={x:0,y:0,width:a.width+1,height:c.t},this.surface.createRect(e).setFill(k.prototype._shapeFill(f,e))),c.b&&(e={x:0,y:a.height-c.b,width:a.width+1,height:c.b+2},this.surface.createRect(e).setFill(k.prototype._shapeFill(f,
e)))));d&&this.surface.createRect({width:a.width-1,height:a.height-1}).setStroke(d)},_renderPlotBackground:function(a,b,c){for(var d=this.theme,e=this.plotareabackgroundcolor?this.plotareabackgroundcolor:d.plotarea&&d.plotarea.fill,d=d.plotarea&&d.plotarea.stroke,f=this.position.eachAreaHeight,g=this.position.margin,m=this.position.plotAreaNum-1;0<=m;m--){0==m&&(g=0);var o={x:b.l-1,y:b.t+f*m+g-1,width:c+2,height:f-g+2};e&&(e=k.prototype._shapeFill(k.prototype._plotFill(e,a,b),o),this.surface.createRect(o).setFill(e));
d&&this.surface.createRect({x:b.l,y:b.t+f*m+g,width:c+1,height:f-g+1}).setStroke(d)}},delayedRender:function(){if(!this._delayedRenderHandle)this._delayedRenderHandle=setTimeout(h.hitch(this,function(){this.render()}),this.delayInMs);return this},connectToPlot:function(a,b,c){return a in this.plots?this.stack[this.plots[a]].connect(b,c):null},fireEvent:function(a,b,c){if(a in this.runs){var d=this.series[this.runs[a]].plot;d in this.plots&&(d=this.stack[this.plots[d]])&&d.fireEvent(a,b,c)}return this},
_makeClean:function(){f.forEach(this.axes,q);f.forEach(this.stack,q);f.forEach(this.series,q);this.dirty=!1},_makeDirty:function(){f.forEach(this.axes,z);f.forEach(this.stack,z);f.forEach(this.series,z);this.dirty=!0},_invalidateDependentPlots:function(a,b){if(a in this.plots){var c=this.stack[this.plots[a]],d,k=b?"vAxis":"hAxis";if(c[k]){if((d=this.axes[c[k]])&&d.dependOnData())d.dirty=!0,f.forEach(this.stack,function(a){if(a[k]&&a[k]==c[k])a.dirty=!0})}else c.dirty=!0}},_changeStackOrder:function(){var a=
[],b=[],c=[],d=[];f.forEach(this.stack,function(k){/\.(Default|OHLC|StackedLines|Markers|Lines|Scatter|MarkersOnly)$/.test(k.declaredClass)?a.push(k):/(Bars|Columns|Bubble|Candlesticks)$/.test(k.declaredClass)?b.push(k):/\.Grid$/.test(k.declaredClass)?d.push(k):c.push(k)});this.stack=a.concat(b,c,d);for(var k=0;k<this.stack.length;k++)this.plots[this.stack[k].name]=k},_setPositionProperty:function(a,b){var c=this.position.plotAreaNum;this.position.eachAreaHeight=(a.height-b.b-b.t)/c;if(3==c)this.position.areaIndexT=
{top:2,middle:1,bottom:0},this.position.areaIndexB={top:0,middle:1,bottom:2};else if(2==c)for(var d in this.position.positions)if("bottom"==d){this.position.areaIndexT={top:1,middle:1,bottom:0};this.position.areaIndexB={top:0,middle:0,bottom:1};break}else this.position.areaIndexT={top:1,middle:0,bottom:0},this.position.areaIndexB={top:0,middle:1,bottom:1};else this.position.areaIndexT={top:0,middle:0,bottom:0},this.position.areaIndexB={top:0,middle:0,bottom:0}}})})},"dojox/main":function(){define("dojox/main",
["dojo/_base/kernel"],function(l){return l.dojox})},"dojox/charting/Element":function(){define("dojo/_base/lang,dojo/_base/array,dojo/dom-construct,dojo/_base/declare,dojox/gfx,dojox/gfx/shape".split(","),function(l,h,f,i,g,e){return i("dojox.charting.Element",null,{chart:null,group:null,htmlElements:null,dirty:!0,constructor:function(d,c){this.chart=d;this.group=null;this.kwArgs=c;this.htmlElements=[];this.dirty=!0;this.trailingSymbol="...";this._events=[]},purgeGroup:function(){this.destroyHtmlElements();
if(this.group){this.group.removeShape();for(var d=this.group.children,c=0;c<d.length;++c)e.dispose(d[c]);this.group.clear();this.group=null}this.dirty=!0;if(this._events.length)h.forEach(this._events,function(b){b.shape.disconnect(b.handle)}),this._events=[];return this},cleanGroup:function(d){this.destroyHtmlElements();if(!d)d=this.chart.surface;if(this.group){for(var d=this.group.children,c=0;c<d.length;++c)e.dispose(d[c]);this.group.clear()}else this.group=d.createGroup();this.dirty=!0;return this},
destroyHtmlElements:function(){if(this.htmlElements.length)h.forEach(this.htmlElements,f.destroy),this.htmlElements=[]},destroy:function(){this.purgeGroup()},getTextWidth:function(d,c){return g._base._getTextBox(d,{font:c}).w||0},getTextWithLimitLength:function(d,c,b,a){if(!d||0>=d.length)return{text:"",truncated:a||!1};if(!b||0>=b)return{text:d,truncated:a||!1};var k=d.substring(0,1)+this.trailingSymbol,e=this.getTextWidth(k,c);if(b<=e)return{text:k,truncated:!0};if(this.getTextWidth(d,c)<=b)return{text:d,
truncated:a||!1};a=0;for(k=d.length;a<k;){if(2>=k-a){for(;this.getTextWidth(d.substring(0,a)+this.trailingSymbol,c)>b;)a-=1;return{text:d.substring(0,a)+this.trailingSymbol,truncated:!0}}e=a+Math.round(0.618*(k-a));this.getTextWidth(d.substring(0,e),c)<b?a=e:k=e}},getTextWithLimitCharCount:function(d,c,b,a){return!d||0>=d.length?{text:"",truncated:a||!1}:!b||0>=b||d.length<=b?{text:d,truncated:a||!1}:{text:d.substring(0,b)+this.trailingSymbol,truncated:!0}},_plotFill:function(d,c,b){if(!d||!d.type||
!d.space)return d;var a=d.space,k;switch(d.type){case "linear":if("plot"===a||"shapeX"===a||"shapeY"===a){d=g.makeParameters(g.defaultLinearGradient,d);d.space=a;if("plot"===a||"shapeX"===a)k=c.height-b.t-b.b,d.y1=b.t+k*d.y1/100,d.y2=b.t+k*d.y2/100;if("plot"===a||"shapeY"===a)k=c.width-b.l-b.r,d.x1=b.l+k*d.x1/100,d.x2=b.l+k*d.x2/100}break;case "radial":if("plot"===a)d=g.makeParameters(g.defaultRadialGradient,d),d.space=a,a=c.width-b.l-b.r,c=c.height-b.t-b.b,d.cx=b.l+a*d.cx/100,d.cy=b.t+c*d.cy/100,
d.r=d.r*Math.sqrt(a*a+c*c)/200;break;case "pattern":if("plot"===a||"shapeX"===a||"shapeY"===a){d=g.makeParameters(g.defaultPattern,d);d.space=a;if("plot"===a||"shapeX"===a)k=c.height-b.t-b.b,d.y=b.t+k*d.y/100,d.height=k*d.height/100;if("plot"===a||"shapeY"===a)k=c.width-b.l-b.r,d.x=b.l+k*d.x/100,d.width=k*d.width/100}}return d},_shapeFill:function(d,c){if(!d||!d.space)return d;var b=d.space,a;switch(d.type){case "linear":if("shape"===b||"shapeX"===b||"shapeY"===b){d=g.makeParameters(g.defaultLinearGradient,
d);d.space=b;if("shape"===b||"shapeX"===b)a=c.width,d.x1=c.x+a*d.x1/100,d.x2=c.x+a*d.x2/100;if("shape"===b||"shapeY"===b)a=c.height,d.y1=c.y+a*d.y1/100,d.y2=c.y+a*d.y2/100}break;case "radial":if("shape"===b)d=g.makeParameters(g.defaultRadialGradient,d),d.space=b,d.cx=c.x+c.width/2,d.cy=c.y+c.height/2,d.r=d.r*c.width/200;break;case "pattern":if("shape"===b||"shapeX"===b||"shapeY"===b){d=g.makeParameters(g.defaultPattern,d);d.space=b;if("shape"===b||"shapeX"===b)a=c.width,d.x=c.x+a*d.x/100,d.width=
a*d.width/100;if("shape"===b||"shapeY"===b)a=c.height,d.y=c.y+a*d.y/100,d.height=a*d.height/100}}return d},_pseudoRadialFill:function(d,c,b,a,k){if(!d||"radial"!==d.type||"shape"!==d.space)return d;var e=d.space,d=g.makeParameters(g.defaultRadialGradient,d);d.space=e;if(4>arguments.length)return d.cx=c.x,d.cy=c.y,d.r=d.r*b/100,d;e=5>arguments.length?a:(k+a)/2;return{type:"linear",x1:c.x,y1:c.y,x2:c.x+d.r*b*Math.cos(e)/100,y2:c.y+d.r*b*Math.sin(e)/100,colors:d.colors}}})})},"dojox/gfx":function(){define("dojox/gfx",
["dojo/_base/lang","./gfx/_base","./gfx/renderer!"],function(l,h,f){h.switchTo(f);return h})},"dojox/gfx/renderer":function(){define(["./_base","dojo/_base/lang","dojo/_base/sniff","dojo/_base/window","dojo/_base/config"],function(l,h,f,i,g){var e=null;return{load:function(d,c,b){function a(){c(["dojox/gfx/"+k],function(a){l.renderer=k;e=a;b(a)})}if(e&&"force"!=d)b(e);else{for(var k=g.forceGfxRenderer,d=!k&&(h.isString(g.gfxRenderer)?g.gfxRenderer:"canvas,svg,vml,silverlight").split(","),f;!k&&d.length;)switch(d.shift()){case "svg":"SVGAngle"in
i.global&&(k="svg");break;case "silverlight":try{navigator.plugins["Silverlight Plug-In"]&&(f=!0)}catch(o){f=!1}finally{}f&&(k="silverlight");break;case "canvas":i.global.CanvasRenderingContext2D&&(k="canvas")}"canvas"===k&&!1!==g.canvasEvents&&(k="canvasWithEvents");"svg"==k&&"undefined"!=typeof window.svgweb?window.svgweb.addOnLoad(a):a()}}}})},"dojox/charting/SimpleTheme":function(){define("dojo/_base/lang,dojo/_base/array,dojo/_base/declare,dojo/_base/Color,dojox/lang/utils,dojox/gfx/gradutils".split(","),
function(l,h,f,i,g,e){var d=f("dojox.charting.SimpleTheme",null,{shapeSpaces:{shape:1,shapeX:1,shapeY:1},constructor:function(c){var c=c||{},b=d.defaultTheme;h.forEach("chart,dataShowStyle,plotarea,axis,grid,series,marker,indicator,crosshairs".split(","),function(a){this[a]=l.delegate(b[a],c[a])},this);c.seriesThemes&&c.seriesThemes.length?(this.colors=null,this.seriesThemes=c.seriesThemes.slice(0)):(this.seriesThemes=null,this.colors=(c.colors||d.defaultColors).slice(0));this.markerThemes=null;if(c.markerThemes&&
c.markerThemes.length)this.markerThemes=c.markerThemes.slice(0);this.markers=c.markers?l.clone(c.markers):l.delegate(d.defaultMarkers);this.noGradConv=c.noGradConv;this.noRadialConv=c.noRadialConv;c.reverseFills&&this.reverseFills();this._current=0;this._buildMarkerArray()},clone:function(){var c=new this.constructor({chart:this.chart,dataShowStyle:this.dataShowStyle,plotarea:this.plotarea,axis:this.axis,grid:this.grid,series:this.series,marker:this.marker,colors:this.colors,markers:this.markers,
indicator:this.indicator,seriesThemes:this.seriesThemes,markerThemes:this.markerThemes,crosshairs:this.crosshairs,noGradConv:this.noGradConv,noRadialConv:this.noRadialConv});h.forEach("clone,clear,next,skip,addMixin,post,getTick".split(","),function(b){this.hasOwnProperty(b)&&(c[b]=this[b])},this);return c},clear:function(){this._current=0},next:function(c,b,a,d){var e=g.merge,f=d||0==d?d:this._current;if(this.colors){var d=l.delegate(this.series),e=l.delegate(this.marker),p=new i(this.colors[f%this.colors.length]),
A;d.stroke&&d.stroke.color?(d.stroke=l.delegate(d.stroke),A=new i(d.stroke.color),d.stroke.color=new i(p),d.stroke.color.a=A.a):d.stroke={color:p};e.stroke&&e.stroke.color?(e.stroke=l.delegate(e.stroke),A=new i(e.stroke.color),e.stroke.color=new i(p),e.stroke.color.a=A.a):e.stroke={color:p};!d.fill||d.fill.type?d.fill=p:(A=new i(d.fill),d.fill=new i(p),d.fill.a=A.a);!e.fill||e.fill.type?e.fill=p:(A=new i(e.fill),e.fill=new i(p),e.fill.a=A.a)}else d=this.seriesThemes?e(this.series,this.seriesThemes[f%
this.seriesThemes.length]):this.series,e=this.markerThemes?e(this.marker,this.markerThemes[f%this.markerThemes.length]):d;d={series:d,marker:e,symbol:e&&e.symbol||this._markers[f%this._markers.length]};++this._current;b&&(d=this.addMixin(d,c,b));a&&(d=this.post(d,c));return d},skip:function(){++this._current},getCurrent:function(){return this._current},addMixin:function(c,b,a,d){if(l.isArray(a))h.forEach(a,function(a){c=this.addMixin(c,b,a)},this);else{var e={};"color"in a&&("line"==b||"area"==b?
(l.setObject("series.stroke.color",a.color,e),l.setObject("marker.stroke.color",a.color,e)):l.setObject("series.fill",a.color,e));h.forEach("stroke,outline,shadow,fill,font,fontColor,labelWiring".split(","),function(b){var c="marker"+b.charAt(0).toUpperCase()+b.substr(1),d=c in a;b in a&&(l.setObject("series."+b,a[b],e),d||l.setObject("marker."+b,a[b],e));d&&l.setObject("marker."+b,a[c],e)});if("marker"in a)e.symbol=a.marker,e.symbol=a.marker;c=g.merge(c,e)}d&&(c=this.post(c,b));return c},post:function(c,
b){var a=c.series.fill,d;if(!this.noGradConv&&this.shapeSpaces[a.space]&&"linear"==a.type){if("bar"==b)d={x1:a.y1,y1:a.x1,x2:a.y2,y2:a.x2};else if(!this.noRadialConv&&"shape"==a.space&&("slice"==b||"circle"==b))d={type:"radial",cx:0,cy:0,r:100};if(d)return g.merge(c,{series:{fill:d}})}return c},getTick:function(c,b){var a=this.axis.tick,d=c+"Tick",e=g.merge;a?this.axis[d]&&(a=e(a,this.axis[d])):a=this.axis[d];b&&(a?b[d]&&(a=e(a,b[d])):a=b[d]);return a},inspectObjects:function(c){h.forEach("chart,dataShowStyle,plotarea,axis,grid,series,marker,indicator".split(","),
function(b){c(this[b])},this);this.seriesThemes&&h.forEach(this.seriesThemes,c);this.markerThemes&&h.forEach(this.markerThemes,c)},reverseFills:function(){this.inspectObjects(function(c){if(c&&c.fill)c.fill=e.reverse(c.fill)})},addMarker:function(c,b){this.markers[c]=b;this._buildMarkerArray()},setMarkers:function(c){this.markers=c;this._buildMarkerArray()},_buildMarkerArray:function(){this._markers=[];for(var c in this.markers)this._markers.push(this.markers[c])}});l.mixin(d,{defaultMarkers:{CIRCLE:"m-3,0 c0,-4 6,-4 6,0 m-6,0 c0,4 6,4 6,0",
SQUARE:"m-3,-3 l0,6 6,0 0,-6 z",DIAMOND:"m0,-3 l3,3 -3,3 -3,-3 z",CROSS:"m0,-3 l0,6 m-3,-3 l6,0",X:"m-3,-3 l6,6 m0,-6 l-6,6",TRIANGLE:"m-3,3 l3,-6 3,6 z",TRIANGLE_INVERTED:"m-3,-3 l3,6 3,-6 z"},defaultColors:["#54544c","#858e94","#6e767a","#948585","#474747"],defaultTheme:{chart:{stroke:null,fill:"white",pageStyle:null,titleGap:20,titlePos:"top",titleFont:"normal normal bold 14pt Tahoma",titleFontColor:"#333"},dataShowStyle:{font:"normal normal bold 14pt Tahoma",fontColor:"white",width:2},plotarea:{stroke:null,
fill:"white"},axis:{stroke:{color:"#333",width:1},tick:{color:"#666",position:"center",font:"normal normal normal 7pt Tahoma",fontColor:"#333",labelGap:4},majorTick:{width:1,length:6},minorTick:{width:0.8,length:3},microTick:{width:0.5,length:1},title:{gap:15,font:"normal normal normal 11pt Tahoma",fontColor:"#333",orientation:"axis"}},series:{stroke:{width:1.5,color:"#333"},outline:{width:0.1,color:"#ccc"},shadow:null,fill:"#ccc",font:"normal normal normal 8pt Tahoma",fontColor:"#000",labelWiring:{width:1,
color:"#ccc"}},marker:{stroke:{width:1.5,color:"#333"},outline:{width:0.1,color:"#ccc"},shadow:null,fill:"#ccc",font:"normal normal normal 8pt Tahoma",fontColor:"#000"},indicator:{lineStroke:{width:1.5,color:"#333"},lineOutline:{width:0.1,color:"#ccc"},lineShadow:null,stroke:{width:1.5,color:"#333"},outline:{width:0.1,color:"#ccc"},shadow:null,fill:"#ccc",radius:3,font:"normal normal normal 10pt Tahoma",fontColor:"#000",markerFill:"#ccc",markerSymbol:"m-3,0 c0,-4 6,-4 6,0 m-6,0 c0,4 6,4 6,0",markerStroke:{width:1.5,
color:"#333"},markerOutline:{width:0.1,color:"#ccc"},markerShadow:null},crosshairs:{}}});return d})},"dojox/lang/utils":function(){define(["..","dojo/_base/lang"],function(l,h){var f=h.getObject("lang.utils",!0,l),i={},g=Object.prototype.toString,e=function(d){if(d)switch(g.call(d)){case "[object Array]":return d.slice(0);case "[object Object]":return h.delegate(d)}return d};h.mixin(f,{coerceType:function(d,c){switch(typeof d){case "number":return Number(eval("("+c+")"));case "string":return""+c;
case "boolean":return Boolean(eval("("+c+")"))}return eval("("+c+")")},updateWithObject:function(d,c,b){if(!c)return d;for(var a in d)if(a in c&&!(a in i)){var k=d[a];k&&"object"==typeof k?f.updateWithObject(k,c[a],b):d[a]=b?f.coerceType(k,c[a]):e(c[a])}return d},updateWithPattern:function(d,c,b,a){if(!c||!b)return d;for(var k in b)k in c&&!(k in i)&&(d[k]=a?f.coerceType(b[k],c[k]):e(c[k]));return d},merge:function(d,c){if(c){var b=g.call(d),a=g.call(c),e,m;switch(a){case "[object Array]":if(a==b){b=
Array(Math.max(d.length,c.length));for(e=0,a=b.length;e<a;++e)b[e]=f.merge(d[e],c[e]);return b}return c.slice(0);case "[object Object]":if(a==b&&d){b=h.delegate(d);for(e in c)e in d?(a=d[e],m=c[e],m!==a&&(b[e]=f.merge(a,m))):b[e]=h.clone(c[e]);return b}return h.clone(c)}}return c}});return f})},"dojox/gfx/gradutils":function(){define(["./_base","dojo/_base/lang","./matrix","dojo/_base/Color"],function(l,h,f,i){function g(e,d){if(0>=e)return d[0].color;var c=d.length;if(1<=e)return d[c-1].color;for(var b=
0;b<c;++b){var a=d[b];if(a.offset>=e)return b?(c=d[b-1],i.blendColors(new i(c.color),new i(a.color),(e-c.offset)/(a.offset-c.offset))):a.color}return d[c-1].color}l=l.gradutils={};l.getColor=function(e,d){var c;if(e){switch(e.type){case "linear":c=Math.atan2(e.y2-e.y1,e.x2-e.x1);c=f.rotate(-c);var b=f.project(e.x2-e.x1,e.y2-e.y1),a=f.multiplyPoint(b,d),k=f.multiplyPoint(b,e.x1,e.y1),b=f.multiplyPoint(b,e.x2,e.y2),b=f.multiplyPoint(c,b.x-k.x,b.y-k.y).x;c=f.multiplyPoint(c,a.x-k.x,a.y-k.y).x/b;break;
case "radial":c=d.x-e.cx,a=d.y-e.cy,c=Math.sqrt(c*c+a*a)/e.r}return g(c,e.colors)}return new i(e||[0,0,0,0])};l.reverse=function(e){if(e)switch(e.type){case "linear":case "radial":if(e=h.delegate(e),e.colors){for(var d=e.colors,c=d.length,b=0,a,k=e.colors=Array(d.length);b<c;++b)a=d[b],k[b]={offset:1-a.offset,color:a.color};k.sort(function(a,b){return a.offset-b.offset})}}return e};return l})},"dojox/charting/Series":function(){define(["dojo/_base/lang","dojo/_base/declare","./Element"],function(l,
h,f){return h("dojox.charting.Series",f,{constructor:function(f,g,e){l.mixin(this,e);this.kwArgs=e;if("string"!=typeof this.plot)this.plot="default";this.update(g)},clear:function(){this.dyn={}},update:function(f){l.isArray(f)?this.data=f:(this.source=f,this.data=this.source.data,this.source.setSeriesObject&&this.source.setSeriesObject(this));this.dirty=!0;this.clear()}})})},"dojox/charting/axis2d/common":function(){define(["dojo/_base/lang","dojo/_base/window","dojo/dom-geometry","dojox/gfx","dojo/cssScale"],
function(l,h,f,i,g){var e=l.getObject("dojox.charting.axis2d.common",!0),d=function(c){c.marginLeft="0px";c.marginTop="0px";c.marginRight="0px";c.marginBottom="0px";c.paddingLeft="0px";c.paddingTop="0px";c.paddingRight="0px";c.paddingBottom="0px";c.borderLeftWidth="0px";c.borderTopWidth="0px";c.borderRightWidth="0px";c.borderBottomWidth="0px"};return l.mixin(e,{createText:{gfx:function(c,b,a,d,e,f,g,A,t){return b.createText({x:a,y:d,text:f,align:e,textBaseline:t}).setFont(g).setFill(A)},html:function(c,
b,a,e,m,o,p,A,t){var a="canvasWithEvents"==i.renderer||"canvas"==i.renderer?g.scale(a,"x"):a,e="canvasWithEvents"==i.renderer||"canvas"==i.renderer?g.scale(e,"y"):e,b=h.doc.createElement("div"),s=b.style,B;if(c.getTextDir)b.dir=c.getTextDir(o);d(s);s.font=p;b.innerHTML=(""+o).replace(/\s/g,"&nbsp;");s.color=A;s.position="absolute";s.left="-10000px";h.body().appendChild(b);o=i.normalizedLength(i.splitFontString(p).size);if(!t)b.getBoundingClientRect?(B=b.getBoundingClientRect(),B=B.width||B.right-
B.left):B=f.getMarginBox(b).w;"rtl"==b.dir&&(a+=t?t:B);h.body().removeChild(b);s.position="relative";if(t)switch(s.width=t+"px",m){case "middle":s.textAlign="center";s.left=a-t/2+"px";break;case "end":s.textAlign="right";s.left=a-t+"px";break;default:s.left=a+"px",s.textAlign="left"}else switch(m){case "middle":s.left=Math.floor(a-g.scale(B,"x")/2)+"px";break;case "end":s.left=Math.floor(a-B)+"px";break;default:s.left=Math.floor(a)+"px"}s.top=Math.floor(e-g.scale(o,"y"))+"px";s.whiteSpace="nowrap";
a=h.doc.createElement("div");e=a.style;d(e);e.width="0px";e.height="0px";b.style["z-index"]=1;a.appendChild(b);c.node.insertBefore(a,c.node.firstChild);return a}}})})},"dojox/lang/functional":function(){define(["./functional/lambda","./functional/array","./functional/object"],function(l){return l})},"dojox/lang/functional/lambda":function(){define(["../..","dojo/_base/kernel","dojo/_base/lang","dojo/_base/array"],function(l,h,f,i){var g=f.getObject("lang.functional",!0,l),e={},d=1<"ab".split(/a*/).length?
String.prototype.split:function(a){var b=this.split.call(this,a);(a=a.exec(this))&&0==a.index&&b.unshift("");return b},c=function(a){var b=[],c=d.call(a,/\s*->\s*/m);if(1<c.length)for(;c.length;)a=c.pop(),b=c.pop().split(/\s*,\s*|\s+/m),c.length&&c.push("(function("+b+"){return ("+a+")})");else if(a.match(/\b_\b/))b=["_"];else{var c=a.match(/^\s*(?:[+*\/%&|\^\.=<>]|!=)/m),e=a.match(/[+\-*\/%&|\^\.=<>!]\s*$/m);if(c||e)c&&(b.push("$1"),a="$1"+a),e&&(b.push("$2"),a+="$2");else{var c=a.replace(/(?:\b[A-Z]|\.[a-zA-Z_$])[a-zA-Z_$\d]*|[a-zA-Z_$][a-zA-Z_$\d]*:|this|true|false|null|undefined|typeof|instanceof|in|delete|new|void|arguments|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|escape|eval|isFinite|isNaN|parseFloat|parseInt|unescape|dojo|dijit|dojox|window|document|'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"/g,
"").match(/([a-z_$][a-z_$\d]*)/gi)||[],f={};i.forEach(c,function(a){a in f||(b.push(a),f[a]=1)})}}return{args:b,body:a}},b=function(a){return a.length?function(){var b=a.length-1,c=g.lambda(a[b]).apply(this,arguments);for(--b;0<=b;--b)c=g.lambda(a[b]).call(this,c);return c}:function(a){return a}};f.mixin(g,{rawLambda:function(a){return c(a)},buildLambda:function(a){a=c(a);return"function("+a.args.join(",")+"){return ("+a.body+");}"},lambda:function(a){if("function"==typeof a)return a;if(a instanceof
Array)return b(a);if(a in e)return e[a];a=c(a);return e[a]=new Function(a.args,"return ("+a.body+");")},clearLambdaCache:function(){e={}}});return g})},"dojox/lang/functional/array":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/array","./lambda"],function(l,h,f,i){var g={};h.mixin(i,{filter:function(e,d,c){"string"==typeof e&&(e=e.split(""));var c=c||l.global,d=i.lambda(d),b=[],a,k,f;if(h.isArray(e))for(k=0,f=e.length;k<f;++k)a=e[k],d.call(c,a,k,e)&&b.push(a);else if("function"==
typeof e.hasNext&&"function"==typeof e.next)for(k=0;e.hasNext();)a=e.next(),d.call(c,a,k++,e)&&b.push(a);else for(k in e)k in g||(a=e[k],d.call(c,a,k,e)&&b.push(a));return b},forEach:function(e,d,c){"string"==typeof e&&(e=e.split(""));var c=c||l.global,d=i.lambda(d),b,a;if(h.isArray(e))for(b=0,a=e.length;b<a;d.call(c,e[b],b,e),++b);else if("function"==typeof e.hasNext&&"function"==typeof e.next)for(b=0;e.hasNext();d.call(c,e.next(),b++,e));else for(b in e)b in g||d.call(c,e[b],b,e);return c},map:function(e,
d,c){"string"==typeof e&&(e=e.split(""));var c=c||l.global,d=i.lambda(d),b,a,k;if(h.isArray(e)){b=Array(a=e.length);for(k=0;k<a;b[k]=d.call(c,e[k],k,e),++k);}else if("function"==typeof e.hasNext&&"function"==typeof e.next){b=[];for(k=0;e.hasNext();b.push(d.call(c,e.next(),k++,e)));}else for(k in b=[],e)k in g||b.push(d.call(c,e[k],k,e));return b},every:function(e,d,c){"string"==typeof e&&(e=e.split(""));var c=c||l.global,d=i.lambda(d),b,a;if(h.isArray(e))for(b=0,a=e.length;b<a;++b){if(!d.call(c,e[b],
b,e))return!1}else if("function"==typeof e.hasNext&&"function"==typeof e.next)for(b=0;e.hasNext();){if(!d.call(c,e.next(),b++,e))return!1}else for(b in e)if(!(b in g)&&!d.call(c,e[b],b,e))return!1;return!0},some:function(e,d,c){"string"==typeof e&&(e=e.split(""));var c=c||l.global,d=i.lambda(d),b,a;if(h.isArray(e))for(b=0,a=e.length;b<a;++b){if(d.call(c,e[b],b,e))return!0}else if("function"==typeof e.hasNext&&"function"==typeof e.next)for(b=0;e.hasNext();){if(d.call(c,e.next(),b++,e))return!0}else for(b in e)if(!(b in
g)&&d.call(c,e[b],b,e))return!0;return!1}});return i})},"dojox/lang/functional/object":function(){define(["dojo/_base/kernel","dojo/_base/lang","./lambda"],function(l,h,f){var i={};h.mixin(f,{keys:function(f){var e=[],d;for(d in f)d in i||e.push(d);return e},values:function(f){var e=[],d;for(d in f)d in i||e.push(f[d]);return e},filterIn:function(g,e,d){var d=d||l.global,e=f.lambda(e),c={},b,a;for(a in g)a in i||(b=g[a],e.call(d,b,a,g)&&(c[a]=b));return c},forIn:function(g,e,d){var d=d||l.global,
e=f.lambda(e),c;for(c in g)c in i||e.call(d,g[c],c,g);return d},mapIn:function(g,e,d){var d=d||l.global,e=f.lambda(e),c={},b;for(b in g)b in i||(c[b]=e.call(d,g[b],b,g));return c}});return f})},"dojox/lang/functional/fold":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/kernel","./lambda"],function(l,h,f,i){var g={};l.mixin(i,{foldl:function(e,d,c,b){"string"==typeof e&&(e=e.split(""));var b=b||f.global,d=i.lambda(d),a,k;if(l.isArray(e))for(a=0,k=e.length;a<k;c=d.call(b,c,e[a],
a,e),++a);else if("function"==typeof e.hasNext&&"function"==typeof e.next)for(a=0;e.hasNext();c=d.call(b,c,e.next(),a++,e));else for(a in e)a in g||(c=d.call(b,c,e[a],a,e));return c},foldl1:function(e,d,c){"string"==typeof e&&(e=e.split(""));var c=c||f.global,d=i.lambda(d),b,a,k;if(l.isArray(e)){b=e[0];for(a=1,k=e.length;a<k;b=d.call(c,b,e[a],a,e),++a);}else if("function"==typeof e.hasNext&&"function"==typeof e.next){if(e.hasNext()){b=e.next();for(a=1;e.hasNext();b=d.call(c,b,e.next(),a++,e));}}else for(a in k=
!0,e)a in g||(k?(b=e[a],k=!1):b=d.call(c,b,e[a],a,e));return b},foldr:function(e,d,c,b){"string"==typeof e&&(e=e.split(""));for(var b=b||f.global,d=i.lambda(d),a=e.length;0<a;--a,c=d.call(b,c,e[a],a,e));return c},foldr1:function(e,d,c){"string"==typeof e&&(e=e.split(""));for(var c=c||f.global,d=i.lambda(d),b=e.length,a=e[b-1],b=b-1;0<b;--b,a=d.call(c,a,e[b],b,e));return a},reduce:function(e,d,c){return 3>arguments.length?i.foldl1(e,d):i.foldl(e,d,c)},reduceRight:function(e,d,c){return 3>arguments.length?
i.foldr1(e,d):i.foldr(e,d,c)},unfold:function(e,d,c,b,a){for(var a=a||f.global,d=i.lambda(d),c=i.lambda(c),e=i.lambda(e),k=[];!e.call(a,b);k.push(d.call(a,b)),b=c.call(a,b));return k}})})},"dojox/lang/functional/reversed":function(){define(["dojo/_base/lang","dojo/_base/kernel","./lambda"],function(l,h,f){l.mixin(f,{filterRev:function(i,g,e){"string"==typeof i&&(i=i.split(""));for(var e=e||h.global,g=f.lambda(g),d=[],c,b=i.length-1;0<=b;--b)c=i[b],g.call(e,c,b,i)&&d.push(c);return d},forEachRev:function(i,
g,e){"string"==typeof i&&(i=i.split(""));for(var e=e||h.global,g=f.lambda(g),d=i.length-1;0<=d;g.call(e,i[d],d,i),--d);},mapRev:function(i,g,e){"string"==typeof i&&(i=i.split(""));for(var e=e||h.global,g=f.lambda(g),d=i.length,c=Array(d),d=d-1,b=0;0<=d;c[b++]=g.call(e,i[d],d,i),--d);return c},everyRev:function(i,g,e){"string"==typeof i&&(i=i.split(""));for(var e=e||h.global,g=f.lambda(g),d=i.length-1;0<=d;--d)if(!g.call(e,i[d],d,i))return!1;return!0},someRev:function(i,g,e){"string"==typeof i&&(i=
i.split(""));for(var e=e||h.global,g=f.lambda(g),d=i.length-1;0<=d;--d)if(g.call(e,i[d],d,i))return!0;return!1}});return f})},"dojox/charting/axis2d/Default":function(){define("dojo/_base/lang,dojo/_base/array,dojo/_base/sniff,dojo/_base/declare,dojo/_base/connect,dojo/dom-geometry,./Invisible,../scaler/common,../scaler/linear,./common,dojox/gfx,dojox/lang/utils,dojox/lang/functional,dojo/cssScale".split(","),function(l,h,f,i,g,e,d,c,b,a,k,m,o,p){return i("dojox.charting.axis2d.Default",d,{defaultParams:{vertical:!1,
fixUpper:"none",fixLower:"none",natural:!1,leftBottom:!0,includeZero:!1,fixed:!0,majorLabels:!0,minorTicks:!0,minorLabels:!0,microTicks:!1,rotation:0,htmlLabels:!1,enableCache:!1,dropLabels:!0,labelStart:0,labelSizeChange:!1,position:"bottom",drawAxis:!0},optionalParams:{min:0,max:1,from:0,to:1,majorTickStep:4,minorTickStep:2,microTickStep:1,labels:[],labelFunc:null,maxLabelSize:0,maxLabelCharCount:0,trailingSymbol:null,stroke:{},majorTick:{},minorTick:{},microTick:{},tick:{},font:"",fontColor:"",
title:"",titleGap:0,titleFont:"",titleFontColor:"",titleOrientation:"",tickNoAuto:!1},constructor:function(a,b){this.opt=l.clone(this.defaultParams);m.updateWithObject(this.opt,b);m.updateWithPattern(this.opt,b,this.optionalParams);if(this.opt.enableCache)this._textFreePool=[],this._lineFreePool=[],this._textUsePool=[],this._lineUsePool=[];this._invalidMaxLabelSize=!0},setWindow:function(a,b){if(a!=this.scale)this._invalidMaxLabelSize=!0;return this.inherited(arguments)},_groupLabelWidth:function(a,
b,c){if(!a.length)return 0;if(50<a.length)a.length=50;l.isObject(a[0])&&(a=o.map(a,function(a){return a.text}));c&&(a=o.map(a,function(a){return 0==l.trim(a).length?"":a.substring(0,c)+this.trailingSymbol},this));a=a.join("<br>");return k._base._getTextBox(a,{font:b}).w||0},_getMaxLabelSize:function(a,c,d,e,k,f){if(null==this._maxLabelSize&&6==arguments.length){var g=this.opt;this.scaler.minMinorStep=this._prevMinMinorStep=0;var o=l.clone(g);delete o.to;delete o.from;var m=b.buildScaler(a,c,d,o,g.to-
g.from,null,this.chart);m.minMinorStep=0;this._majorStart=m.major.start;g=b.buildTicks(m,g);if(f&&g){var i=m=0,z=function(a){a.label&&this.push(a.label)},K=[];this.opt.majorLabels&&(h.forEach(g.major,z,K),m=this._groupLabelWidth(K,k,o.maxLabelCharCount),o.maxLabelSize&&(m=Math.min(o.maxLabelSize,m)));K=[];this.opt.dropLabels&&this.opt.minorLabels&&(h.forEach(g.minor,z,K),i=this._groupLabelWidth(K,k,o.maxLabelCharCount),o.maxLabelSize&&(i=Math.min(o.maxLabelSize,i)));this._maxLabelSize={majLabelW:p.scale(m,
"x"),minLabelW:p.scale(i,"x"),majLabelH:f,minLabelH:f}}else this._maxLabelSize=null}return this._maxLabelSize},calculate:function(a,c,d){this.inherited(arguments);this.scaler.minMinorStep=this._prevMinMinorStep;if((this._invalidMaxLabelSize||d!=this._oldSpan)&&Infinity!=a&&-Infinity!=c){this._invalidMaxLabelSize=!1;if(this.opt.labelSizeChange)this._maxLabelSize=null;this._oldSpan=d;var e=this.opt,f=this.chart.theme.axis,g=e.rotation%360,o=this.chart.theme.axis.tick.labelGap,m=e.font||f.majorTick&&
f.majorTick.font||f.tick&&f.tick.font,f=m?k.normalizedLength(k.splitFontString(m).size):0,m=this._getMaxLabelSize(a,c,d,g,m,f);"number"!=typeof o&&(o=4);if(m&&e.dropLabels){var e=Math.abs(Math.cos(g*Math.PI/180)),p=Math.abs(Math.sin(g*Math.PI/180));0>g&&(g+=360);switch(g){case 0:case 180:this.vertical?g=f:(g=m.majLabelW,f=m.minLabelW);break;case 90:case 270:this.vertical?(g=m.majLabelW,f=m.minLabelW):g=f;break;default:var g=this.vertical?Math.min(m.majLabelW,f/e):Math.min(m.majLabelW,f/p),i=Math.sqrt(m.minLabelW*
m.minLabelW+f*f),f=Math.min(i,this.vertical?f*e+m.minLabelW*p:m.minLabelW*e+f*p)}this.scaler.minMinorStep=this._prevMinMinorStep=Math.max(g,f)+o;this._skipInterval=this.scaler.minMinorStep<=this.scaler.minor.tick*this.scaler.bounds.scale?0:Math.floor((g+o)/(this.scaler.major.tick*this.scaler.bounds.scale))}else this._skipInterval=0}this.ticks=b.buildTicks(this.scaler,this.opt);return this},getOffsets:function(){var a={l:0,r:0,t:0,b:0};if(!this.scaler)return a;var b=this.opt,c=this.chart.theme.axis,
d=this.chart.theme.axis.tick.labelGap,e=b.titleFont||c.title&&c.title.font,c=0==b.titleGap?0:b.titleGap||c.title&&c.title.gap,f=this.chart.theme.getTick("major",b),g=this.chart.theme.getTick("minor",b),e=e?k.normalizedLength(k.splitFontString(e).size):0,m=b.rotation%360,o=b.leftBottom,p=Math.abs(Math.cos(m*Math.PI/180)),i=Math.abs(Math.sin(m*Math.PI/180));this.trailingSymbol=void 0===b.trailingSymbol||null===b.trailingSymbol?this.trailingSymbol:b.trailingSymbol;"number"!=typeof d&&(d=4);0>m&&(m+=
360);var h=this._getMaxLabelSize();if(this.opt.vertical&&h)this.opt.leftBottom?(this.chart.leftmajLabelW||(this.chart.leftmajLabelW=0),this.chart.leftmajLabelW=Math.max(this.chart.leftmajLabelW,h.majLabelW)):(this.chart.rightmajLabelW||(this.chart.rightmajLabelW=0),this.chart.rightmajLabelW=Math.max(this.chart.rightmajLabelW,h.majLabelW));if(h){var l=Math.ceil(Math.max(h.majLabelW,h.minLabelW))+1,H=Math.ceil(Math.max(h.majLabelH,h.minLabelH))+1;if(this.vertical)switch(h=o?"l":"r",m){case 0:case 180:a[h]=
l;a.t=a.b=H/2;break;case 90:case 270:a[h]=H;a.t=a.b=l/2;break;default:45>=m||180<m&&225>=m?(a[h]=H*i/2+l*p,a[o?"t":"b"]=H*p/2+l*i,a[o?"b":"t"]=H*p/2):315<m||180>m&&135<m?(a[h]=H*i/2+l*p,a[o?"b":"t"]=H*p/2+l*i,a[o?"t":"b"]=H*p/2):90>m||180<m&&270>m?(a[h]=H*i+l*p,a[o?"t":"b"]=H*p+l*i):(a[h]=H*i+l*p,a[o?"b":"t"]=H*p+l*i)}else switch(h=o?"b":"t",m){case 0:case 180:a[h]=H;a.l=a.r=l/2;break;case 90:case 270:a[h]=l;a.l=a.r=H/2;break;default:45<=m&&90>=m||225<=m&&270>=m?(a[h]=H*p/2+l*i,a[o?"r":"l"]=H*i/2+
l*p,a[o?"l":"r"]=H*i/2):90<=m&&135>=m||270<=m&&315>=m?(a[h]=H*p/2+l*i,a[o?"l":"r"]=H*i/2+l*p,a[o?"r":"l"]=H*i/2):45>m||180<m&&225>m?(a[h]=H*p+l*i,a[o?"r":"l"]=H*i+l*p):(a[h]=H*p+l*i,a[o?"l":"r"]=H*i+l*p)}a[h]+=d+Math.max(f.length,g.length)+(b.title?e+c:0)}else b.title&&(h=this.vertical?o?"l":"r":o?"b":"t",a[h]+=e+c);return a},cleanGroup:function(a){if(this.opt.enableCache&&this.group)this._lineFreePool=this._lineFreePool.concat(this._lineUsePool),this._lineUsePool=[],this._textFreePool=this._textFreePool.concat(this._textUsePool),
this._textUsePool=[];this.inherited(arguments)},createText:function(b,c,d,e,f,k,g,m,o){if(!this.opt.enableCache||"html"==b)return a.createText[b](this.chart,c,d,e,f,k,g,m,o);0<this._textFreePool.length?(b=this._textFreePool.pop(),b.setShape({x:d,y:e,text:k,align:f}),c.add(b)):b=a.createText[b](this.chart,c,d,e,f,k,g,m);this._textUsePool.push(b);return b},createLine:function(a,b){var c;this.opt.enableCache&&0<this._lineFreePool.length?(c=this._lineFreePool.pop(),c.setShape(b),a.add(c)):c=a.createLine(b);
this.opt.enableCache&&this._lineUsePool.push(c);return c},render:function(c,d){var e,g,m,o,p,i,l,q,z,K,L,H,Q,y;if(!this.dirty||!this.scaler)return this;var I=this.opt;z=this.chart.theme.axis;var G=I.leftBottom,E=I.rotation%360,M=0,O,F,M=this.chart.theme.axis.tick.labelGap,J=I.font||z.majorTick&&z.majorTick.font||z.tick&&z.tick.font,P=I.titleFont||z.title&&z.title.font,Y=I.fontColor||z.majorTick&&z.majorTick.fontColor||z.tick&&z.tick.fontColor||"black",$=I.titleFontColor||z.title&&z.title.fontColor||
"black";p=0==I.titleGap?0:I.titleGap||z.title&&z.title.gap||15;var R=I.titleOrientation||z.title&&z.title.orientation||"axis",S=this.chart.theme.getTick("major",I),T=this.chart.theme.getTick("minor",I),Z=this.chart.theme.getTick("micro",I);Math.max(S.length,T.length,Z.length);var W="stroke"in I?I.stroke:z.stroke,N=J?k.normalizedLength(k.splitFontString(J).size):0;i=Math.abs(Math.cos(E*Math.PI/180));O=Math.abs(Math.sin(E*Math.PI/180));var ba=P?k.normalizedLength(k.splitFontString(P).size):0;"number"!=
typeof M&&(M=4);0>E&&(E+=360);var ca=this._getMaxLabelSize(),ca=ca&&ca.majLabelW,ga=this.chart.position.eachAreaHeight*this.chart.position.areaIndexT[this.opt.position];z=this.chart.position.eachAreaHeight*this.chart.position.areaIndexB[this.opt.position]+(this.chart.position.areaIndexT[this.opt.position]==this.chart.position.plotAreaNum-1?0:this.chart.position.margin);if(this.vertical){ca=this.opt.leftBottom?this.chart.leftmajLabelW:this.chart.rightmajLabelW;Q=c.height-d.b-ga;y=void 0;L=d.t+z;H=
void 0;z=(c.height-d.b+d.t)/2;K=void 0;O=N*O+(ca||0)*i+M+Math.max(S.length,T.length)+ba+p;l=0;q=-1;e=0;g=0;p=1;i=0;m=M;o=0;switch(E){case 0:F="end";g=0.4*N;break;case 90:F="middle";e=-N;break;case 180:F="start";g=0.4*-N;break;case 270:F="middle";break;default:45>E?(F="end",g=0.4*N):90>E?(F="end",g=0.4*N):135>E?F="start":225>E?(F="start",g=0.4*-N):270>E?(F="start",e=G?0:0.4*N):315>E?(F="end",e=G?0:0.4*N):(F="end",g=0.4*N)}if(G)y=H=d.l,M=R&&"away"==R?90:270,K=d.l-O+(270==M?ba:0),p=-1,m=-m;else switch(y=
H=c.width-d.r,M=R&&"axis"==R?90:270,K=c.width-d.r+O-(270==M?0:ba),F){case "start":F="end";break;case "end":F="start";break;case "middle":e+=N}}else{y=d.l;Q=void 0;H=c.width-d.r;L=void 0;K=(c.width-d.r+d.l)/2;z=void 0;O=N*i+(ca||0)*O+M+Math.max(S.length,T.length)+ba+p;l=1;q=0;e=0;g=0;p=0;i=1;m=0;o=M;switch(E){case 0:F="middle";g=N;break;case 90:F="start";e=0.4*-N;break;case 180:F="middle";break;case 270:F="end";e=0.4*N;break;default:45>E?(F="start",g=G?N:0):135>E?(F="start",e=0.4*-N):180>E?(F="start",
g=G?0:-N):225>E?(F="end",g=G?0:-N):315>E?(F="end",g=G?0.4*N:0):(F="end",g=G?N:0)}if(G)Q=L=c.height-d.b-ga,M=R&&"axis"==R?180:0,z=c.height-d.b+O-(M?ba:0);else switch(Q=L=d.t,M=R&&"away"==R?180:0,z=d.t-O+(M?0:ba),i=-1,o=-o,F){case "start":F="end";break;case "end":F="start";break;case "middle":g-=N}}this.cleanGroup();var aa=this.group,G=this.scaler,R=this.ticks,da=b.getTransformerFromModel(this.scaler),U=(!I.title||!M)&&!E&&this.opt.htmlLabels&&!f("opera")?"html":"gfx",V=p*S.length,X=i*S.length,ea=this._skipInterval;
aa.createLine({x1:y,y1:Q,x2:H,y2:L}).setStroke(W);if(I.title){if(I.vertical)I.leftBottom?this.chart.leftAxisTitle=I.title:this.chart.rightAxisTitle=I.title;P=a.createText[U](this.chart,aa,K,z,"middle",I.title,P,$);"html"==U?this.htmlElements.push(P):P.setTransform(k.matrix.rotategAt(M,K,z))}if(null==R)return this.dirty=!1,this;var ja=0<R.major.length?(R.major[0].value-this._majorStart)/G.major.tick:0,ha=this.opt.majorLabels,ia=0,fa=0;if(!this.vertical)this.chart.firstlablex=y+V+da(1),this.chart.xlablescale=
this.scaler.bounds.scale;h.forEach(R.major,function(a,b){var c=da(a.value),d,f=y+l*c,c=Q+q*c,b=b+ja,p=0==ia&&this.vertical?Number(k.splitFontString(J).size.substring(0,k.splitFontString(J).size.length-2)):0;if(a.label&&(!ea||0==(b-(1+ea))%(1+ea))||a.label&&this.opt.tickNoAuto){var i=I.maxLabelCharCount?this.getTextWithLimitCharCount(a.label,J,I.maxLabelCharCount):{text:a.label,truncated:!1},i=I.maxLabelSize?this.getTextWithLimitLength(i.text,J,I.maxLabelSize,i.truncated):i,r=f+V+m+(E?0:e);if(!fa||
0>fa-r||!this.opt.tickNoAuto)this.createLine(aa,{x1:f,y1:c,x2:f+V,y2:c+X}).setStroke(S),d=this.createText(U,aa,r,c+X+o+(E?0:g)-p/2,F,i.text,J,Y),fa=r+d.getTextWidth();ia++;this.chart.truncateBidi&&i.truncated&&this.chart.truncateBidi(d,a.label,U);i.truncated&&this.labelTooltip(d,this.chart,a.label,i.text,J,U);"html"==U?this.htmlElements.push(d):E&&d.setTransform([{dx:e,dy:g},k.matrix.rotategAt(E,f+V+m,c+X+o)])}},this);V=p*T.length;X=i*T.length;ha=G.minMinorStep<=G.minor.tick*G.bounds.scale;h.forEach(R.minor,
function(a){var b=da(a.value),c=y+l*b,d=Q+q*b;this.createLine(aa,{x1:c,y1:d,x2:c+V,y2:d+X}).setStroke(T);if(ha&&a.label){var f=I.maxLabelCharCount?this.getTextWithLimitCharCount(a.label,J,I.maxLabelCharCount):{text:a.label,truncated:!1},f=I.maxLabelSize?this.getTextWithLimitLength(f.text,J,I.maxLabelSize,f.truncated):f,b=this.createText(U,aa,c+V+m+(E?0:e),d+X+o+(E?0:g),F,f.text,J,Y);this.chart.getTextDir&&f.truncated&&this.chart.truncateBidi(b,a.label,U);f.truncated&&this.labelTooltip(b,this.chart,
a.label,f.text,J,U);"html"==U?this.htmlElements.push(b):E&&b.setTransform([{dx:e,dy:g},k.matrix.rotategAt(E,c+V+m,d+X+o)])}},this);V=p*Z.length;X=i*Z.length;h.forEach(R.micro,function(a){var b=da(a.value),a=y+l*b,b=Q+q*b;this.createLine(aa,{x1:a,y1:b,x2:a+V,y2:b+X}).setStroke(Z)},this);this.dirty=!1;return this},labelTooltip:function(a,b,c,d,f,m){var o=["dijit/Tooltip"],p={type:"rect"},i=["above","below"],d=k._base._getTextBox(d,{font:f}).w||0,f=f?k.normalizedLength(k.splitFontString(f).size):0;"html"==
m?(l.mixin(p,e.position(a.firstChild,!0)),p.width=Math.ceil(d),p.height=Math.ceil(f),this._events.push({shape:dojo,handle:g.connect(a.firstChild,"onmouseover",this,function(){require(o,function(a){a.show(c,p,i)})})}),this._events.push({shape:dojo,handle:g.connect(a.firstChild,"onmouseout",this,function(){require(o,function(a){a.hide(p)})})})):(m=a.getShape(),b=b.getCoords(),p=l.mixin(p,{x:m.x-d/2,y:m.y}),p.x+=b.x,p.y+=b.y,p.x=Math.round(p.x),p.y=Math.round(p.y),p.width=Math.ceil(d),p.height=Math.ceil(f),
this._events.push({shape:a,handle:a.connect("onmouseenter",this,function(){require(o,function(a){a.show(c,p,i)})})}),this._events.push({shape:a,handle:a.connect("onmouseleave",this,function(){require(o,function(a){a.hide(p)})})}))}})})},"dojox/charting/axis2d/Invisible":function(){define("dojo/_base/lang,dojo/_base/declare,./Base,../scaler/linear,dojox/gfx,dojox/lang/utils".split(","),function(l,h,f,i,g,e){return h("dojox.charting.axis2d.Invisible",f,{defaultParams:{vertical:!1,fixUpper:"none",fixLower:"none",
natural:!1,leftBottom:!0,includeZero:!1,fixed:!0},optionalParams:{min:0,max:1,from:0,to:1,majorTickStep:4,minorTickStep:2,microTickStep:1},constructor:function(d,c){this.opt=l.clone(this.defaultParams);e.updateWithObject(this.opt,c);e.updateWithPattern(this.opt,c,this.optionalParams)},dependOnData:function(){return!("min"in this.opt)||!("max"in this.opt)},clear:function(){delete this.scaler;delete this.ticks;this.dirty=!0;return this},initialized:function(){return"scaler"in this&&!(this.dirty&&this.dependOnData())},
setWindow:function(d,c){this.scale=d;this.offset=c;return this.clear()},getWindowScale:function(){return"scale"in this?this.scale:1},getWindowOffset:function(){return"offset"in this?this.offset:0},calculate:function(d,c,b){if(this.initialized())return this;var a=this.opt;this.labels=a.labels;this.scaler=i.buildScaler(d,c,b,a);var e=this.scaler.bounds;if("scale"in this){a.from=e.lower+this.offset;a.to=(e.upper-e.lower)/this.scale+a.from;if(!isFinite(a.from)||isNaN(a.from)||!isFinite(a.to)||isNaN(a.to)||
a.to-a.from>=e.upper-e.lower)delete a.from,delete a.to,delete this.scale,delete this.offset;else{if(a.from<e.lower)a.to+=e.lower-a.from,a.from=e.lower;else if(a.to>e.upper)a.from+=e.upper-a.to,a.to=e.upper;this.offset=a.from-e.lower}this.scaler=i.buildScaler(d,c,b,a);1==this.scale&&0==this.offset&&(delete this.scale,delete this.offset)}return this},getScaler:function(){return this.scaler},getTicks:function(){return this.ticks}})})},"dojox/charting/axis2d/Base":function(){define(["dojo/_base/declare",
"../Element"],function(l,h){return l("dojox.charting.axis2d.Base",h,{constructor:function(f,i){this.vertical=i&&i.vertical;this.opt={};this.opt.min=i&&i.min;this.opt.max=i&&i.max},clear:function(){return this},initialized:function(){return!1},calculate:function(){return this},getScaler:function(){return null},getTicks:function(){return null},getOffsets:function(){return{l:0,r:0,t:0,b:0}},render:function(){this.dirty=!1;return this}})})},"dojox/charting/scaler/linear":function(){define(["dojo/_base/lang",
"./common"],function(l,h){function f(d,c){for(var d=d.toLowerCase(),b=c.length-1;0<=b;--b)if(d===c[b])return!0;return!1}var i=l.getObject("dojox.charting.scaler.linear",!0),g=h.getNumericLabel,e=function(d,c,b,a,e,g,o){b=l.delegate(b);if(!a){if("major"==b.fixUpper)b.fixUpper="minor";if("major"==b.fixLower)b.fixLower="minor"}if(!e){if("minor"==b.fixUpper)b.fixUpper="micro";if("minor"==b.fixLower)b.fixLower="micro"}if(!g){if("micro"==b.fixUpper)b.fixUpper="none";if("micro"==b.fixLower)b.fixLower="none"}var p=
f(b.fixLower,["major"])?Math.floor(b.min/a)*a:f(b.fixLower,["minor"])?Math.floor(b.min/e)*e:f(b.fixLower,["micro"])?Math.floor(b.min/g)*g:b.min,h=f(b.fixUpper,["major"])?Math.ceil(b.max/a)*a:f(b.fixUpper,["minor"])?Math.ceil(b.max/e)*e:f(b.fixUpper,["micro"])?Math.ceil(b.max/g)*g:b.max;b.useMin&&(d=p);b.useMax&&(c=h);var t=!a||b.useMin&&f(b.fixLower,["major"])?d:b.labelStart?b.labelStart:Math.ceil(d/a)*a,s=!e||b.useMin&&f(b.fixLower,["major","minor"])?d:Math.ceil(d/e)*e,B=!g||b.useMin&&f(b.fixLower,
["major","minor","micro"])?d:Math.ceil(d/g)*g,x=!a?0:(b.useMax&&f(b.fixUpper,["major"])?Math.round((c-t)/a):Math.floor((c-t)/a))+1,u=!e?0:(b.useMax&&f(b.fixUpper,["major","minor"])?Math.round((c-s)/e):Math.floor((c-s)/e))+1,b=!g?0:(b.useMax&&f(b.fixUpper,["major","minor","micro"])?Math.round((c-B)/g):Math.floor((c-B)/g))+1,r=e?Math.round(a/e):0,D=g?Math.round(e/g):0,C=a?Math.floor(Math.log(a)/Math.LN10):0,q=e?Math.floor(Math.log(e)/Math.LN10):0,z=o/(c-d);isFinite(z)||(z=1);return{bounds:{lower:p,
upper:h,from:d,to:c,scale:z,span:o},major:{tick:a,start:t,count:x,prec:C},minor:{tick:e,start:s,count:u,prec:q},micro:{tick:g,start:B,count:b,prec:0},minorPerMajor:r,microPerMinor:D,scaler:i}};return l.mixin(i,{buildScaler:function(d,c,b,a,f,g){var o={fixUpper:"none",fixLower:"none",natural:!1};if(a){if("fixUpper"in a)o.fixUpper=""+a.fixUpper;if("fixLower"in a)o.fixLower=""+a.fixLower;if("natural"in a)o.natural=Boolean(a.natural)}g=!g||3>g?3:g;a.vertical&&(d=0>d?1.01*d:d/1.01);a.vertical&&(c=0>c?
c/1.01:1.01*c);if("min"in a)d=a.min;if("max"in a)c=a.max;a.includeZero&&(0<d&&(d=0),0>c&&(c=0));o.min=d;o.useMin=!0;o.max=c;o.useMax=!0;o.labelStart=a.labelStart;if("from"in a)d=a.from,o.useMin=!1;if("to"in a)c=a.to,o.useMax=!1;if(c<=d)return e(d,c,o,0,0,0,b);f||(f=c-d);var f=Math.floor(Math.log(f)/Math.LN10),f=a&&"majorTickStep"in a?a.majorTickStep:Math.pow(10,f),p=0,i=0,h;if(a&&"minorTickStep"in a)p=a.minorTickStep;else{do{p=f/10;if(!o.natural||0.9<p)if(h=e(d,c,o,f,p,0,b),h.bounds.scale*h.minor.tick>
g)break;p=f/5;if(!o.natural||0.9<p)if(h=e(d,c,o,f,p,0,b),h.bounds.scale*h.minor.tick>g)break;p=f/2;if(!o.natural||0.9<p)if(h=e(d,c,o,f,p,0,b),h.bounds.scale*h.minor.tick>g)break;return e(d,c,o,f,0,0,b)}while(0)}if(a&&"microTickStep"in a)i=a.microTickStep,h=e(d,c,o,f,p,i,b);else{do{i=p/10;if(!o.natural||0.9<i)if(h=e(d,c,o,f,p,i,b),3<h.bounds.scale*h.micro.tick)break;i=p/5;if(!o.natural||0.9<i)if(h=e(d,c,o,f,p,i,b),3<h.bounds.scale*h.micro.tick)break;i=p/2;if(!o.natural||0.9<i)if(h=e(d,c,o,f,p,i,b),
3<h.bounds.scale*h.micro.tick)break;i=0}while(0)}return i?h:e(d,c,o,f,p,0,b)},buildTicks:function(d,c){var b,a,e,f=d.major.start,o=d.minor.start,p=d.micro.start;if(c.microTicks&&d.micro.tick)b=d.micro.tick,a=p;else if(c.minorTicks&&d.minor.tick)b=d.minor.tick,a=o;else if(d.major.tick)b=d.major.tick,a=f;else return null;var i=1/d.bounds.scale;if(d.bounds.to<=d.bounds.from||isNaN(i)||!isFinite(i)||0>=b||isNaN(b)||!isFinite(b))return null;for(var h=[],s=[],l=[];a<=d.bounds.to+i;){if(Math.abs(f-a)<b/
2){e={value:f};if(c.majorLabels)e.label=g(f,d.major.prec,c);h.push(e);f+=d.major.tick;o+=d.minor.tick}else if(Math.abs(o-a)<b/2){if(c.minorTicks){e={value:o};if(c.minorLabels&&d.minMinorStep<=d.minor.tick*d.bounds.scale)e.label=g(o,d.minor.prec,c);s.push(e)}o+=d.minor.tick}else c.microTicks&&l.push({value:p});p+=d.micro.tick;a+=b}return{major:h,minor:s,micro:l}},getTransformerFromModel:function(d){var c=d.bounds.from,b=d.bounds.scale;return function(a){return(a-c)*b}},getTransformerFromPlot:function(d){var c=
d.bounds.from,b=d.bounds.scale;return function(a){return a/b+c}}})})},"dojox/charting/scaler/common":function(){define(["dojo/_base/lang"],function(l){var h=function(f,e){return Math.abs(f-e)<=1.0E-6*(Math.abs(f)+Math.abs(e))},f=l.getObject("dojox.charting.scaler.common",!0),i={};return l.mixin(f,{doIfLoaded:function(f,e,d){if(void 0==i[f])try{i[f]=require(f)}catch(c){i[f]=null}return i[f]?e(i[f]):d()},getNumericLabel:function(g,e,d){var c="";f.doIfLoaded("dojo/number",function(a){c=(d.fixed?a.format(g,
{places:0>e?-e:0}):a.format(g))||""},function(){c=d.fixed?g.toFixed(0>e?-e:0):g.toString()});if(d.labelFunc){var b=d.labelFunc(c,g,e);if(b)return b}if(d.labels){for(var b=d.labels,a=0,k=b.length;a<k;){var m=Math.floor((a+k)/2);b[m].value<g?a=m+1:k=m}if(a<b.length&&h(b[a].value,g))return b[a].text;--a;if(0<=a&&a<b.length&&h(b[a].value,g))return b[a].text;a+=2;if(a<b.length&&h(b[a].value,g))return b[a].text}return c}})})},"dojox/charting/plot2d/Default":function(){define("dojo/_base/lang,dojo/_base/declare,dojo/_base/array,./CartesianBase,./_PlotEvents,./common,dojox/lang/functional,dojox/lang/functional/reversed,dojox/lang/utils,dojox/gfx/fx,dojox/charting/Theme".split(","),
function(l,h,f,i,g,e,d,c,b,a,k){var m=c.lambda("item.purgeGroup()");return h("dojox.charting.plot2d.Default",[i,g],{defaultParams:{hAxis:"x",vAxis:"y",lines:!0,areas:!1,markers:!1,tension:"",animate:!1,alternate:!1,interpolate:!1,alternatevalue:0,enableCache:!1,maxAndMin:!1,drawData:!1,position:"bottom",globalAlpha:1,alternateAreas:!1},optionalParams:{stroke:{},outline:{},shadow:{},fill:{},styleFunc:null,font:"",fontColor:"",marker:"",markerStroke:{},markerOutline:{},markerShadow:{},markerFill:{},
markerFont:"",markerFontColor:""},constructor:function(a,c){this.opt=l.clone(this.defaultParams);b.updateWithObject(this.opt,c);b.updateWithPattern(this.opt,c,this.optionalParams);this.series=[];this.hAxis=this.opt.hAxis;this.vAxis=this.opt.vAxis;this.animate=this.opt.animate},createPath:function(a,b,c){var d;this.opt.enableCache&&0<a._pathFreePool.length?(d=a._pathFreePool.pop(),d.setShape(c),b.add(d)):d=b.createPath(c);this.opt.enableCache&&a._pathUsePool.push(d);return d},buildSegments:function(a,
b){for(var c=this.series[a],d=b?Math.max(0,Math.floor(this._hScaler.bounds.from-1)):0,e=b?Math.min(c.data.length,Math.ceil(this._hScaler.bounds.to)):c.data.length,f=null,k=[],g=!0;d<e;d++)if(null!=c.data[d]&&(b||null!=c.data[d].y))if(this.opt.alternateAreas){f||(f=[],k.push({index:d,rseg:f}));var m=b&&c.data[d].hasOwnProperty("y")?c.data[d].y:c.data[d];m>=this.opt.alternatevalue?(0==d||!0==g||0==f.length||(f=[],k.push({index:d,rseg:f})),f.push(m),g=!0):(0==d||!0!=g||0==f.length||(f=[],k.push({index:d,
rseg:f})),f.push(m),g=!1)}else f||(f=[],k.push({index:d,rseg:f})),f.push(b&&c.data[d].hasOwnProperty("y")?c.data[d].y:c.data[d]);else if(!this.opt.interpolate||b)f=null;return k},render:function(a,b){if(this.zoom&&!this.isDataDirty())return this.performZoom(a,b);this.resetEvents();this.dirty=this.isDirty();var c;if(this.dirty)f.forEach(this.series,m),this._eventSeries={},this.cleanGroup(),this.group.setTransform(null),c=this.group,d.forEachRev(this.series,function(a){a.cleanGroup(c)});for(var g=this.chart.theme,
i,h,x=this.events(),u=this.series.length-1;0<=u;--u){var r=this.series[u],D=this.chart.position.eachAreaHeight*this.chart.position.areaIndexT[r.kwArgs.position];if(!this.dirty&&!r.dirty)g.skip(),this._reconnectEvents(r.name);else{r.cleanGroup();if(this.opt.enableCache)r._pathFreePool=(r._pathFreePool?r._pathFreePool:[]).concat(r._pathUsePool?r._pathUsePool:[]),r._pathUsePool=[];if(r.data.length){if(this.chart.seriesNum<=this.chart.series.length&&!this.chart.colorTag[r.name]&&0!=this.chart.colorTag[r.name])this.chart.colorTag[r.name]=
this.chart.seriesNum,this.chart.seriesNum+=1;var C=g.next(this.opt.areas?"area":"line",[this.opt,r],!0,this.chart.colorTag[r.name]),q,z=this._hScaler.scaler.getTransformerFromModel(this._hScaler),K=this._vScaler.scaler.getTransformerFromModel(this._vScaler),L=null,H=this._eventSeries[r.name]=Array(r.data.length);c=r.group;for(var Q=f.some(r.data,function(a){return"number"==typeof a||a&&!a.hasOwnProperty("x")}),y=this.buildSegments(u,Q,this.alternateAreas),I=0;I<y.length;I++){var G=y[I],E,M;q=Q?f.map(G.rseg,
function(c,d){0==d?M=E=c:(E=Math.max(E,c),M=Math.min(M,c));return{x:z(d+G.index+1)+b.l,y:a.height-b.b-K(c)-D,data:c}},this):f.map(G.rseg,function(c){0==u?M=E=c:(E=Math.max(E,c),M=Math.min(M,c));return{x:z(c.x)+b.l,y:a.height-b.b-K(c.y)-D,data:c}},this);this.opt.alternate&&(L=a.height-b.b-D-K(this.opt.alternatevalue));if(Q&&this.opt.interpolate)for(;I<y.length;)if(I++,G=y[I])q=q.concat(f.map(G.rseg,function(c,d){0==d?M=E=c:(E=Math.max(E,c),M=Math.min(M,c));return{x:z(d+G.index+1)+b.l,y:a.height-b.b-
K(c)-D,data:c}},this)),this.opt.alternate&&(L=a.height-b.b-D-K(this.opt.alternatevalue));var O=this.opt.tension?e.curve(q,this.opt.tension):"";if(this.opt.areas&&(1<q.length||this.opt.alternateAreas&&0<q.length)){var F=this._plotFill(C.series.fill,a,b),J=l.clone(q),P={type:"linear",space:"plot",x1:0,y1:0,x2:0,y2:100};if(1!=this.opt.globalAlpha)var Y=k.generateGradient,F=this._plotFill(Y(P,F[0],F[1]),a,b);if(this.opt.tension)J=c.createPath(O+" "+("L"+J[J.length-1].x+","+(a.height-b.b)+" L"+J[0].x+
","+(a.height-b.b)+" L"+J[0].x+","+J[0].y)),J.setGlobalAlpha(this.opt.globalAlpha),r.dyn.fill=J.setFill(F).getFill();else{P=F;if(this.opt.alternateAreas){var P=y[I-1],Y=y[I+1],$=q[0].x,R=q[q.length-1].x;P&&P.index+P.rseg.length==G.index&&($-=this._hScaler.bounds.scale/(1+Math.abs(P.rseg[P.rseg.length-1]/G.rseg[0])));Y&&Y.index-G.rseg.length==G.index&&(R+=this._hScaler.bounds.scale/(1+Math.abs(Y.rseg[0]/G.rseg[G.rseg.length-1])));J.push({x:R,y:L});J.push({x:$,y:L});P=q[0].y>L?F[1]:F[0]}else J.push({x:q[q.length-
1].x,y:a.height-b.b}),J.push({x:q[0].x,y:a.height-b.b});J.push(q[0]);J=c.createPolyline(J);J.setGlobalAlpha(this.opt.globalAlpha);r.dyn.fill=J.setFill(P).getFill()}}if(this.opt.dashedLine)if(i=C.series.stroke,1==q.length)r.dyn.stroke=c.createDashedLine({x1:b.l,y1:q[0].y,x2:a.width-b.r,y2:q[0].y}).setStroke(i).getStroke();else for(F=0;F<q.length-1;F++)r.dyn.stroke=c.createDashedLine({x1:q[F].x,y1:q[F].y,x2:q[F+1].x,y2:q[F+1].y}).setStroke(i).getStroke();if(this.opt.lines||this.opt.markers)if(i=C.series.stroke,
C.series.outline)h=r.dyn.outline=e.makeStroke(C.series.outline),h.width=2*h.width+i.width;if(this.opt.markers)r.dyn.marker=C.symbol;var S=null,T=null,Z=null;if(i&&C.series.shadow&&1<q.length){var W=C.series.shadow,F=f.map(q,function(a){return{x:a.x+W.dx,y:a.y+W.dy}});if(this.opt.lines)r.dyn.shadow=this.opt.tension?c.createPath(e.curve(F,this.opt.tension)).setStroke(W).getStroke():c.createPolyline(F).setStroke(W).getStroke();if(this.opt.markers&&C.marker.shadow)W=C.marker.shadow,Z=f.map(F,function(a){return this.createPath(r,
c,"M"+a.x+" "+a.y+" "+C.symbol).setStroke(W).setFill(W.color)},this)}if(this.opt.lines&&(1<q.length||this.opt.alternateAreas&&0<q.length)){if(h)r.dyn.outline=this.opt.tension?c.createPath(O).setStroke(i).getStroke():c.createPolyline(q).setStroke(i).getStroke();this.opt.tension?r.dyn.stroke=c.createPath(O).setStroke(i).getStroke():this.opt.alternate?(O=l.clone(q),this.opt.alternateAreas&&(0!=I&&O.unshift({x:$,y:L}),I!=y.length-1&&O.push({x:R,y:L})),O=c.createAlternatePolyline(O),O.alternateY=L,r.dyn.stroke=
O.setStroke(i).getStroke()):r.dyn.stroke=c.createPolyline(q).setStroke(i).getStroke();x&&!this.opt.markers?f.forEach(q,function(a,b){var d={element:"marker",index:b+G.index,run:r,shape:this.createPath(r,c,"M"+a.x+" "+a.y+" "+C.symbol),outline:null,shadow:null,cx:a.x,cy:a.y};Q?(d.x=b+G.index+1,d.y=G.rseg[b]):(d.x=G.rseg[b].x,d.y=G.rseg[b].y);this._connectEvents(d);H[b+G.index]=d},this):delete this._eventSeries[r.name]}if(this.opt.markers){var N=C,S=Array(q.length),T=Array(q.length);h=null;if(N.marker.outline)h=
e.makeStroke(N.marker.outline),h.width=2*h.width+(N.marker.stroke?N.marker.stroke.width:0);f.forEach(q,function(a,b){if(this.opt.styleFunc||"number"!=typeof a.data){var d="number"!=typeof a.data?[a.data]:[];this.opt.styleFunc&&d.push(this.opt.styleFunc(a.data));N=g.addMixin(C,"marker",d,!0)}else N=g.post(C,"marker");d="M"+a.x+" "+a.y+" "+N.symbol;h&&(T[b]=this.createPath(r,c,d).setStroke(h));if(L){var e={};e.color=q[b].y<L?C.marker.stroke.color[0]:C.marker.stroke.color[1];e.width=N.marker.stroke.width;
var f=e.color;S[b]=this.createPath(r,c,d).setStroke(e).setFill(f)}else S[b]=this.createPath(r,c,d).setStroke(N.marker.stroke).setFill(N.marker.fill)},this);r.dyn.markerFill=N.marker.fill;r.dyn.markerStroke=N.marker.stroke;x?f.forEach(S,function(a,b){var c={element:"marker",index:b+G.index,run:r,shape:a,outline:T[b]||null,shadow:Z&&Z[b]||null,cx:q[b].x,cy:q[b].y};Q?(c.x=b+G.index+1,c.y=G.rseg[b]):(c.x=G.rseg[b].x,c.y=G.rseg[b].y);this._connectEvents(c);H[b+G.index]=c},this):delete this._eventSeries[r.name]}this._drawData(c,
q,E,M,g)}r.dirty=!1}else r.dirty=!1,g.skip()}}this.animate&&$.animateTransform(l.delegate({shape:this.group,duration:1200,transform:[{name:"translate",start:[0,a.height-b.b],end:[0,0]},{name:"scale",start:[1,0],end:[1,1]},{name:"original"}]},this.animate)).play();this.dirty=!1;return this},_drawData:function(a,b,c,d,e){for(var f=0;f<b.length;f++)if(this.opt.drawData)a.createText({x:b[f].x+5,y:b[f].y,text:b[f].data+"",align:"left"}).setFont(e.dataShowStyle.font).setFill(e.dataShowStyle.fontColor);
else if(this.opt.maxAndMin&&(b[f].data==c||b[f].data==d))a.createText({x:b[f].x,y:b[f].data==c?b[f].y+30:b[f].y-30,text:b[f].data+"",align:"middle"}).setFont(e.dataShowStyle.font).setFill(e.dataShowStyle.fontColor),a.createPolyline([{x:b[f].x,y:b[f].y},{x:b[f].x-5,y:b[f].data==c?b[f].y+5:b[f].y-5},{x:b[f].x+5,y:b[f].data==c?b[f].y+5:b[f].y-5},{x:b[f].x,y:b[f].y}]).setStroke(e.dataShowStyle.fontColor).setFill(e.dataShowStyle.fontColor),a.createLine({x1:b[f].x,y1:b[f].y,x2:b[f].x,y2:b[f].data==c?b[f].y+
17.5:b[f].y-17.5}).setStroke({color:e.dataShowStyle.fontColor,width:e.dataShowStyle.width})}})})},"dojox/charting/plot2d/CartesianBase":function(){define("dojo/_base/lang,dojo/_base/declare,dojo/_base/connect,./Base,../scaler/primitive,dojox/gfx/fx".split(","),function(l,h,f,i,g,e){return h("dojox.charting.plot2d.CartesianBase",i,{constructor:function(){this.axes=["hAxis","vAxis"];this.zoom=null;this.zoomQueue=[];this.lastWindow={vscale:1,hscale:1,xoffset:0,yoffset:0}},clear:function(){this.inherited(arguments);
this._vAxis=this._hAxis=null;return this},cleanGroup:function(d){this.inherited(arguments,[d||this.chart.plotGroup])},setAxis:function(d){d&&(this[d.vertical?"_vAxis":"_hAxis"]=d);return this},toPage:function(d){var c=this._hAxis,b=this._vAxis,a=c.getScaler(),e=b.getScaler(),f=a.scaler.getTransformerFromModel(a),g=e.scaler.getTransformerFromModel(e),i=this.chart.getCoords(),h=this.chart.offsets,l=this.chart.dim,a=function(a){var d={};d.x=f(a[c.name])+i.x+h.l;d.y=i.y+l.height-h.b-g(a[b.name]);return d};
return d?a(d):a},toData:function(d){var c=this._hAxis,b=this._vAxis,a=c.getScaler(),e=b.getScaler(),f=a.scaler.getTransformerFromPlot(a),g=e.scaler.getTransformerFromPlot(e),i=this.chart.getCoords(),h=this.chart.offsets,l=this.chart.dim,a=function(a){var d={};d[c.name]=f(a.x-i.x-h.l);d[b.name]=g(i.y+l.height-a.y-h.b);return d};return d?a(d):a},isDirty:function(){return this.dirty||this._hAxis&&this._hAxis.dirty||this._vAxis&&this._vAxis.dirty},performZoom:function(d,c){var b=this._vAxis.scale||1,
a=this._hAxis.scale||1,g=this._hScaler.bounds,g=(g.from-g.lower)*g.scale,m=this._vScaler.bounds,m=(m.from-m.lower)*m.scale,o=b/this.lastWindow.vscale,i=a/this.lastWindow.hscale,o=e.animateTransform(l.delegate({shape:this.group,duration:1200,transform:[{name:"translate",start:[0,0],end:[c.l*(1-i),(d.height-c.b)*(1-o)]},{name:"scale",start:[1,1],end:[i,o]},{name:"original"},{name:"translate",start:[0,0],end:[(this.lastWindow.xoffset-g)/(1==this.lastWindow.hscale?a:this.lastWindow.hscale),(m-this.lastWindow.yoffset)/
(1==this.lastWindow.vscale?b:this.lastWindow.vscale)]}]},this.zoom));l.mixin(this.lastWindow,{vscale:b,hscale:a,xoffset:g,yoffset:m});this.zoomQueue.push(o);f.connect(o,"onEnd",this,function(){this.zoom=null;this.zoomQueue.shift();0<this.zoomQueue.length&&this.zoomQueue[0].play()});1==this.zoomQueue.length&&this.zoomQueue[0].play();return this},initializeScalers:function(d,c){this._hAxis?(this._hAxis.initialized()||this._hAxis.calculate(c.hmin,c.hmax,d.width),this._hScaler=this._hAxis.getScaler()):
this._hScaler=g.buildScaler(c.hmin,c.hmax,d.width);this._vAxis?(this._vAxis.initialized()||this._vAxis.calculate(c.vmin,c.vmax,d.height/this.chart.position.plotAreaNum-this.chart.position.margin*(this.chart.position.plotAreaNum-1)),this._vScaler=this._vAxis.getScaler()):this._vScaler=g.buildScaler(c.vmin,c.vmax,d.height);return this}})})},"dojox/charting/plot2d/Base":function(){define(["dojo/_base/declare","../Element","dojo/_base/array","./common"],function(l,h,f,i){return l("dojox.charting.plot2d.Base",
h,{constructor:function(){},clear:function(){this.series=[];this.dirty=!0;return this},setAxis:function(){return this},assignAxes:function(g){f.forEach(this.axes,function(e){this[e]&&this.setAxis(g[this[e]])},this)},addSeries:function(f){this.series.push(f);return this},getSeriesStats:function(){return i.collectSimpleStats(this.series)},calculateAxes:function(f){this.initializeScalers(f,this.getSeriesStats());return this},initializeScalers:function(){return this},isDataDirty:function(){return f.some(this.series,
function(f){return f.dirty})},render:function(){return this},getRequiredColors:function(){return this.series.length}})})},"dojox/charting/plot2d/common":function(){define("dojo/_base/lang,dojo/_base/array,dojo/_base/Color,dojox/gfx,dojox/lang/functional,../scaler/common".split(","),function(l,h,f,i,g,e){var d=l.getObject("dojox.charting.plot2d.common",!0);return l.mixin(d,{doIfLoaded:e.doIfLoaded,makeStroke:function(c){if(!c)return c;if("string"==typeof c||c instanceof f)c={color:c};return i.makeParameters(i.defaultStroke,
c)},augmentColor:function(c,b){var a=new f(c),d=new f(b);d.a=a.a;return d},augmentStroke:function(c,b){var a=d.makeStroke(c);if(a)a.color=d.augmentColor(a.color,b);return a},augmentFill:function(c,b){new f(b);return"string"==typeof c||c instanceof f?d.augmentColor(c,b):c},defaultStats:{vmin:Number.POSITIVE_INFINITY,vmax:Number.NEGATIVE_INFINITY,hmin:Number.POSITIVE_INFINITY,hmax:Number.NEGATIVE_INFINITY},collectSimpleStats:function(c){for(var b=l.delegate(d.defaultStats),a=0;a<c.length;++a)for(var e=
c[a],f=0;f<e.data.length;f++)if(null!==e.data[f]){if("number"==typeof e.data[f]){var f=b.vmin,g=b.vmax;(!("ymin"in e)||!("ymax"in e))&&h.forEach(e.data,function(a,c){if(null!==a){var d=c+1,e=a;isNaN(e)&&(e=0);b.hmin=Math.min(b.hmin,d);b.hmax=Math.max(b.hmax,d);b.vmin=Math.min(b.vmin,e);b.vmax=Math.max(b.vmax,e)}})}else{var i=b.hmin,A=b.hmax,f=b.vmin,g=b.vmax;(!("xmin"in e)||!("xmax"in e)||!("ymin"in e)||!("ymax"in e))&&h.forEach(e.data,function(a,c){if(null!==a){var d="x"in a?a.x:c+1,e=a.y;isNaN(d)&&
(d=0);isNaN(e)&&(e=0);b.hmin=Math.min(b.hmin,d);b.hmax=Math.max(b.hmax,d);b.vmin=Math.min(b.vmin,e);b.vmax=Math.max(b.vmax,e)}});if("xmin"in e)b.hmin=Math.min(i,e.xmin);if("xmax"in e)b.hmax=Math.max(A,e.xmax)}if("ymin"in e)b.vmin=Math.min(f,e.ymin);if("ymax"in e)b.vmax=Math.max(g,e.ymax);break}return b},calculateBarSize:function(c,b,a){a||(a=1);var d=b.gap,d=(c-2*d)/a;"minBarSize"in b&&(d=Math.max(d,b.minBarSize));"maxBarSize"in b&&(d=Math.min(d,b.maxBarSize));d=Math.max(d,1);return{size:d,gap:(c-
d*a)/2}},collectStackedStats:function(c){var b=l.clone(d.defaultStats);if(c.length){b.hmin=Math.min(b.hmin,1);b.hmax=g.foldl(c,"seed, run -> Math.max(seed, run.data.length)",b.hmax);for(var a=0;a<b.hmax;++a){var e=c[0].data[a],e=e&&("number"==typeof e?e:e.y);isNaN(e)&&(e=0);b.vmin=Math.min(b.vmin,e);for(var f=1;f<c.length;++f){var o=c[f].data[a],o=o&&("number"==typeof o?o:o.y);isNaN(o)&&(o=0);e+=o}b.vmax=Math.max(b.vmax,e)}}return b},curve:function(c,b){var a=c.slice(0);"x"==b&&(a[a.length]=a[0]);
return h.map(a,function(c,d){if(0==d)return"M"+c.x+","+c.y;if(isNaN(b)){if("X"==b||"x"==b||"S"==b){var e,f=a[d-1],g=a[d],i,h,l,x=1/6;1==d?(e="x"==b?a[a.length-2]:f,x=1/3):e=a[d-2];d==a.length-1?(i="x"==b?a[1]:g,x=1/3):i=a[d+1];h=Math.sqrt((g.x-f.x)*(g.x-f.x)+(g.y-f.y)*(g.y-f.y));l=Math.sqrt((g.x-e.x)*(g.x-e.x)+(g.y-e.y)*(g.y-e.y));var u=Math.sqrt((i.x-f.x)*(i.x-f.x)+(i.y-f.y)*(i.y-f.y)),r=l*x,x=u*x;r>h/2&&x>h/2?(r=h/2,x=h/2):r>h/2?(r=h/2,x=h/2*u/l):x>h/2&&(x=h/2,r=h/2*l/u);"S"==b&&(e==f&&(r=0),g==
i&&(x=0));h=f.x+r*(g.x-e.x)/l;e=f.y+r*(g.y-e.y)/l;l=g.x-x*(i.x-f.x)/u;f=g.y-x*(i.y-f.y)/u}}else return g=c.x-a[d-1].x,"C"+(c.x-(b-1)*(g/b))+","+a[d-1].y+" "+(c.x-g/b)+","+c.y+" "+c.x+","+c.y;return"C"+(h+","+e+" "+l+","+f+" "+g.x+","+g.y)}).join(" ")},getLabel:function(c,b,a){return e.doIfLoaded("dojo/number",function(d){return(b?d.format(c,{places:a}):d.format(c))||""},function(){return b?c.toFixed(a):c.toString()})}})})},"dojox/charting/scaler/primitive":function(){define(["dojo/_base/lang"],function(l){var h=
l.getObject("dojox.charting.scaler.primitive",!0);return l.mixin(h,{buildScaler:function(f,i,g){f==i&&(f-=0.5,i+=0.5);return{bounds:{lower:f,upper:i,from:f,to:i,scale:g/(i-f),span:g},scaler:h}},buildTicks:function(){return{major:[],minor:[],micro:[]}},getTransformerFromModel:function(f){var i=f.bounds.from,g=f.bounds.scale;return function(e){return(e-i)*g}},getTransformerFromPlot:function(f){var i=f.bounds.from,g=f.bounds.scale;return function(e){return e/g+i}}})})},"dojox/gfx/fx":function(){define("dojo/_base/lang,./_base,./matrix,dojo/_base/Color,dojo/_base/array,dojo/_base/fx,dojo/_base/connect".split(","),
function(l,h,f,i,g,e,d){function c(a,b){this.start=a;this.end=b}function b(a,b,c){this.start=a;this.end=b;this.units=c}function a(a,b){this.start=a;this.end=b;this.temp=new i}function k(a){this.values=a;this.length=a.length}function m(a,b){this.values=a;this.def=b?b:{}}function o(a,b){this.stack=a;this.original=b}function p(b,c,d,e){if(b.values)return new k(b.values);var f,g;g=b.start?h.normalizeColor(b.start):f=c?d?c[d]:c:e;b.end?b=h.normalizeColor(b.end):(f||(f=c?d?c[d]:c:e),b=f);return new a(g,
b)}var A=h.fx={};c.prototype.getValue=function(a){return(this.end-this.start)*a+this.start};b.prototype.getValue=function(a){return(this.end-this.start)*a+this.start+this.units};a.prototype.getValue=function(a){return i.blendColors(this.start,this.end,a,this.temp)};k.prototype.getValue=function(a){return this.values[Math.min(Math.floor(a*this.length),this.length-1)]};m.prototype.getValue=function(a){var b=l.clone(this.def),c;for(c in this.values)b[c]=this.values[c].getValue(a);return b};o.prototype.getValue=
function(a){var b=[];g.forEach(this.stack,function(c){if(c instanceof f.Matrix2D)b.push(c);else if("original"==c.name&&this.original)b.push(this.original);else if("matrix"==c.name){if(c.start instanceof f.Matrix2D&&c.end instanceof f.Matrix2D){var d=new f.Matrix2D,e;for(e in c.start)d[e]=(c.end[e]-c.start[e])*a+c.start[e];b.push(d)}}else c.name in f&&(d=f[c.name],"function"!=typeof d?b.push(d):(e=g.map(c.start,function(b,d){return(c.end[d]-b)*a+b}),d=d.apply(f,e),d instanceof f.Matrix2D&&b.push(d)))},
this);return b};var t=new i(0,0,0,0);A.animateStroke=function(a){if(!a.easing)a.easing=e._defaultEasing;var b=new e.Animation(a),f=a.shape,g;d.connect(b,"beforeBegin",b,function(){g=f.getStroke();var b=a.color,d={},e;if(b)d.color=p(b,g,"color",t);if((b=a.style)&&b.values)d.style=new k(b.values);if(b=a.width){var o=b;o.values?e=new k(o.values):(b=o.start?o.start:e=g?g.width:1,o.end?e=o.end:"number"!=typeof e&&(e=g?g.width:1),e=new c(b,e));d.width=e}if((b=a.cap)&&b.values)d.cap=new k(b.values);if(b=
a.join)if(b.values)d.join=new k(b.values);else if(e=b.start?b.start:g&&g.join||0,b=b.end?b.end:g&&g.join||0,"number"==typeof e&&"number"==typeof b)d.join=new c(e,b);this.curve=new m(d,g)});d.connect(b,"onAnimate",f,"setStroke");return b};A.animateFill=function(a){if(!a.easing)a.easing=e._defaultEasing;var b=new e.Animation(a),c=a.shape,f;d.connect(b,"beforeBegin",b,function(){f=c.getFill();var b=a.color;if(b)this.curve=p(b,f,"",t)});d.connect(b,"onAnimate",c,"setFill");return b};A.animateFont=function(a){if(!a.easing)a.easing=
e._defaultEasing;var c=new e.Animation(a),f=a.shape,g;d.connect(c,"beforeBegin",c,function(){g=f.getFont();var c=a.style,d={},e,o;if(c&&c.values)d.style=new k(c.values);if((c=a.variant)&&c.values)d.variant=new k(c.values);if((c=a.weight)&&c.values)d.weight=new k(c.values);if((c=a.family)&&c.values)d.family=new k(c.values);if((c=a.size)&&c.units)e=parseFloat(c.start?c.start:f.font&&f.font.size||"0"),o=parseFloat(c.end?c.end:f.font&&f.font.size||"0"),d.size=new b(e,o,c.units);this.curve=new m(d,g)});
d.connect(c,"onAnimate",f,"setFont");return c};A.animateTransform=function(a){if(!a.easing)a.easing=e._defaultEasing;var b=new e.Animation(a),c=a.shape,f;d.connect(b,"beforeBegin",b,function(){f=c.getTransform();this.curve=new o(a.transform,f)});d.connect(b,"onAnimate",c,"setTransform");return b};return A})},"dojox/charting/plot2d/_PlotEvents":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/declare","dojo/_base/connect"],function(l,h,f,i){return f("dojox.charting.plot2d._PlotEvents",
null,{constructor:function(){this._shapeEvents=[];this._eventSeries={}},destroy:function(){this.resetEvents();this.inherited(arguments)},plotEvent:function(){},raiseEvent:function(f){this.plotEvent(f);var e=l.delegate(f);e.originalEvent=f.type;e.originalPlot=f.plot;e.type="onindirect";h.forEach(this.chart.stack,function(d){if(d!==this&&d.plotEvent)e.plot=d,d.plotEvent(e)},this)},connect:function(f,e){this.dirty=!0;return i.connect(this,"plotEvent",f,e)},events:function(){return!!this.plotEvent.after},
resetEvents:function(){if(this._shapeEvents.length)h.forEach(this._shapeEvents,function(f){f.shape.disconnect(f.handle)}),this._shapeEvents=[];this.raiseEvent({type:"onplotreset",plot:this})},_connectSingleEvent:function(f,e){this._shapeEvents.push({shape:f.eventMask,handle:f.eventMask.connect(e,this,function(d){f.type=e;f.event=d;this.raiseEvent(f);f.event=null})})},_connectEvents:function(f){if(f)f.chart=this.chart,f.plot=this,f.hAxis=this.hAxis||null,f.vAxis=this.vAxis||null,f.eventMask=f.eventMask||
f.shape,this._connectSingleEvent(f,"onmouseover"),this._connectSingleEvent(f,"onmouseout"),this._connectSingleEvent(f,"onclick")},_reconnectEvents:function(f){(f=this._eventSeries[f])&&h.forEach(f,this._connectEvents,this)},fireEvent:function(f,e,d,c){if((f=this._eventSeries[f])&&f.length&&d<f.length)d=f[d],d.type=e,d.event=c||null,this.raiseEvent(d),d.event=null}})})},"dojox/charting/Theme":function(){define("dojo/_base/lang,dojo/_base/declare,dojo/_base/Color,./SimpleTheme,dojox/color/_base,dojox/color/Palette,dojox/gfx/gradutils".split(","),
function(l,h,f,i,g,e){var d=h("dojox.charting.Theme",i,{});l.mixin(d,{defineColors:function(c){var c=c||{},b,a=[],d=c.num||5;if(c.colors){b=c.colors.length;for(var f=0;f<d;f++)a.push(c.colors[f%b]);return a}return c.hue?(a=c.saturation||100,b=((c.high||90)+(c.low||30))/2,e.generate(g.fromHsv(c.hue,a,b),"monochromatic").colors):c.generator?g.Palette.generate(c.base,c.generator).colors:a},generateGradient:function(c,b,a){c=l.delegate(c);c.colors=[{offset:0,color:b},{offset:1,color:a}];return c},generateHslColor:function(c,
b){var c=new f(c),a=c.toHsl(),a=g.fromHsl(a.h,a.s,b);a.a=c.a;return a},generateHslGradient:function(c,b,a,e){var c=new f(c),m=c.toHsl(),a=g.fromHsl(m.h,m.s,a),e=g.fromHsl(m.h,m.s,e);a.a=e.a=c.a;return d.generateGradient(b,a,e)}});d.defaultMarkers=i.defaultMarkers;d.defaultColors=i.defaultColors;d.defaultTheme=i.defaultTheme;return d})},"dojox/color/_base":function(){define(["../main","dojo/_base/lang","dojo/_base/Color","dojo/colors"],function(l,h,f,i){l=h.getObject("color",!0,l);l.Color=f;l.blend=
f.blendColors;l.fromRgb=f.fromRgb;l.fromHex=f.fromHex;l.fromArray=f.fromArray;l.fromString=f.fromString;l.greyscale=i.makeGrey;h.mixin(l,{fromCmy:function(g,e,d){if(h.isArray(g))e=g[1],d=g[2],g=g[0];else if(h.isObject(g))e=g.m,d=g.y,g=g.c;g/=100;e/=100;d/=100;e=1-e;d=1-d;return new f({r:Math.round(255*(1-g)),g:Math.round(255*e),b:Math.round(255*d)})},fromCmyk:function(g,e,d,c){if(h.isArray(g))e=g[1],d=g[2],c=g[3],g=g[0];else if(h.isObject(g))e=g.m,d=g.y,c=g.b,g=g.c;g/=100;e/=100;d/=100;c/=100;g=1-
Math.min(1,g*(1-c)+c);e=1-Math.min(1,e*(1-c)+c);d=1-Math.min(1,d*(1-c)+c);return new f({r:Math.round(255*g),g:Math.round(255*e),b:Math.round(255*d)})},fromHsl:function(g,e,d){if(h.isArray(g))e=g[1],d=g[2],g=g[0];else if(h.isObject(g))e=g.s,d=g.l,g=g.h;e/=100;for(d/=100;0>g;)g+=360;for(;360<=g;)g-=360;var c,b,a;120>g?(c=(120-g)/60,b=g/60,a=0):240>g?(c=0,b=(240-g)/60,a=(g-120)/60):(c=(g-240)/60,b=0,a=(360-g)/60);c=2*e*Math.min(c,1)+(1-e);b=2*e*Math.min(b,1)+(1-e);a=2*e*Math.min(a,1)+(1-e);0.5>d?(c*=
d,b*=d,a*=d):(c=(1-d)*c+2*d-1,b=(1-d)*b+2*d-1,a=(1-d)*a+2*d-1);return new f({r:Math.round(255*c),g:Math.round(255*b),b:Math.round(255*a)})}});l.fromHsv=function(g,e,d){if(h.isArray(g))e=g[1],d=g[2],g=g[0];else if(h.isObject(g))e=g.s,d=g.v,g=g.h;360==g&&(g=0);var e=e/100,d=d/100,c,b,a;if(0==e)c=d,a=d,b=d;else{var k=g/60,g=Math.floor(k),m=k-g,k=d*(1-e),o=d*(1-e*m),e=d*(1-e*(1-m));switch(g){case 0:c=d;b=e;a=k;break;case 1:c=o;b=d;a=k;break;case 2:c=k;b=d;a=e;break;case 3:c=k;b=o;a=d;break;case 4:c=e;
b=k;a=d;break;case 5:c=d,b=k,a=o}}return new f({r:Math.round(255*c),g:Math.round(255*b),b:Math.round(255*a)})};h.extend(f,{toCmy:function(){var f=1-this.g/255,e=1-this.b/255;return{c:Math.round(100*(1-this.r/255)),m:Math.round(100*f),y:Math.round(100*e)}},toCmyk:function(){var f,e,d,c=this.r/255;e=this.g/255;d=this.b/255;f=Math.min(1-c,1-e,1-d);e=(1-e-f)/(1-f);d=(1-d-f)/(1-f);return{c:Math.round(100*((1-c-f)/(1-f))),m:Math.round(100*e),y:Math.round(100*d),b:Math.round(100*f)}},toHsl:function(){var f=
this.r/255,e=this.g/255,d=this.b/255,c=Math.min(f,d,e),b=Math.max(f,e,d),a=b-c,k=0,m=0,c=(c+b)/2;0<c&&1>c&&(m=a/(0.5>c?2*c:2-2*c));0<a&&(b==f&&b!=e&&(k+=(e-d)/a),b==e&&b!=d&&(k+=2+(d-f)/a),b==d&&b!=f&&(k+=4+(f-e)/a),k*=60);return{h:k,s:Math.round(100*m),l:Math.round(100*c)}},toHsv:function(){var f=this.r/255,e=this.g/255,d=this.b/255,c=Math.min(f,d,e),b=Math.max(f,e,d),c=b-c,a=null,k=0==b?0:c/b;0==k?a=0:(a=f==b?60*(e-d)/c:e==b?120+60*(d-f)/c:240+60*(f-e)/c,0>a&&(a+=360));return{h:a,s:Math.round(100*
k),v:Math.round(100*b)}}});return l})},"dojox/color/Palette":function(){define(["dojo/_base/lang","dojo/_base/array","./_base"],function(l,h,f){function i(b,a,c){var d=new f.Palette;d.colors=[];h.forEach(b.colors,function(b){var e="dg"==a?b.g+c:b.g,g="db"==a?b.b+c:b.b,i="da"==a?b.a+c:b.a;d.colors.push(new f.Color({r:Math.min(255,Math.max(0,"dr"==a?b.r+c:b.r)),g:Math.min(255,Math.max(0,e)),b:Math.min(255,Math.max(0,g)),a:Math.min(1,Math.max(0,i))}))});return d}function g(b,a,c){var d=new f.Palette;
d.colors=[];h.forEach(b.colors,function(b){var b=b.toCmy(),e="dm"==a?b.m+c:b.m,g="dy"==a?b.y+c:b.y;d.colors.push(f.fromCmy(Math.min(100,Math.max(0,"dc"==a?b.c+c:b.c)),Math.min(100,Math.max(0,e)),Math.min(100,Math.max(0,g))))});return d}function e(b,a,c){var d=new f.Palette;d.colors=[];h.forEach(b.colors,function(b){var b=b.toCmyk(),e="dm"==a?b.m+c:b.m,g="dy"==a?b.y+c:b.y,i="dk"==a?b.b+c:b.b;d.colors.push(f.fromCmyk(Math.min(100,Math.max(0,"dc"==a?b.c+c:b.c)),Math.min(100,Math.max(0,e)),Math.min(100,
Math.max(0,g)),Math.min(100,Math.max(0,i))))});return d}function d(b,a,c){var d=new f.Palette;d.colors=[];h.forEach(b.colors,function(b){var b=b.toHsl(),e="dl"==a?b.l+c:b.l;d.colors.push(f.fromHsl(("dh"==a?b.h+c:b.h)%360,Math.min(100,Math.max(0,"ds"==a?b.s+c:b.s)),Math.min(100,Math.max(0,e))))});return d}function c(b,a,c){var d=new f.Palette;d.colors=[];h.forEach(b.colors,function(b){var b=b.toHsv(),e="dv"==a?b.v+c:b.v;d.colors.push(f.fromHsv(("dh"==a?b.h+c:b.h)%360,Math.min(100,Math.max(0,"ds"==
a?b.s+c:b.s)),Math.min(100,Math.max(0,e))))});return d}f.Palette=function(b){this.colors=[];if(b instanceof f.Palette)this.colors=b.colors.slice(0);else if(b instanceof f.Color)this.colors=[null,null,b,null,null];else if(l.isArray(b))this.colors=h.map(b.slice(0),function(a){return l.isString(a)?new f.Color(a):a});else if(l.isString(b))this.colors=[null,null,new f.Color(b),null,null]};l.extend(f.Palette,{transform:function(b){var a=i;if(b.use){var f=b.use.toLowerCase();0==f.indexOf("hs")?a="l"==f.charAt(2)?
d:c:0==f.indexOf("cmy")&&(a="k"==f.charAt(3)?e:g)}else if("dc"in b||"dm"in b||"dy"in b)a="dk"in b?e:g;else if("dh"in b||"ds"in b)a="dv"in b?c:d;var f=this,m;for(m in b)"use"!=m&&(f=a(f,m,b[m]));return f},clone:function(){return new f.Palette(this)}});l.mixin(f.Palette,{generators:{analogous:function(b){var a=b.high||60,c=b.low||18,b=(l.isString(b.base)?new f.Color(b.base):b.base).toHsv(),a=[(b.h+c+360)%360,(b.h+Math.round(c/2)+360)%360,b.h,(b.h-Math.round(a/2)+360)%360,(b.h-a+360)%360],c=Math.max(10,
95>=b.s?b.s+5:100-(b.s-95)),d=1<b.s?b.s-1:21-b.s,e=92<=b.v?b.v-9:Math.max(b.v+9,20),g=90>=b.v?Math.max(b.v+5,20):95+Math.ceil((b.v-90)/2),i=[c,d,b.s,c,c],t=[e,g,b.v,e,g];return new f.Palette(h.map(a,function(a,b){return f.fromHsv(a,i[b],t[b])}))},monochromatic:function(b){var b=l.isString(b.base)?new f.Color(b.base):b.base,a=b.toHsv(),c=9<a.s-30?a.s-30:a.s+30,d=a.s,e=20<a.v-20?a.v-20:a.v+60,g=20<a.v-50?a.v-50:a.v+30;return new f.Palette([f.fromHsv(a.h,c,100-0.8*(100-a.v)),f.fromHsv(a.h,d,g),b,f.fromHsv(a.h,
c,g),f.fromHsv(a.h,d,e)])},triadic:function(b){var b=l.isString(b.base)?new f.Color(b.base):b.base,a=b.toHsv(),c=(a.h-157+360)%360,d=90<a.s?a.s-10:a.s+10,e=95<a.s?a.s-5:a.s+5,g=20<a.v-20?a.v-20:a.v+20,i=20<a.v-30?a.v-30:a.v+30,h=70<a.v-30?a.v-30:a.v+30;return new f.Palette([f.fromHsv((a.h+57+360)%360,20<a.s?a.s-10:a.s+10,a.v),f.fromHsv(a.h,d,i),b,f.fromHsv(c,d,g),f.fromHsv(c,e,h)])},complementary:function(b){var b=l.isString(b.base)?new f.Color(b.base):b.base,a=b.toHsv(),c=360>2*a.h+137?2*a.h+137:
Math.floor(a.h/2)-137,d=Math.max(a.s-10,0),e=100-0.9*(100-a.s),g=Math.min(100,a.s+20),i=Math.min(100,a.v+30),h=20<a.v?a.v-30:a.v+30;return new f.Palette([f.fromHsv(a.h,d,i),f.fromHsv(a.h,e,h),b,f.fromHsv(c,g,h),f.fromHsv(c,a.s,a.v)])},splitComplementary:function(b){var a=l.isString(b.base)?new f.Color(b.base):b.base,c=b.da||30,b=a.toHsv(),d=360>2*b.h+137?2*b.h+137:Math.floor(b.h/2)-137,e=(d-c+360)%360,c=(d+c)%360,d=Math.max(b.s-10,0),g=100-0.9*(100-b.s),i=Math.min(100,b.s+20),h=Math.min(100,b.v+30),
s=20<b.v?b.v-30:b.v+30;return new f.Palette([f.fromHsv(e,d,h),f.fromHsv(e,g,s),a,f.fromHsv(c,i,s),f.fromHsv(c,b.s,b.v)])},compound:function(b){var b=l.isString(b.base)?new f.Color(b.base):b.base,a=b.toHsv(),c=360>2*a.h+18?2*a.h+18:Math.floor(a.h/2)-18,d=360>2*a.h+120?2*a.h+120:Math.floor(a.h/2)-120,e=360>2*a.h+99?2*a.h+99:Math.floor(a.h/2)-99,g=10<a.s-40?a.s-40:a.s+40,i=80<a.s-10?a.s-10:a.s+10,h=10<a.s-25?a.s-25:a.s+25,s=10<a.v-40?a.v-40:a.v+40,B=80<a.v-20?a.v-20:a.v+20,a=Math.max(a.v,20);return new f.Palette([f.fromHsv(c,
g,s),f.fromHsv(c,i,B),b,f.fromHsv(d,h,a),f.fromHsv(e,i,B)])},shades:function(b){var b=l.isString(b.base)?new f.Color(b.base):b.base,a=b.toHsv(),c=100==a.s&&0==a.v?0:a.s,d=20<a.v-50?a.v-50:a.v+30,e=20<=a.v-25?a.v-25:a.v+55,g=20<=a.v-75?a.v-75:a.v+5,i=Math.max(a.v-10,20);return new f.Palette([new f.fromHsv(a.h,c,d),new f.fromHsv(a.h,c,e),b,new f.fromHsv(a.h,c,g),new f.fromHsv(a.h,c,i)])}},generate:function(b,a){if(l.isFunction(a))return a({base:b});if(f.Palette.generators[a])return f.Palette.generators[a]({base:b});
throw Error("dojox.color.Palette.generate: the specified generator ('"+a+"') does not exist.");}});return f.Palette})},"dojox/charting/plot2d/Areas":function(){define(["dojo/_base/declare","./Default"],function(l,h){return l("dojox.charting.plot2d.Areas",h,{constructor:function(){this.opt.lines=!0;this.opt.areas=!0}})})},"dojox/charting/plot2d/Scatter":function(){define("dojo/_base/lang,dojo/_base/array,dojo/_base/declare,./CartesianBase,./_PlotEvents,./common,dojox/lang/functional,dojox/lang/functional/reversed,dojox/lang/utils,dojox/gfx/fx,dojox/gfx/gradutils".split(","),
function(l,h,f,i,g,e,d,c,b,a,k){var m=c.lambda("item.purgeGroup()");return f("dojox.charting.plot2d.Scatter",[i,g],{defaultParams:{hAxis:"x",vAxis:"y",shadows:null,animate:null},optionalParams:{markerStroke:{},markerOutline:{},markerShadow:{},markerFill:{},markerFont:"",markerFontColor:"",styleFunc:null},constructor:function(a,c){this.opt=l.clone(this.defaultParams);b.updateWithObject(this.opt,c);b.updateWithPattern(this.opt,c,this.optionalParams);this.series=[];this.hAxis=this.opt.hAxis;this.vAxis=
this.opt.vAxis;this.animate=this.opt.animate},render:function(a,b){if(this.zoom&&!this.isDataDirty())return this.performZoom(a,b);this.resetEvents();if(this.dirty=this.isDirty()){h.forEach(this.series,m);this._eventSeries={};this.cleanGroup();var c=this.group;d.forEachRev(this.series,function(a){a.cleanGroup(c)})}for(var f=this.chart.theme,g=this.events(),i=this.series.length-1;0<=i;--i){var l=this.series[i];if(!this.dirty&&!l.dirty)f.skip(),this._reconnectEvents(l.name);else if(l.cleanGroup(),l.data.length){var u=
f.next("marker",[this.opt,l]),c=l.group,r,D=this._hScaler.scaler.getTransformerFromModel(this._hScaler),C=this._vScaler.scaler.getTransformerFromModel(this._vScaler);r="number"==typeof l.data[0]?h.map(l.data,function(c,d){return{x:D(d+1)+b.l,y:a.height-b.b-C(c)}},this):h.map(l.data,function(c){return{x:D(c.x)+b.l,y:a.height-b.b-C(c.y)}},this);var q=Array(r.length),z=Array(r.length),K=Array(r.length);h.forEach(r,function(d,g){var i=l.data[g],m;if(this.opt.styleFunc||"number"!=typeof i){var h="number"!=
typeof i?[i]:[];this.opt.styleFunc&&h.push(this.opt.styleFunc(i));m=f.addMixin(u,"marker",h,!0)}else m=f.post(u,"marker");i="M"+d.x+" "+d.y+" "+m.symbol;m.marker.shadow&&(q[g]=c.createPath("M"+(d.x+m.marker.shadow.dx)+" "+(d.y+m.marker.shadow.dy)+" "+m.symbol).setStroke(m.marker.shadow).setFill(m.marker.shadow.color),this.animate&&this._animateScatter(q[g],a.height-b.b));if(m.marker.outline)h=e.makeStroke(m.marker.outline),h.width=2*h.width+m.marker.stroke.width,K[g]=c.createPath(i).setStroke(h),
this.animate&&this._animateScatter(K[g],a.height-b.b);h=e.makeStroke(m.marker.stroke);if((m=this._plotFill(m.marker.fill,a,b))&&("linear"===m.type||"radial"==m.type))if(m=k.getColor(m,{x:d.x,y:d.y}),h)h.color=m;z[g]=c.createPath(i).setStroke(h).setFill(m);this.animate&&this._animateScatter(z[g],a.height-b.b)},this);if(z.length)l.dyn.marker=u.symbol,l.dyn.markerStroke=z[z.length-1].getStroke(),l.dyn.markerFill=z[z.length-1].getFill();if(g){var L=Array(z.length);h.forEach(z,function(a,b){var c={element:"marker",
index:b,run:l,shape:a,outline:K&&K[b]||null,shadow:q&&q[b]||null,cx:r[b].x,cy:r[b].y};"number"==typeof l.data[0]?(c.x=b+1,c.y=l.data[b]):(c.x=l.data[b].x,c.y=l.data[b].y);this._connectEvents(c);L[b]=c},this);this._eventSeries[l.name]=L}else delete this._eventSeries[l.name];l.dirty=!1}else l.dirty=!1,f.skip()}this.dirty=!1;return this},_animateScatter:function(b,c){a.animateTransform(l.delegate({shape:b,duration:1200,transform:[{name:"translate",start:[0,c],end:[0,0]},{name:"scale",start:[0,0],end:[1,
1]},{name:"original"}]},this.animate)).play()}})})},"dojox/charting/plot2d/Stacked":function(){define(["dojo/_base/declare","./Default","./commonStacked"],function(l,h,f){return l("dojox.charting.plot2d.Stacked",h,{getSeriesStats:function(){var i=f.collectStats(this.series);this._maxRunLength=i.hmax;return i},buildSegments:function(i,g){for(var e=this.series[i],d=g?Math.min(e.data.length-1,Math.ceil(this._hScaler.bounds.to-this._hScaler.bounds.from)):e.data.length-1,c=null,b=[],a=0;a<=d;a++){var k=
g?f.getIndexValue(this.series,i,a):f.getValue(this.series,i,e.data[a]?e.data[a].x:null);if(null!=k&&(g||null!=k.y))c||(c=[],b.push({index:a,rseg:c})),c.push(k);else if(!this.opt.interpolate||g)c=null}return b}})})},"dojox/charting/plot2d/commonStacked":function(){define(["dojo/_base/lang","./common"],function(l,h){var f=l.getObject("dojox.charting.plot2d.commonStacked",!0);return l.mixin(f,{collectStats:function(i){for(var g=l.delegate(h.defaultStats),e=0;e<i.length;++e)for(var d=i[e],c=0;c<d.data.length;c++){var b,
a;if(null!==d.data[c]){if("number"==typeof d.data[c]||!d.data[c].x)a=f.getIndexValue(i,e,c),b=c+1;else if(b=d.data[c].x)a=f.getValue(i,e,b),a=null!=a&&a.y?a.y:null;g.hmin=Math.min(g.hmin,b);g.hmax=Math.max(g.hmax,b);g.vmin=Math.min(g.vmin,a);g.vmax=Math.max(g.vmax,a)}}return g},getIndexValue:function(f,g,e){var d=0,c,b;for(b=0;b<=g;++b)c=f[b].data[e],null!=c&&(isNaN(c)&&(c=c.y||0),d+=c);return d},getValue:function(f,g,e){var d=null,c,b;for(c=0;c<=g;++c)for(b=0;b<f[c].data.length;b++)if(v=f[c].data[b],
null!==v)if(v.x==e){d||(d={x:e});if(null!=v.y){if(null==d.y)d.y=0;d.y+=v.y}break}else if(v.x>e)break;return d}})})},"dojox/charting/plot2d/StackedLines":function(){define(["dojo/_base/declare","./Stacked"],function(l,h){return l("dojox.charting.plot2d.StackedLines",h,{constructor:function(){this.opt.lines=!0}})})},"dojox/charting/plot2d/StackedAreas":function(){define(["dojo/_base/declare","./Stacked"],function(l,h){return l("dojox.charting.plot2d.StackedAreas",h,{constructor:function(){this.opt.lines=
!0;this.opt.areas=!0}})})},"dojox/charting/plot2d/Columns":function(){define("dojo/_base/lang,dojo/_base/array,dojo/_base/declare,./CartesianBase,./_PlotEvents,./common,dojox/lang/functional,dojox/lang/functional/reversed,dojox/lang/utils,dojox/gfx/fx".split(","),function(l,h,f,i,g,e,d,c,b,a){var k=c.lambda("item.purgeGroup()");return f("dojox.charting.plot2d.Columns",[i,g],{defaultParams:{hAxis:"x",vAxis:"y",gap:0,animate:null,enableCache:!1,maxAndMin:!1,drawData:!1,position:"bottom"},optionalParams:{minBarSize:1,
maxBarSize:1,stroke:{},outline:{},shadow:{},fill:{},styleFunc:null,font:"",fontColor:""},constructor:function(a,c){this.opt=l.clone(this.defaultParams);b.updateWithObject(this.opt,c);b.updateWithPattern(this.opt,c,this.optionalParams);this.series=[];this.hAxis=this.opt.hAxis;this.vAxis=this.opt.vAxis;this.animate=this.opt.animate},getSeriesStats:function(){var a=e.collectSimpleStats(this.series);a.hmin-=0.5;a.hmax+=0.5;return a},createRect:function(a,b,c){var d;this.opt.enableCache&&0<a._rectFreePool.length?
(d=a._rectFreePool.pop(),d.setShape(c),b.add(d)):d=b.createRect(c);this.opt.enableCache&&a._rectUsePool.push(d);return d},render:function(a,b){if(this.zoom&&!this.isDataDirty())return this.performZoom(a,b);if(this._hScaler&&this._vScaler){this.getSeriesStats();this.resetEvents();this.dirty=this.isDirty();var c;if(this.dirty)h.forEach(this.series,k),this._eventSeries={},this.cleanGroup(),c=this.group,d.forEachRev(this.series,function(a){a.cleanGroup(c)});for(var e=this.chart.theme,f=this._hScaler.scaler.getTransformerFromModel(this._hScaler),
g=this._vScaler.scaler.getTransformerFromModel(this._vScaler),i=Math.max(0,this._vScaler.bounds.lower),x=g(i),u=Math.max(0,Math.floor(this._hScaler.bounds.from-1)),r=this.events(),D=this.getBarProperties(),C=this.series.length-1;0<=C;--C){var q=this.series[C],z=this.chart.position.eachAreaHeight*this.chart.position.areaIndexT[q.kwArgs.position];if(!this.dirty&&!q.dirty)e.skip(),this._reconnectEvents(q.name);else{q.cleanGroup();if(this.opt.enableCache)q._rectFreePool=(q._rectFreePool?q._rectFreePool:
[]).concat(q._rectUsePool?q._rectUsePool:[]),q._rectUsePool=[];if(this.chart.seriesNum<=this.chart.series.length&&!this.chart.colorTag[q.name]&&0!=this.chart.colorTag[q.name])this.chart.colorTag[q.name]=this.chart.seriesNum,this.chart.seriesNum+=1;var K=e.next("column",[this.opt,q],null,this.chart.colorTag[q.name]),L=Array(q.data.length);c=q.group;for(var H=this.getDataLength(q),Q=h.some(q.data,function(a){return"number"==typeof a||a&&!a.hasOwnProperty("x")}),y,I,G=u;G<H;++G){var E=q.data[G];null!=
E&&!isNaN(E)&&(G==u?I=y=E:(y=Math.max(y,E),I=Math.min(I,E)))}for(G=u;G<H;++G)if(E=q.data[G],null!=E){var M=this.getValue(E,G,C,Q),O=g(M.y),F=Math.abs(O-x),J,P;this.opt.styleFunc||"number"!=typeof E?(J="number"!=typeof E?[E]:[],this.opt.styleFunc&&J.push(this.opt.styleFunc(E)),J=e.addMixin(K,"column",J,!0)):J=e.post(K,"column");if(1<=D.width&&0<=F)O="dojox.charting.plot2d.ClusteredColumns"==this.declaredClass?{x:this.chart.axes[this.vAxis].opt.leftBottom?b.l+f(M.x+0.5)+D.gap+D.thickness*(this.chart.ClusteredColumns[this.opt.position].leftLength-
1):b.l+f(M.x+0.5)+this._hScaler.bounds.scale-D.gap-D.thickness*(this.chart.ClusteredColumns[this.opt.position].rightLength+1)+1,y:a.height-b.b-(M.y>i?O:x)-z,width:D.width,height:F}:{x:b.l+f(M.x+0.5)+D.gap+D.thickness*C,y:a.height-b.b-(M.y>i?O:x)-z,width:D.width,height:F},J.series.shadow&&(P=l.clone(O),P.x+=J.series.shadow.dx,P.y+=J.series.shadow.dy,P=this.createRect(q,c,P).setFill(J.series.shadow.color).setStroke(J.series.shadow),this.animate&&this._animateColumn(P,a.height-b.b+x,F)),J=this._plotFill(J.series.fill,
a,b),J=this._shapeFill(J,O),J=this.createRect(q,c,O).setFill(J),this._drawData(O,E,y,I,e),q.dyn.fill=J.getFill(),q.dyn.stroke=J.getStroke(),r&&(E={element:"column",index:G,run:q,shape:J,shadow:P,x:M.x+0.5,y:M.y},this._connectEvents(E),L[G]=E),this.animate&&this._animateColumn(J,a.height-b.b-x,F)}this.chart.ClusteredColumns[this.opt.position]&&(this.chart.axes[this.vAxis].opt.leftBottom?this.chart.ClusteredColumns[this.opt.position].leftLength-=1:this.chart.ClusteredColumns[this.opt.position].rightLength+=
1);this._eventSeries[q.name]=L;q.dirty=!1}}this.dirty=!1;return this}},getDataLength:function(a){return Math.min(a.data.length,Math.ceil(this._hScaler.bounds.to))},getValue:function(a,b,c,d){d?(c="number"==typeof a?a:a.y,a=b):(c=a.y,a=a.x-1);return{y:c,x:a}},getBarProperties:function(){var a=e.calculateBarSize(this._hScaler.bounds.scale,this.opt);return{gap:a.gap,width:a.size,thickness:0}},_animateColumn:function(b,c,d){0==d&&(d=1);a.animateTransform(l.delegate({shape:b,duration:1200,transform:[{name:"translate",
start:[0,c-c/d],end:[0,0]},{name:"scale",start:[1,1/d],end:[1,1]},{name:"original"}]},this.animate)).play()},_drawData:function(a,b,c,d,e){if(this.opt.drawData)this.group.createText({x:a.x+a.width/2,y:a.y+a.height/2,text:b+"",align:"middle"}).setFont(e.dataShowStyle.font).setFill(e.dataShowStyle.fontColor);else if(this.opt.maxAndMin&&(b==c||b==d))this.group.createText({x:a.x+a.width/2,y:a.y+a.height/2-37.5,text:b+"",align:"middle"}).setFont(e.dataShowStyle.font).setFill(e.dataShowStyle.fontColor),
this.group.createLine({x1:a.x+a.width/2,y1:a.y+a.height/2-30,x2:a.x+a.width/2,y2:a.y+a.height/2}).setStroke(e.dataShowStyle.fontColor),this.group.createCircle({cx:a.x+a.width/2,cy:a.y+a.height/2,r:3}).setStroke(e.dataShowStyle.fontColor).setFill(e.dataShowStyle.fontColor)}})})},"dojox/charting/plot2d/StackedColumns":function(){define(["dojo/_base/declare","./Columns","./commonStacked"],function(l,h,f){return l("dojox.charting.plot2d.StackedColumns",h,{getSeriesStats:function(){var i=f.collectStats(this.series);
this._maxRunLength=i.hmax;i.hmin-=0.5;i.hmax+=0.5;return i},getDataLength:function(){return this._maxRunLength},getValue:function(i,g,e,d){var a;d?i=f.getIndexValue(this.series,e,g):(g=i.x-1,a=(i=f.getValue(this.series,e,i.x))?i.y:null,i=a);return{y:i,x:g}},_drawData:function(f,g,e,d,c){if(this.opt.drawData)this.group.createText({x:f.x+f.width/2,y:f.y+c/2,text:g+"",align:"middle"}).setFont("normal normal normal 15pt \u9ed1\u4f53").setFill("red");else if(this.opt.maxAndMin&&(g==e||g==d))this.group.createText({x:f.x+
f.width/2,y:f.y+c/2-37.5,text:g+"",align:"middle"}).setFont("normal normal normal 25pt \u9ed1\u4f53").setFill("red"),this.group.createLine({x1:f.x+f.width/2,y1:f.y+c/2-30,x2:f.x+f.width/2,y2:f.y+c/2}).setStroke("red"),this.group.createCircle({cx:f.x+f.width/2,cy:f.y+c/2,r:3}).setStroke("red").setFill("red")}})})},"dojox/charting/plot2d/ClusteredColumns":function(){define(["dojo/_base/declare","./Columns","./common"],function(l,h,f){return l("dojox.charting.plot2d.ClusteredColumns",h,{getBarProperties:function(){var i=
f.calculateBarSize(this._hScaler.bounds.scale,this.opt,this.chart.ClusteredColumns[this.opt.position]?this.chart.ClusteredColumns[this.opt.position].allLength:0);return{gap:i.gap,width:i.size,thickness:i.size}}})})},"dojox/charting/plot2d/Grid":function(){define("dojo/_base/lang,dojo/_base/declare,dojo/_base/connect,dojo/_base/array,./CartesianBase,./common,dojox/lang/utils,dojox/gfx/fx,dojox/gfx".split(","),function(l,h,f,i,g,e,d,c,b){return h("dojox.charting.plot2d.Grid",g,{defaultParams:{hAxis:"x",
vAxis:"y",hMajorLines:!0,hMinorLines:!1,vMajorLines:!0,vMinorLines:!1,hStripes:!1,vStripes:!1,animate:null,lineDashed:!1,enableCache:!1,renderOnAxis:!0,show:!1,position:"bottom"},optionalParams:{majorHLine:{},minorHLine:{},majorVLine:{},minorVLine:{}},constructor:function(a,b){this.opt=l.clone(this.defaultParams);d.updateWithObject(this.opt,b);d.updateWithPattern(this.opt,b,this.optionalParams);this.hAxis=this.opt.hAxis;this.vAxis=this.opt.vAxis;this.animate=this.opt.animate;if(this.opt.enableCache)this._lineFreePool=
[],this._lineUsePool=[]},addSeries:function(){return this},getSeriesStats:function(){return l.delegate(e.defaultStats)},cleanGroup:function(){this.inherited(arguments);if(this.opt.enableCache)this._lineFreePool=this._lineFreePool.concat(this._lineUsePool),this._lineUsePool=[]},createLine:function(a,c){var d;this.opt.enableCache&&0<this._lineFreePool.length?(d=this._lineFreePool.pop(),d.setShape(c),a.add(d)):d=this.opt.lineDashed&&("canvasWithEvents"==b.renderer||"canvas"==b.renderer)?a.createDashedLine(c):
a.createLine(c);this.opt.enableCache&&this._lineUsePool.push(d);return d},render:function(a,b){if(this.opt.show){if(this.zoom)return this.performZoom(a,b);this.dirty=this.isDirty();if(!this.dirty)return this;this.cleanGroup();var c=this.group,d=this.chart.theme,e,f=this.opt.renderOnAxis,g=this.chart.position.eachAreaHeight*this.chart.position.areaIndexB[this.opt.position]+(0==this.chart.position.areaIndexB[this.opt.position]?0:this.chart.position.margin),h=this.chart.position.eachAreaHeight*this.chart.position.areaIndexT[this.opt.position];
if(this._vAxis){var l=this._vAxis.getScaler();if(l){var x=l.scaler.getTransformerFromModel(l),u;u=this._vAxis.getTicks();null!=u&&(this.opt.hMinorLines&&(e=this.opt.minorHLine||d.grid&&d.grid.minorLine||d.axis.minorTick,i.forEach(u.minor,function(d){if(f||d.value!=(this._vAxis.opt.leftBottom?l.bounds.from:l.bounds.to))d=a.height-b.b-x(d.value)-h,d=this.createLine(c,{x1:b.l,y1:d,x2:a.width-b.r,y2:d}).setStroke(e),this.animate&&this._animateGrid(d,"h",b.l,b.r+b.l-a.width)},this)),this.opt.hMajorLines&&
(e=this.opt.majorHLine||d.grid&&d.grid.majorLine||d.axis.majorTick,i.forEach(u.major,function(d){if(f||d.value!=(this._vAxis.opt.leftBottom?l.bounds.from:l.bounds.to))d=a.height-b.b-x(d.value)-h,d=this.createLine(c,{x1:b.l,y1:d,x2:a.width-b.r,y2:d}).setStroke(e),this.animate&&this._animateGrid(d,"h",b.l,b.r+b.l-a.width)},this)))}}if(this._hAxis){var r=this._hAxis.getScaler();if(r){var D=r.scaler.getTransformerFromModel(r);u=this._hAxis.getTicks();null!=this&&(u&&this.opt.vMinorLines&&(e=this.opt.minorVLine||
d.grid&&d.grid.minorLine||d.axis.minorTick,i.forEach(u.minor,function(d){if(f||d.value!=(this._hAxis.opt.leftBottom?r.bounds.from:r.bounds.to))d=b.l+D(d.value),d=this.createLine(c,{x1:d,y1:b.t,x2:d,y2:a.height-b.b-h}).setStroke(e),this.animate&&this._animateGrid(d,"v",a.height-b.b,a.height-b.b-b.t)},this)),u&&this.opt.vMajorLines&&(e=this.opt.majorVLine||d.grid&&d.grid.majorLine||d.axis.majorTick,i.forEach(u.major,function(d){if(f||d.value!=(this._hAxis.opt.leftBottom?r.bounds.from:r.bounds.to))d=
b.l+D(d.value),d=this.createLine(c,{x1:d,y1:b.t+g,x2:d,y2:a.height-b.b-h}).setStroke(e),this.animate&&this._animateGrid(d,"v",a.height-b.b,a.height-b.b-b.t)},this)))}}this.dirty=!1;return this}},_animateGrid:function(a,b,d,e){c.animateTransform(l.delegate({shape:a,duration:1200,transform:[{name:"translate",start:"h"==b?[d,0]:[0,d],end:[0,0]},{name:"scale",start:"h"==b?[1/e,1]:[1,1/e],end:[1,1]},{name:"original"}]},this.animate)).play()}})})},"dojox/charting/plot2d/Pie":function(){define("dojo/_base/lang,dojo/_base/array,dojo/_base/declare,./Base,./_PlotEvents,./common,../axis2d/common,dojox/gfx,dojox/gfx/matrix,dojox/lang/functional,dojox/lang/utils,dojo/cssScale".split(","),
function(l,h,f,i,g,e,d,c,b,a,k,m){return f("dojox.charting.plot2d.Pie",[i,g],{defaultParams:{labels:!0,ticks:!1,fixed:!0,precision:1,labelOffset:20,labelStyle:"default",htmlLabels:!1,radGrad:"native",fanSize:5,startAngle:0,hollow:!1,hollowarea:0.6,hollowareacolor:null},optionalParams:{radius:0,omitLabels:!1,stroke:{},outline:{},shadow:{},fill:{},styleFunc:null,font:"",fontColor:"",labelWiring:{}},constructor:function(a,b){this.opt=l.clone(this.defaultParams);k.updateWithObject(this.opt,b);k.updateWithPattern(this.opt,
b,this.optionalParams);this.axes=[];this.run=null;this.dyn=[]},clear:function(){this.inherited(arguments);this.dyn=[];this.run=null;return this},setAxis:function(){return this},addSeries:function(a){this.run=a;return this},getSeriesStats:function(){return l.delegate(e.defaultStats)},getRequiredColors:function(){return this.run?this.run.data.length:0},render:function(e,f){if(!this.dirty)return this;this.resetEvents();this.dirty=!1;this._eventSeries={};this.cleanGroup();var g=this.group,k=this.chart.theme;
if(!this.run||!this.run.data.length)return this;var i=(e.width-f.l-f.r)/2,B=(e.height-f.t-f.b)/2,x=Math.min(i,B)/1.1,u="font"in this.opt?this.opt.font:k.series.font,r,D=b._degToRad(this.opt.startAngle),C=D,q,z,K,L,H=this.run.data,Q=this.events();this.dyn=[];"radius"in this.opt&&(x=this.opt.radius>x?x:this.opt.radius,L=x-this.opt.labelOffset);var y={cx:f.l+i,cy:f.t+B,r:x};if(this.opt.shadow||k.shadow){q=this.opt.shadow||k.shadow;var I=l.clone(y);I.cx+=q.dx;I.cy+=q.dy;g.createCircle(I).setFill(q.color).setStroke(q)}if("number"==
typeof H[0]){q=a.map(H,"x ? Math.max(x, 0) : 0");if(a.every(q,"<= 0"))return g.createCircle(y).setStroke(k.series.stroke),this.dyn=h.map(q,function(){return{}}),this;z=a.map(q,"/this",a.foldl(q,"+",0));this.opt.labels&&(K=h.map(z,function(a){return 0<a?this._getLabel(100*a)+"%":""},this))}else{q=a.map(H,"x ? Math.max(x.y, 0) : 0");if(a.every(q,"<= 0"))return g.createCircle(y).setStroke(k.series.stroke),this.dyn=h.map(q,function(){return{}}),this;z=a.map(q,"/this",a.foldl(q,"+",0));this.opt.labels&&
(K=h.map(z,function(a,b){if(0>=a)return"";var c=H[b];return"text"in c?c.text:this._getLabel(100*a)+"%"},this))}var G=a.map(H,function(a){var b=[this.opt,this.run];null!==a&&"number"!=typeof a&&b.push(a);this.opt.styleFunc&&b.push(this.opt.styleFunc(a));return k.next("slice",b,!0)},this);this.opt.labels&&(r=u?c.normalizedLength(c.splitFontString(u).size):0,q=a.foldl1(a.map(K,function(a,b){return c._base._getTextBox(a,{font:G[b].series.font}).w},this),"Math.max(a, b)")/2,0>this.opt.labelOffset&&(x=
Math.min(i-2*q,B-r)+this.opt.labelOffset),L=x-this.opt.labelOffset);var E=Array(z.length);h.some(z,function(a,c){if(0>a)return!1;if(0==a)return this.dyn.push({fill:null,stroke:null}),!1;var d=H[c],k=G[c],i;if(1<=a){i=this._plotFill(k.series.fill,e,f);i=this._shapeFill(i,{x:y.cx-y.r,y:y.cy-y.r,width:2*y.r,height:2*y.r});i=this._pseudoRadialFill(i,{x:y.cx,y:y.cy},y.r);var h=g.createCircle(y).setFill(i).setStroke(k.series.stroke);this.dyn.push({fill:i,stroke:k.series.stroke});Q&&(d={element:"slice",
index:c,run:this.run,shape:h,x:c,y:"number"==typeof d?d:d.y,cx:y.cx,cy:y.cy,cr:x},this._connectEvents(d),E[c]=d);return!0}var m=C+2*a*Math.PI;c+1==z.length&&(m=D+2*Math.PI);var h=m-C,l=y.cx+x*Math.cos(C),r=y.cy+x*Math.sin(C),q=y.cx+x*Math.cos(m),s=y.cy+x*Math.sin(m);i=b._degToRad(this.opt.fanSize);if(k.series.fill&&"radial"===k.series.fill.type&&"fan"===this.opt.radGrad&&h>i){var t=g.createGroup(),B=Math.ceil(h/i),u=h/B;i=this._shapeFill(k.series.fill,{x:y.cx-y.r,y:y.cy-y.r,width:2*y.r,height:2*y.r});
for(var L=0;L<B;++L){var K=0==L?l:y.cx+x*Math.cos(C+(L-0.2)*u),I=0==L?r:y.cy+x*Math.sin(C+(L-0.2)*u),F=L==B-1?q:y.cx+x*Math.cos(C+(L+1+0.2)*u),M=L==B-1?s:y.cy+x*Math.sin(C+(L+1+0.2)*u);t.createPath().moveTo(y.cx,y.cy).lineTo(K,I).arcTo(x,x,0,u>Math.PI,!0,F,M).lineTo(y.cx,y.cy).closePath().setFill(this._pseudoRadialFill(i,{x:y.cx,y:y.cy},x,C+(L+0.5)*u,C+(L+0.5)*u))}t.createPath().moveTo(y.cx,y.cy).lineTo(l,r).arcTo(x,x,0,h>Math.PI,!0,q,s).lineTo(y.cx,y.cy).closePath().setStroke(k.series.stroke);h=
t}else h=g.createPath().moveTo(y.cx,y.cy).lineTo(l,r).arcTo(x,x,0,h>Math.PI,!0,q,s).lineTo(y.cx,y.cy).closePath().setStroke(k.series.stroke),(i=k.series.fill)&&"radial"===i.type?(i=this._shapeFill(i,{x:y.cx-y.r,y:y.cy-y.r,width:2*y.r,height:2*y.r}),"linear"===this.opt.radGrad&&(i=this._pseudoRadialFill(i,{x:y.cx,y:y.cy},x,C,m))):i&&"linear"===i.type&&(i=this._plotFill(i,e,f),i=this._shapeFill(i,h.getBoundingBox())),h.setFill(i);this.dyn.push({fill:i,stroke:k.series.stroke});Q&&(d={element:"slice",
index:c,run:this.run,shape:h,x:c,y:"number"==typeof d?d:d.y,cx:y.cx,cy:y.cy,cr:x},this._connectEvents(d),E[c]=d);C=m;return!1},this);this.opt.hollow&&(q=this.opt.hollowareacolor?this.opt.hollowareacolor:k.chart.fill,g.createCircle({cx:f.l+i,cy:f.t+B,r:x*this.opt.hollowarea}).setFill(q));if(this.opt.labels)if("default"==this.opt.labelStyle)C=D,h.some(z,function(a,b){if(0>=a)return!1;var e=G[b];if(1<=a)return e=d.createText[this.opt.htmlLabels&&"vml"!=c.renderer?"html":"gfx"](this.chart,g,y.cx,y.cy+
r/2,"middle",K[b],e.series.font,e.series.fontColor),this.opt.htmlLabels&&this.htmlElements.push(e),!0;var f=C+2*a*Math.PI;b+1==z.length&&(f=D+2*Math.PI);if(this.opt.omitLabels&&0.001>f-C)return!1;var k=(C+f)/2,i=y.cx+L*Math.cos(k),k=y.cy+L*Math.sin(k)+r/2,e=d.createText[this.opt.htmlLabels&&"vml"!=c.renderer?"html":"gfx"](this.chart,g,i,k,"middle",K[b],e.series.font,e.series.fontColor);this.opt.htmlLabels&&this.htmlElements.push(e);C=f;return!1},this);else if("columns"==this.opt.labelStyle){var C=
D,M=this.opt.omitLabels,O=[];h.forEach(z,function(a,b){var c=C+2*a*Math.PI;b+1==z.length&&(c=D+2*Math.PI);var d=(C+c)/2;O.push({angle:d,left:0>Math.cos(d),theme:G[b],index:b,omit:M?0.001>c-C:!1});C=c});i=c._base._getTextBox("a",{font:u}).h;this._getProperLabelRadius(O,i,1.1*y.r);h.forEach(O,function(a,b){if(!a.omit){var e=m.scale(c._base._getTextBox(K[b],{font:a.theme.series.font}).w,"x"),f=y.cx+a.labelR*Math.cos(a.angle),k=y.cy+a.labelR*Math.sin(a.angle),i=a.left?f-this.opt.labelOffset:f+this.opt.labelOffset,
h=a.left?"right":"left",l=g.createPath().moveTo(y.cx+y.r*Math.cos(a.angle),y.cy+y.r*Math.sin(a.angle));Math.abs(a.labelR*Math.cos(a.angle))<2*y.r-e&&l.lineTo(f,k);l.lineTo(i,k).setStroke(a.theme.series.labelWiring);e=d.createText[this.opt.htmlLabels&&"vml"!=c.renderer?"html":"gfx"](this.chart,g,i,k,h,K[b],a.theme.series.font,a.theme.series.fontColor,"middle");this.opt.htmlLabels&&this.htmlElements.push(e)}},this)}var F=0;this._eventSeries[this.run.name]=a.map(H,function(a){return 0>=a?null:E[F++]});
return this},_getProperLabelRadius:function(a,b,c){var d,e,f=1,g=1;if(1==a.length)a[0].labelR=c;else{for(var k=0;k<a.length;k++){var i=Math.abs(Math.sin(a[k].angle));a[k].left?f>=i&&(f=i,d=a[k]):g>=i&&(g=i,e=a[k])}d.labelR=e.labelR=c;this._calculateLabelR(d,a,b);this._calculateLabelR(e,a,b)}},_calculateLabelR:function(a,b,c){for(var d=a.index,e=b.length,f=a.labelR;!(b[d%e].left^b[(d+1)%e].left);){if(!b[(d+1)%e].omit)f=(Math.sin(b[d%e].angle)*f+(b[d%e].left?-c:c))/Math.sin(b[(d+1)%e].angle),f=f<a.labelR?
a.labelR:f,b[(d+1)%e].labelR=f;d++}d=a.index;for(e=0==d?e-1:d-1;!(b[d].left^b[e].left);){if(!b[e].omit)f=(Math.sin(b[d].angle)*f+(b[d].left?c:-c))/Math.sin(b[e].angle),f=f<a.labelR?a.labelR:f,b[e].labelR=f;d--;e--;d=0>d?d+b.length:d;e=0>e?e+b.length:e}},_getLabel:function(a){return e.getLabel(a,this.opt.fixed,this.opt.precision)}})})},"dojox/charting/widget/Chart":function(){define("dojo/_base/kernel,dojo/_base/lang,dojo/_base/array,dojo/dom-attr,dojo/_base/declare,dojo/query,dijit/_WidgetBase,../Chart,dojox/lang/utils,dojox/lang/functional,dojox/lang/functional/lambda,dojox/charting/action2d/Tooltip,dojox/charting/action2d/Highlight".split(","),
function(l,h,f,i,g,e,d,c,b,a,k,m,o){var p,A,t,s,B,x=function(a){return a},u=h.getObject("dojox.charting"),g=g("dojox.charting.widget.Chart",d,{theme:null,margins:null,stroke:void 0,fill:void 0,delayInMs:null,titleText:null,titleHtmlLabels:null,titleGap:null,titlePos:null,titleFont:null,titleFontColor:null,titlePosition:null,subTitle:null,subTitleFont:null,subTitleFontColor:null,DrawManOrMin:null,DrawData:null,plotareabackgroundcolor:null,startGap:!0,buildRendering:function(){this.inherited(arguments);
n=this.domNode;var d=e("> .axis",n).map(A).filter(x),g=e("> .plot",n).map(t).filter(x),k=e("> .action",n).map(s).filter(x),i=e("> .series",n).map(B).filter(x);n.innerHTML="";var m=this.chart=new c(n,{margins:this.margins,stroke:this.stroke,fill:this.fill,textDir:this.textDir,delayInMs:this.delayInMs,titleText:this.titleText,titleHtmlLabels:this.titleHtmlLabels,titleGap:this.titleGap,titlePos:this.titlePos,titleFont:this.titleFont,titleFontColor:this.titleFontColor,titlePosition:this.titlePosition,
subTitle:this.subTitle,subTitleFont:this.subTitleFont,subTitleFontColor:this.subTitleFontColor,plotareabackgroundcolor:this.plotareabackgroundcolor,startGap:this.startGap});this.theme&&m.setTheme(this.theme);d.forEach(function(a){m.addAxis(a.name,a.kwArgs)});g.forEach(function(a){m.addPlot(a.name,a.kwArgs)});this.actions=k.map(function(a){return new a.action(m,a.plot,a.kwArgs)});a.foldl(i,function(a,c){if("data"==c.type)m.addSeries(c.name,c.data,c.kwArgs),a=!0;else{m.addSeries(c.name,[0],c.kwArgs);
var d={};b.updateWithPattern(d,c.kwArgs,{query:"",queryOptions:null,start:0,count:1},!0);if(c.kwArgs.sort)d.sort=h.clone(c.kwArgs.sort);h.mixin(d,{onComplete:function(a){if("valueFn"in c.kwArgs)var b=c.kwArgs.valueFn,a=f.map(a,function(a){return b(c.data.getValue(a,c.field,0))});else a=f.map(a,function(a){return c.data.getValue(a,c.field,0)});m.addSeries(c.name,a,c.kwArgs).render()}});c.data.fetch(d)}return a},!1)&&m.render()},getCoords:function(){return this.chart.getCoords()},setTheme:function(a){return this.chart.setTheme(a)},
addAxis:function(a,b){return this.chart.addAxis(a,b)},getAxis:function(a){return this.chart.getAxis(a)},removeAxis:function(a){return this.chart.removeAxis(a)},addPlot:function(a,b){return this.chart.addPlot(a,b)},getPlot:function(a){return this.chart.getPlot(a)},removePlot:function(a){return this.chart.removePlot(a)},getPlotOrder:function(){return this.chart.getPlotOrder()},setPlotOrder:function(a){return this.chart.setPlotOrder(a)},movePlotToFront:function(a){return this.chart.movePlotToFront(a)},
movePlotToBack:function(a){return this.chart.movePlotToBack(a)},addSeries:function(a,b,c){return this.chart.addSeries(a,b,c)},getSeries:function(a){return this.chart.getSeries(a)},removeSeries:function(a){return this.chart.removeSeries(a)},updateSeries:function(a,b){return this.chart.updateSeries(a,b)},getSeriesOrder:function(a){return this.chart.getSeriesOrder(a)},setSeriesOrder:function(a){return this.chart.setSeriesOrder(a)},moveSeriesToFront:function(a){return this.chart.moveSeriesToFront(a)},
moveSeriesToBack:function(a){return this.chart.moveSeriesToBack(a)},getGeometry:function(){return this.chart.getGeometry()},setAxisWindow:function(a,b,c,d){return this.chart.setAxisWindow(a,b,c,d)},setWindow:function(a,b,c,d,e){return this.chart.setWindow(a,b,c,d,e)},zoomIn:function(a,b){this.zoomIn(a,b)},calculateGeometry:function(){return this.chart.calculateGeometry()},fullGeometry:function(){return this.chart.fullGeometry()},render:function(){return this.chart.render()},fullRender:function(){return this.chart.fullRender()},
delayedRender:function(){return this.chart.delayedRender()},connectToPlot:function(a,b,c){return this.chart.connectToPlot(a,b,c)},fireEvent:function(a,b,c){return this.chart.fireEvent(a,b,c)},destroy:function(){this.chart.destroy();this.inherited(arguments)},updateAxis:function(a){for(var b in a){var c=this._getAxisName(b);if("object"==typeof c){if(c.length)for(var d in c){!1==a[b].fromAndto&&(delete this.chart.axes[c[d]].kwArgs.from,delete this.chart.axes[c[d]].kwArgs.to,delete a[b].fromAndto,delete a[b].from,
delete a[b].to);a[b].position&&delete a[b].position;var e=this.chart.axes[c[d]]?h.mixin(this.chart.axes[c[d]].kwArgs,a[b]):a[b];this.addAxis(c[d],e)}}else e=this.chart.axes[c]?h.mixin(this.chart.axes[c].kwArgs,a[b]):a[b],this.addAxis(c,e)}},_getAxisName:function(a){var b=[];switch(a){case "x-bottom":for(var c in this.chart.axes)this.chart.axes[c].opt.leftBottom&&!this.chart.axes[c].opt.vertical&&b.push(c);return b;case "x-top":for(c in this.chart.axes)!this.chart.axes[c].opt.leftBottom&&!this.chart.axes[c].opt.vertical&&
b.push(c);return b;case "y-left":for(c in this.chart.axes)this.chart.axes[c].opt.leftBottom&&this.chart.axes[c].opt.vertical&&b.push(c);return b;case "y-right":for(c in this.chart.axes)!this.chart.axes[c].opt.leftBottom&&this.chart.axes[c].opt.vertical&&b.push(c);return b;case "comments":a="comments";for(c in this.chart.axes)"comments"==this.chart.axes[c].type&&(a=c);return a;case "legend":a="legend";for(c in this.chart.axes)"legend"==this.chart.axes[c].type&&(a=c);return a}},updatetitle:function(a){a.titleText&&
(this.chart.title=a.titleText);a.titleFont&&(this.chart.titleFont=a.titleFont);a.titleFontColor&&(this.chart.titleFontColor=a.titleFontColor);a.titleGap&&(this.chart.titleGap=a.titleGap);a.titlePos&&(this.chart.titlePos=a.titlePos);a.titlePosition&&(this.chart.titlePosition=a.titlePosition);a.subTitle&&(this.chart.subTitle="-"+a.subTitle);a.subTitleFont&&(this.chart.subTitleFont=a.subTitleFont);a.subTitleFontColor&&(this.chart.subTitleFontColor=a.subTitleFontColor);h.mixin(this.chart.kwArgs,a)},updateDrawMaxOrMin:function(){if(null==
this.DrawManOrMin){for(var a in this.chart.plots)if("dojox.charting.plot2d.Grid"!=this.chart.stack[this.chart.plots[a]].declaredClass&&!this.chart.stack[this.chart.plots[a]].kwArgs.maxAndMin)this.DrawManOrMin=!1;null==this.DrawManOrMin?this.DrawManOrMin=!0:this.DrawManOrMin=!1}this.DrawManOrMin?this.DrawManOrMin=!1:this.DrawManOrMin=!0;for(var b in this.chart.plots)"dojox.charting.plot2d.Grid"!=this.chart.stack[this.chart.plots[b]].declaredClass&&(a=h.mixin(this.chart.stack[this.chart.plots[b]].kwArgs,
this.DrawManOrMin?{maxAndMin:!0,drawData:!1}:{maxAndMin:!1,drawData:!1}),this.chart.addPlot(b,a),new m(this.chart,b),new o(this.chart,b));this.DrawData=!1},updateDrawData:function(){if(null==this.DrawData){for(var a in this.chart.plots)if("dojox.charting.plot2d.Grid"!=this.chart.stack[this.chart.plots[a]].declaredClass&&!this.chart.stack[this.chart.plots[a]].kwArgs.drawData)this.DrawData=!1;null==this.DrawData?this.DrawData=!0:this.DrawData=!1}this.DrawData?this.DrawData=!1:this.DrawData=!0;for(var b in this.chart.plots)"dojox.charting.plot2d.Grid"!=
this.chart.stack[this.chart.plots[b]].declaredClass&&(a=h.mixin(this.chart.stack[this.chart.plots[b]].kwArgs,this.DrawData?{maxAndMin:!1,drawData:!0}:{maxAndMin:!1,drawData:!1}),this.chart.addPlot(b,a),new m(this.chart,b),new o(this.chart,b));this.DrawManOrMin=!1},allToChange:function(a,b){var c={},d={},e,f={},g;for(g in this.chart.stack)if(c[this.chart.stack[g].vAxis]||(c[this.chart.stack[g].vAxis]={}),this.chart.stack[g].series.length&&(c[this.chart.stack[g].vAxis][this.chart.stack[g].hAxis]?c[this.chart.stack[g].vAxis][this.chart.stack[g].hAxis].push(this.chart.stack[g].name):
c[this.chart.stack[g].vAxis][this.chart.stack[g].hAxis]=[this.chart.stack[g].name],f={maxAndMin:this.chart.stack[g].opt.maxAndMin,drawData:this.chart.stack[g].opt.drawData},this.chart.stack[g].declaredClass==a.declaredClass&&"single"!=this.chart.stack[g].name.split("_")[0])){d[this.chart.stack[g].vAxis]=g;if(b)this.chart.stack[g].opt.lines=!1,this.chart.stack[g].opt.markers=!0;e=h.mixin({},this.chart.stack[g].kwArgs)}for(g in c)for(var k in c[g])if(d[g])for(var i in c[g][k])for(var l in this.chart.series){if(this.chart.series[l].plot==
c[g][k][i]){var p=this.chart.series[l].kwArgs||{};p.plot=this.chart.stack[Number(d[g])].name;p.marker="m-3,0 c0,-4 6,-4 6,0 m-6,0 c0,4 6,4 6,0";var s=this.chart.stack[d[g]].kwArgs;b?s.lines=!1:s.lines=!0;this.chart.addPlot(this.chart.stack[d[g]].name,s);this.addSeries(this.chart.series[l].name,this.chart.series[l].data,p);new m(this.chart,this.chart.stack[d[g]].name);new o(this.chart,this.chart.stack[d[g]].name)}}else this._createChange(e,a,c[g][k],k,g,b,f)},_createChange:function(a,b,c,d,e,f,g){(a=
h.clone(a))?(a.vAxis=e,a.hAxis=d,a.position=this.chart.axes[e].opt.position):a=h.mixin({type:b.declaredClass.split(".").pop(),gap:10,vAxis:e,hAxis:d,position:this.chart.axes[e].opt.position,lines:!0,markers:!0},g);if(f)a.lines=!1,a.markers=!0;this.chart.addPlot(b.declaredClass.split(".").pop()+"_"+e,a);for(var k in c)for(var i in this.chart.series)if(this.chart.series[i].plot==c[k])a=this.chart.series[i].kwArgs||{},"Default"==b.declaredClass.split(".").pop()?a.fill&&(a.storke={},a.storke.color=a.fill):
a.stroke&&(a.fill=a.stroke.color?a.stroke.color:null,delete a.stroke.width),a.marker="m-3,0 c0,-4 6,-4 6,0 m-6,0 c0,4 6,4 6,0",a.plot=b.declaredClass.split(".").pop()+"_"+e,this.addSeries(this.chart.series[i].name,this.chart.series[i].data,a);new m(this.chart,b.declaredClass.split(".").pop()+"_"+e);new o(this.chart,b.declaredClass.split(".").pop()+"_"+e)},oneToChange:function(a,b,c,d,e,f){var g,k,i,h,l=!1,p=!1;if(!d.position)d.position="bottom";g="single_"+d.position+"_"+a;h="single_"+d.position+
"_grid";for(var s in this.chart.axes)if(this.chart.axes[s].opt.position==d.position)if(this.chart.axes[s].opt.vertical){var t=!1==e.vAxis.leftBottom?!1:!0;this.chart.axes[s].opt.leftBottom==t&&(i=s,l=!0)}else t=!1==e.hAxis.leftBottom?!1:!0,this.chart.axes[s].opt.leftBottom==t&&(k=s,p=!0);if(!l)i="single_"+d.position+"_"+(!1==e.vAxis.leftBottom?"y2":"y1"),e.vAxis.position=d.position,e.vAxis.title=!1==e.vAxis.leftBottom?this.chart.rightAxisTitle:this.chart.leftAxisTitle,this.addAxis(i,e.vAxis);if(!p)k=
"single_"+d.position+"_"+(!1==e.hAxis.leftBottom?"x2":"x1"),e.hAxis.position=d.position,this.addAxis(k,e.hAxis);c.hAxis=k;c.vAxis=i;c.type=b.declaredClass.split(".").pop();c.position=d.position;this.addPlot(g,c);if(f)f.hAxis=k,f.vAxis=i,f.position=d.position,this.addPlot(h,f);d.plot=g;this.addSeries(a,this.chart.series[this.chart.runs[a]].data,d);new m(this.chart,g);new o(this.chart,g)},gridHideOrShow:function(){if("dojox.charting.plot2d.Grid"==this.chart.stack[this.chart.stack.length-1].declaredClass&&
h.mixin({},this.chart.stack[this.chart.stack.length-1].kwArgs))for(var a=0;a<this.chart.stack.length;a++){if("dojox.charting.plot2d.Grid"==this.chart.stack[a].declaredClass){var b=this.chart.stack[a].kwArgs;b.show?b.show=!1:b.show=!0;this.addPlot(this.chart.stack[a].name,b)}}else for(a=0;a<this.chart.series.length;a++){debugger;var c=this.chart.stack[this.chart.plots[this.chart.series[a].plot]],b={type:"Grid",lineDashed:!0,hAxis:c.hAxis,vAxis:c.vAxis,show:!0,position:c.opt.position};this.addPlot("single_"+
c.opt.position+"_grid",b)}},setGraphics:function(a){for(var b in a)this.oneToChange(b,a[b].obj,a[b].plot,a[b].series,a[b].axis,a[b].grid)},resize:function(a){this.chart.resize(a)}});p=function(a,c,d){var e=eval("("+c+".prototype.defaultParams)"),f,g;for(f in e)f in d||(g=a.getAttribute(f),d[f]=b.coerceType(e[f],null==g||"undefined"==typeof g?e[f]:g));c=eval("("+c+".prototype.optionalParams)");for(f in c)f in d||(g=a.getAttribute(f),null!=g&&(d[f]=b.coerceType(c[f],g)))};A=function(a){var b=a.getAttribute("name"),
c=a.getAttribute("type");if(!b)return null;var b={name:b,kwArgs:{}},d=b.kwArgs;if(c){u.axis2d[c]&&(c=l._scopeName+"x.charting.axis2d."+c);var e=eval("("+c+")");if(e)d.type=e}else c=l._scopeName+"x.charting.axis2d.Default";p(a,c,d);if(d.font||d.fontColor){if(!d.tick)d.tick={};if(d.font)d.tick.font=d.font;if(d.fontColor)d.tick.fontColor=d.fontColor}return b};t=function(a){var b=a.getAttribute("name"),c=a.getAttribute("type");if(!b)return null;var b={name:b,kwArgs:{}},d=b.kwArgs;if(c){u.plot2d&&u.plot2d[c]&&
(c=l._scopeName+"x.charting.plot2d."+c);var e=eval("("+c+")");if(e)d.type=e}else c=l._scopeName+"x.charting.plot2d.Default";p(a,c,d);return b};s=function(a){var b=a.getAttribute("plot"),c=a.getAttribute("type");b||(b="default");var b={plot:b,kwArgs:{}},d=b.kwArgs;if(c){u.action2d[c]&&(c=l._scopeName+"x.charting.action2d."+c);var e=eval("("+c+")");if(!e)return null;b.action=e}else return null;p(a,c,d);return b};B=function(a){var a=h.partial(i.get,a),b=a("name");if(!b)return null;var b={name:b,kwArgs:{}},
c=b.kwArgs,d;d=a("notDraw");if(null!=d)c.notDraw=d;d=a("plot");if(null!=d)c.plot=d;d=a("marker");if(null!=d)c.marker=d;d=a("stroke");if(null!=d)c.stroke=eval("("+d+")");d=a("outline");if(null!=d)c.outline=eval("("+d+")");d=a("shadow");if(null!=d)c.shadow=eval("("+d+")");d=a("fill");if(null!=d)c.fill=eval("("+d+")");d=a("font");if(null!=d)c.font=d;d=a("fontColor");if(null!=d)c.fontColor=eval("("+d+")");d=a("legend");if(null!=d)c.legend=d;d=a("data");if(null!=d)return b.type="data",b.data=d?f.map((""+
d).split(","),Number):[],b;d=a("array");if(null!=d)return b.type="data",b.data=eval("("+d+")"),b;d=a("store");if(null!=d){b.type="store";b.data=eval("("+d+")");d=a("field");b.field=null!=d?d:"value";if(d=a("query"))c.query=d;if(d=a("queryOptions"))c.queryOptions=eval("("+d+")");if(d=a("start"))c.start=Number(d);if(d=a("count"))c.count=Number(d);if(d=a("sort"))c.sort=eval("("+d+")");if(d=a("valueFn"))c.valueFn=k.lambda(d);return b}return null};return g})},"dojox/charting/action2d/Tooltip":function(){define("dojo/_base/kernel,dojo/_base/lang,dojo/_base/declare,dojo/dom-style,./PlotAction,dojox/gfx/matrix,dojox/lang/functional,dojox/lang/functional/scan,dojox/lang/functional/fold,dojo/cssScale,dojox/gfx".split(","),
function(l,h,f,i,g,e,d,c,b,a,k){var m=function(a){var b=a.run&&a.run.data&&a.run.data[a.index];return b&&"number"!=typeof b&&(b.tooltip||b.text)?b.tooltip||b.text:"candlestick"==a.element?'<table cellpadding="1" cellspacing="0" border="0" style="font-size:0.9em;"><tr><td>Open:</td><td align="right"><strong>'+a.data.open+'</strong></td></tr><tr><td>High:</td><td align="right"><strong>'+a.data.high+'</strong></td></tr><tr><td>Low:</td><td align="right"><strong>'+a.data.low+'</strong></td></tr><tr><td>Close:</td><td align="right"><strong>'+
a.data.close+"</strong></td></tr>"+(void 0!==a.data.mid?'<tr><td>Mid:</td><td align="right"><strong>'+a.data.mid+"</strong></td></tr>":"")+"</table>":"bar"==a.element?a.x:a.y},o=function(a){return a.run&&a.run.data&&a.run.data[a.index]},p=Math.PI/4,A=Math.PI/2;return f("dojox.charting.action2d.Tooltip",g,{defaultParams:{text:m},optionalParams:{},constructor:function(a,b,c){this.text=c&&c.text?c.text:"dojox.charting.plot2d.StackedColumns"==a.stack[a.plots[b]].declaredClass?o:m;this.connect()},process:function(b){if("onplotreset"===
b.type||"onmouseout"===b.type)require(["dijit/Tooltip"],h.hitch(this,function(a){a.hide(this.aroundRect);this.aroundRect=null})),"onplotreset"===b.type&&delete this.angles;else if(b.shape&&"onmouseover"===b.type){var c={type:"rect"},f=["after-centered","before-centered"];switch(b.element){case "marker":c.x=b.cx;c.y=b.cy;c.w=c.h=1;break;case "circle":c.x=b.cx-b.cr;c.y=b.cy-b.cr;c.w=c.h=2*b.cr;break;case "spider_circle":c.x=b.cx;c.y=b.cy;c.w=c.h=1;break;case "spider_plot":return;case "column":f=["above-centered",
"below-centered"];case "bar":c=h.clone(b.shape.getShape());c.w=c.width;c.h=c.height;break;case "candlestick":c.x=b.x;c.y=b.y;c.w=b.width;c.h=b.height;break;default:if(!this.angles)this.angles="number"==typeof b.run.data[0]?d.map(d.scanl(b.run.data,"+",0),"* 2 * Math.PI / this",d.foldl(b.run.data,"+",0)):d.map(d.scanl(b.run.data,"a + b.y",0),"* 2 * Math.PI / this",d.foldl(b.run.data,"a + b.y",0));var g=e._degToRad(b.plot.opt.startAngle),g=(this.angles[b.index]+this.angles[b.index+1])/2+g;c.x=b.cx+
b.cr*Math.cos(g);c.y=b.cy+b.cr*Math.sin(g);c.w=c.h=1;g<p||(g<A+p?f=["below-centered","above-centered"]:g<Math.PI+p?f=["before-centered","after-centered"]:g<2*Math.PI-p&&(f=["above-centered","below-centered"]))}g=this.chart.getCoords();c.x="canvasWithEvents"==k.renderer||"canvas"==k.renderer?c.x+g.x:a.scaleMul(c.x+g.x,"x");c.y="canvasWithEvents"==k.renderer||"canvas"==k.renderer?c.y+=g.y:a.scaleMul(c.y+=g.y,"y");c.x=Math.round(c.x);c.y=Math.round(c.y);c.w=Math.ceil(c.w);c.h=Math.ceil(c.h);this.aroundRect=
c;var m=this.text(b);if(this.chart.getTextDir)var l="rtl"==i.get(this.chart.node,"direction"),o="rtl"==this.chart.getTextDir(m);(m||0==m)&&require(["dijit/Tooltip"],h.hitch(this,function(a){o&&!l?a.show("<span dir = 'rtl'>"+m+"</span>",this.aroundRect,f):!o&&l?a.show("<span dir = 'ltr'>"+m+"</span>",this.aroundRect,f):a.show(m,this.aroundRect,f)}))}}})})},"dojox/charting/action2d/PlotAction":function(){define("dojo/_base/connect,dojo/_base/declare,./Base,dojo/fx/easing,dojox/lang/functional,dojox/lang/functional/object".split(","),
function(l,h,f,i,g){var e=i.backOut;return h("dojox.charting.action2d.PlotAction",f,{overOutEvents:{onmouseover:1,onmouseout:1},constructor:function(d,c,b){this.anim={};b||(b={});this.duration=b.duration?b.duration:400;this.easing=b.easing?b.easing:e},connect:function(){this.handle=this.chart.connectToPlot(this.plot.name,this,"process")},disconnect:function(){if(this.handle)l.disconnect(this.handle),this.handle=null},reset:function(){},destroy:function(){this.inherited(arguments);g.forIn(this.anim,
function(d){g.forIn(d,function(c){c.action.stop(!0)})});this.anim={}}})})},"dojox/charting/action2d/Base":function(){define(["dojo/_base/lang","dojo/_base/declare"],function(l,h){return h("dojox.charting.action2d.Base",null,{constructor:function(f,i){this.chart=f;this.plot=i?l.isString(i)?this.chart.getPlot(i):i:this.chart.getPlot("default")},connect:function(){},disconnect:function(){},destroy:function(){this.disconnect()}})})},"dojo/fx/easing":function(){define(["../_base/lang"],function(l){var h=
{linear:function(f){return f},quadIn:function(f){return Math.pow(f,2)},quadOut:function(f){return-1*f*(f-2)},quadInOut:function(f){f*=2;return 1>f?Math.pow(f,2)/2:-1*(--f*(f-2)-1)/2},cubicIn:function(f){return Math.pow(f,3)},cubicOut:function(f){return Math.pow(f-1,3)+1},cubicInOut:function(f){f*=2;return 1>f?Math.pow(f,3)/2:(Math.pow(f-2,3)+2)/2},quartIn:function(f){return Math.pow(f,4)},quartOut:function(f){return-1*(Math.pow(f-1,4)-1)},quartInOut:function(f){f*=2;return 1>f?Math.pow(f,4)/2:-0.5*
(Math.pow(f-2,4)-2)},quintIn:function(f){return Math.pow(f,5)},quintOut:function(f){return Math.pow(f-1,5)+1},quintInOut:function(f){f*=2;return 1>f?Math.pow(f,5)/2:(Math.pow(f-2,5)+2)/2},sineIn:function(f){return-1*Math.cos(f*(Math.PI/2))+1},sineOut:function(f){return Math.sin(f*(Math.PI/2))},sineInOut:function(f){return-1*(Math.cos(Math.PI*f)-1)/2},expoIn:function(f){return 0==f?0:Math.pow(2,10*(f-1))},expoOut:function(f){return 1==f?1:-1*Math.pow(2,-10*f)+1},expoInOut:function(f){if(0==f)return 0;
if(1==f)return 1;f*=2;if(1>f)return Math.pow(2,10*(f-1))/2;--f;return(-1*Math.pow(2,-10*f)+2)/2},circIn:function(f){return-1*(Math.sqrt(1-Math.pow(f,2))-1)},circOut:function(f){return Math.sqrt(1-Math.pow(f-1,2))},circInOut:function(f){f*=2;return 1>f?-0.5*(Math.sqrt(1-Math.pow(f,2))-1):0.5*(Math.sqrt(1-Math.pow(f-2,2))+1)},backIn:function(f){return Math.pow(f,2)*(2.70158*f-1.70158)},backOut:function(f){f-=1;return Math.pow(f,2)*(2.70158*f+1.70158)+1},backInOut:function(f){f*=2;if(1>f)return Math.pow(f,
2)*(3.5949095*f-2.5949095)/2;f-=2;return(Math.pow(f,2)*(3.5949095*f+2.5949095)+2)/2},elasticIn:function(f){if(0==f||1==f)return f;f-=1;return-1*Math.pow(2,10*f)*Math.sin((f-0.075)*2*Math.PI/0.3)},elasticOut:function(f){return 0==f||1==f?f:Math.pow(2,-10*f)*Math.sin((f-0.075)*2*Math.PI/0.3)+1},elasticInOut:function(f){if(0==f)return 0;f*=2;if(2==f)return 1;var i=0.3*1.5,g=i/4;if(1>f)return f-=1,-0.5*Math.pow(2,10*f)*Math.sin((f-g)*2*Math.PI/i);f-=1;return 0.5*Math.pow(2,-10*f)*Math.sin((f-g)*2*Math.PI/
i)+1},bounceIn:function(f){return 1-h.bounceOut(1-f)},bounceOut:function(f){return f=f<1/2.75?7.5625*Math.pow(f,2):f<2/2.75?7.5625*Math.pow(f-1.5/2.75,2)+0.75:f<2.5/2.75?7.5625*Math.pow(f-2.25/2.75,2)+0.9375:7.5625*Math.pow(f-2.625/2.75,2)+0.984375},bounceInOut:function(f){return 0.5>f?h.bounceIn(2*f)/2:h.bounceOut(2*f-1)/2+0.5}};l.setObject("dojo.fx.easing",h);return h})},"dojox/lang/functional/scan":function(){define(["dojo/_base/kernel","dojo/_base/lang","./lambda"],function(l,h,f){var i={};h.mixin(f,
{scanl:function(g,e,d,c){"string"==typeof g&&(g=g.split(""));var c=c||l.global,e=f.lambda(e),b,a,k;if(h.isArray(g)){b=Array((a=g.length)+1);b[0]=d;for(k=0;k<a;d=e.call(c,d,g[k],k,g),b[++k]=d);}else if("function"==typeof g.hasNext&&"function"==typeof g.next){b=[d];for(k=0;g.hasNext();b.push(d=e.call(c,d,g.next(),k++,g)));}else for(k in b=[d],g)k in i||b.push(d=e.call(c,d,g[k],k,g));return b},scanl1:function(g,e,d){"string"==typeof g&&(g=g.split(""));var d=d||l.global,e=f.lambda(e),c,b,a;b=!0;if(h.isArray(g)){c=
Array(b=g.length);c[0]=a=g[0];for(var k=1;k<b;c[k]=a=e.call(d,a,g[k],k,g),++k);}else if("function"==typeof g.hasNext&&"function"==typeof g.next){if(g.hasNext()){c=[a=g.next()];for(k=1;g.hasNext();c.push(a=e.call(d,a,g.next(),k++,g)));}}else for(k in g)k in i||(b?(c=[a=g[k]],b=!1):c.push(a=e.call(d,a,g[k],k,g)));return c},scanr:function(g,e,d,c){"string"==typeof g&&(g=g.split(""));var c=c||l.global,e=f.lambda(e),b=g.length,a=Array(b+1),k=b;for(a[b]=d;0<k;--k,d=e.call(c,d,g[k],k,g),a[k]=d);return a},
scanr1:function(g,e,d){"string"==typeof g&&(g=g.split(""));var d=d||l.global,e=f.lambda(e),c=g.length,b=Array(c),a=g[c-1],c=c-1;for(b[c]=a;0<c;--c,a=e.call(d,a,g[c],c,g),b[c]=a);return b}})})},"dojox/charting/action2d/Highlight":function(){define("dojo/_base/kernel,dojo/_base/lang,dojo/_base/declare,dojo/_base/Color,dojo/_base/connect,dojox/color/_base,./PlotAction,dojo/fx/easing,dojox/gfx/fx".split(","),function(l,h,f,i,g,e,d,c,b){var a=function(a){return function(){return a}},k=function(a){a=(new e.Color(a)).toHsl();
0==a.s?a.l=50>a.l?100:0:(a.s=100,a.l=50>a.l?75:75<a.l?50:a.l-50>75-a.l?50:75);return e.fromHsl(a)};return f("dojox.charting.action2d.Highlight",d,{defaultParams:{duration:400,easing:c.backOut},optionalParams:{highlight:"red"},constructor:function(b,c,d){this.colorFun=(b=d&&d.highlight)?h.isFunction(b)?b:a(b):k;this.connect()},process:function(a){if(a.shape&&a.type in this.overOutEvents){var c=a.run.name,d=a.index,e;c in this.anim?e=this.anim[c][d]:this.anim[c]={};if(e)e.action.stop(!0);else{e=a.shape.getFill();
if(!e||!(e instanceof i))return;this.anim[c][d]=e={start:e,end:this.colorFun(e)}}var f=e.start,k=e.end;if("onmouseout"==a.type)var h=f,f=k,k=h;e.action=b.animateFill({shape:a.shape,duration:this.duration,easing:this.easing,color:{start:f,end:k}});"onmouseout"==a.type&&g.connect(e.action,"onEnd",this,function(){this.anim[c]&&delete this.anim[c][d]});e.action.play()}}})})},"dojox/charting/axis2d/comments":function(){define("dojo/_base/declare,dojo/_base/lang,./Default,./common,dojox/gfx,dojox/lang/utils,dojo/cssScale".split(","),
function(l,h,f,i,g,e){return l("dojox.charting.axis2d.comments",f,{defaultParams:{footnotes:"",footnotesFont:"normal normal normal 12pt Arial",footnotesFontColor:"red",writer:"",writerFont:"normal normal normal 12pt Arial",writerFontColor:"red",sources:"",sourcesFont:"normal normal normal 12pt Arial",sourcesFontColor:"red",type:""},optionsParams:{},constructor:function(d,c){this.opt=h.clone(this.defaultParams);e.updateWithObject(this.opt,c);e.updateWithPattern(this.opt,c,this.optionalParams)},cleanGroup:function(d){this.inherited(arguments)},
getOffsets:function(){var d={l:0,r:0,t:0,b:0,commentsHeight:0},c=this.opt.footnotesFont,b=this.opt.writerFont,a=this.opt.sourcesFont,c=c?g.normalizedLength(g.splitFontString(c).size):0,b=b?g.normalizedLength(g.splitFontString(b).size):0,a=a?g.normalizedLength(g.splitFontString(a).size):0;d.commentsHeight=Math.max(c,Math.max(b,a));return d},createText:function(d,c,b,a,e,f,g){return i.createText.gfx(this.chart,d,c,b,a,e,f,g)},render:function(d){this.cleanGroup();var c=this.group,b,a=this.chart&&this.chart.margins||
{t:10,r:10,b:10,l:10};this.opt.footnotes&&(b=this.createText(c,a.l,d.height-a.b,"left","\u811a\u6ce8 : "+this.opt.footnotes,this.opt.footnotesFont,this.opt.footnotesFontColor));this.opt.writer&&this.createText(c,a.l+(b?b.getTextWidth():0)+10,d.height-a.b,"left","\u4f5c\u8005 : "+this.opt.writer,this.opt.writerFont,this.opt.writerFontColor);this.opt.sources&&this.createText(c,d.width-a.r,d.height-a.b,"right","\u6570\u636e\u6765\u6e90 :\u3000"+this.opt.sources,this.opt.sourcesFont,this.opt.sourcesFontColor)}})})},
"dojox/charting/axis2d/legend":function(){define("dojo/_base/declare,dojo/_base/lang,./Default,dojox/gfx,dojox/lang/utils,dojox/lang/functional,dojo/_base/array".split(","),function(l,h,f,i,g,e,d){var c=/\.(StackedColumns|StackedAreas|ClusteredBars)$/;return l("dojox.charting.axis2d.legend",f,{margin:18,space:6,defaultParams:{font:"normal normal normal 9pt Arial",fontColor:"red",position:"right",maxWidthScale:0.6,isShow:!1,border:!1,type:"",rect:18,drawAxis:!0},optionsParams:{},constructor:function(b,
a){this.opt=h.clone(this.defaultParams);g.updateWithObject(this.opt,a);g.updateWithPattern(this.opt,a,this.optionalParams)},cleanGroup:function(b){this.inherited(arguments)},_getMaxHeight:function(){var b=this._getMaxWidth(),a=this._getEveryGroupw();return Math.ceil(this.num/Math.floor(b/a))*(this.textHeight+this.margin)},_getSumWidth:function(){return this._getEveryGroupw()*this.num},_getEveryGroupw:function(){return this.maxTextWidth+this.opt.rect+this.space+this.margin},_getMaxWidth:function(){var b=
this.dim.width*this.opt.maxWidthScale,a=this._getEveryGroupw(),c=this._getSumWidth();return this.horizontal?a>b?a:a*this.num<b?c:b:a},getOffsets:function(){if(this.opt.isShow){var b={};this.maxTextWidth=0;this.labels=[];this.num=0;var a=this.series=this.chart.series;this.dim=this.chart.dim;if(0!=a.length){d.forEach(a[0].chart.stack,function(a){var b=["rect"];/\.(Default|OHLC|StackedLines|Markers|Lines|dashedLine)$/.test(a.declaredClass)?(b=["line"],a.opt.lines||a.opt.dashedLine?a.opt.markers?b.push("line",
"scatter"):b.push("line","line"):b.push("scatter","scatter")):/\.(Scatter|MarkersOnly)$/.test(a.declaredClass)&&(b=["line","scatter","scatter"]);if(a.series)for(var c=0;c<a.series.length;c++)a.series[c].legendMarker=b});if("dojox.charting.plot2d.Pie"==a[0].chart.stack[0].declaredClass){var c=this.t=a[0].chart.stack[0];if("number"==typeof c.run.data[0]){a=e.map(c.run.data,"Math.max(x, 0)");if(e.every(a,"<= 0"))return;this.series=a=e.map(a,"/this",e.foldl(a,"+",0));d.forEach(a,function(a){this._getMaxTextWidth(c._getLabel(100*
a)+"%")},this)}else this.series=c.run.data,d.forEach(c.run.data,function(a){this._getMaxTextWidth(a.legend||a.text||a.y)},this)}else this._isReversal()&&(a=a.slice(0).reverse()),d.forEach(a,function(a){this._getMaxTextWidth(a.legend||a.name,a.notDraw)},this);this.textHeight=i.normalizedLength(i.splitFontString(this.opt.font).size);switch(this.opt.position){case "left":this.horizontal=!1;b.legendl=this._getMaxWidth();break;case "right":this.horizontal=!1;b.legendr=this._getMaxWidth();break;case "top":this.horizontal=
!0;b.legendt=this._getMaxHeight();break;case "top_right":this.horizontal=!0;b.legendt=this._getMaxHeight();break;case "top_left":this.horizontal=!0;b.legendt=this._getMaxHeight();break;case "bottom":this.horizontal=!0;b.legendb=this._getMaxHeight();break;case "bottom_right":this.horizontal=!0;b.legendb=this._getMaxHeight();break;case "bottom_left":this.horizontal=!0,b.legendb=this._getMaxHeight()}this.offsets=h.clone(b);return b}}},_addLabel:function(b,a){this._makeIcon(b,a)},_makeIcon:function(b,
a){var c=this.opt.rect,d=this.opt.rect,e=this._getEveryGroupw(),f=this._getMaxWidth();if(e*(this._incol+1)>f)this._inrow++,this._incol=0;e=this.offsets.x+this.margin/2+e*this._incol;f=this.offsets.y+this.margin/2+(this.margin+this.textHeight)*this._inrow;this.horizontal?this._incol++:this._inrow++;this.surface.createText({x:e+d+this.space,y:f,text:a,align:"left",textBaseline:"middle"}).setFont(this.opt.font).setFill(this.chart.theme.axis.tick.fontColor);"rect"==b.legendMarker[0]&&b.fill?this.chart.series[0].fill instanceof
Array?(this.surface.createRect({x:e,y:f-c/2,width:d/2,height:c}).setFill(this.chart.series[0].fill[0]).setStroke(b.stroke),this.surface.createRect({x:e+d/2,y:f-c/2,width:d/2,height:c}).setFill(this.chart.series[0].fill[1]).setStroke(b.stroke)):this.surface.createRect({x:e,y:f-c/2,width:d,height:c}).setFill(b.fill).setStroke(b.stroke):"line"==b.legendMarker[0]&&(b.stroke||b.marker)?(c={x1:e,y1:f,x2:e+d,y2:f},"line"==b.legendMarker[1]&&b.stroke&&(b.stroke.color instanceof Array?(c={x1:e+d/2,y1:f,x2:e+
d,y2:f},this.surface.createLine({x1:e,y1:f,x2:e+d/2,y2:f}).setStroke(b.stroke.color[0]),this.surface.createLine(c).setStroke(b.stroke.color[1])):this.surface.createLine(c).setStroke(b.stroke)),"scatter"==b.legendMarker[2]&&b.marker&&(b.stroke?b.stroke.color instanceof Array?this.surface.createPath({path:"M"+(e+d/2)+" "+f+" "+b.marker}).setFill(b.stroke.color[0]).setStroke(b.stroke.color[1]):this.surface.createPath({path:"M"+(e+d/2)+" "+f+" "+b.marker}).setFill(b.stroke.color).setStroke(b.stroke):
this.surface.createPath({path:"M"+(e+d/2)+" "+f+" "+b.marker}).setFill(b.markerFill).setStroke(b.markerStroke))):(this.surface.createRect({x:e,y:f-c/2,width:d,height:c}).setStroke("black"),this.surface.createLine({x1:e,y1:f-c/2,x2:e+d,y2:f+c/2}).setStroke("black"),this.surface.createLine({x1:e,y1:f+c/2,x2:e+d,y2:f-c/2}).setStroke("black"))},_getMaxTextWidth:function(b,a){a?this.labels.push(""):(this.num++,this.labels.push(b),this.maxTextWidth=Math.max(this.chart.surface.getTextWidth(b,this.opt.font),
this.maxTextWidth))},render:function(){if(this.opt.isShow){this.cleanGroup();this._inrow=this._incol=0;this.surface=this.group;var b=this.chart.margins;switch(this.opt.position){case "left":this.offsets.x=b.l;this.offsets.y=this.chart.offsets.t+this.textHeight/2;break;case "right":this.offsets.x=this.dim.width-this.offsets.legendr-b.r;this.offsets.y=this.chart.offsets.t+this.textHeight/2;break;case "top":this.offsets.x=(this.dim.width-this._getMaxWidth())/2;this.offsets.y=this.chart.offsets.t-this.offsets.legendt+
this.textHeight/2;break;case "top_left":this.offsets.x=this.chart.offsets.l;this.offsets.y=this.chart.offsets.t-this.offsets.legendt+this.textHeight/2;break;case "top_right":this.offsets.x=this.dim.width-this._getMaxWidth()-this.chart.offsets.r;this.offsets.y=this.chart.offsets.t-this.offsets.legendt+this.textHeight/2;break;case "bottom":this.offsets.x=(this.dim.width-this._getMaxWidth())/2;this.offsets.y=this.dim.height-(this.chart.offsets.commentsHeight?this.chart.offsets.commentsHeight:0)-b.b-
this.offsets.legendb+this.textHeight/2;break;case "bottom_left":this.offsets.x=this.chart.offsets.l;this.offsets.y=this.dim.height-(this.chart.offsets.commentsHeight?this.chart.offsets.commentsHeight:0)-b.b-this.offsets.legendb+this.textHeight/2;break;case "bottom_right":this.offsets.x=this.dim.width-this._getMaxWidth()-this.chart.offsets.r,this.offsets.y=this.dim.height-(this.chart.offsets.commentsHeight?this.chart.offsets.commentsHeight:0)-b.b-this.offsets.legendb+this.textHeight/2}var a;d.forEach(this.series,
function(b,c){if(!b.notDraw)a=this.t?this.t.dyn[c]:b.dyn,a.legendMarker=b.legendMarker?b.legendMarker:["rect"],this._addLabel(a,this.labels[c])},this);this.opt.border&&this.surface.createRect({x:this.offsets.x,y:this.offsets.y-this.textHeight/2,width:this._getMaxWidth(),height:this._getMaxHeight()}).setStroke(this.chart.theme.axis.tick.fontColor)}},_isReversal:function(){return!this.horizontal&&d.some(this.chart.stack,function(b){return c.test(b.declaredClass)})}})})},"dojox/charting/themes/CustomColor":function(){define(["../Theme",
"dojox/gfx/gradutils","./common"],function(l,h,f){h=l.generateGradient;defaultFill={type:"linear",space:"shape",x1:0,y1:0,x2:0,y2:100};f.CustomColor=new l({chart:{fill:"#000000",stroke:{color:"#000000"},titleText:"",titleGap:25,titleFont:"normal normal normal 15pt Arial",titleFontColor:"#ff9900",titleOrientation:"axis",titlePos:"top",subTitleFont:"normal normal normal 12pt Arial",subTitleFontColor:"#ff9900"},dataShowStyle:{font:"normal normal normal 15pt Arial",fontColor:"#6f747b",width:2},plotarea:{fill:h(defaultFill,
"#17252c","#000000")},axis:{stroke:{color:"#878787",width:2},tick:{font:"normal normal normal 12pt Helvetica, Arial, sans-serif",fontColor:"#6f747b",title:"",titleGap:25,titleFont:"normal normal normal 12pt Arial",titleFontColor:"#ff9900",titleOrientation:"axis",titlePos:"top"},majorTick:{color:"#5f5d5b",width:1,length:6},minorTick:{color:"gray",width:0.8,length:3}},crosshairs:{hLine:{height:"2px",background:"#3c72ae","line-height":"100%"},vLine:{width:"2px",background:"#3c72ae"},datebubble:{background:"#fff",
"font-size":"12px","border-radius":"2px",position:"absolute",color:"#587eb5","text-align":"center",width:"80px",height:"18px","line-height":"17px",border:"2px solid #587eb5"},dailyMarkPoint:{position:"absolute","font-size":"12px",width:"135px",background:"#3d70ae",opacity:"0.85","border-radius":"4px","text-shadow":"1px 1px #244f84",padding:"4px","text-align":"center","line-height":"1.6"},h4:{"font-weight":"normal",color:"#ffc13b",margin:"0"},p:{color:"#fff",margin:"0"},datebubble_down:{width:"5px",
height:"5px","border-top":"#587eb5 2px solid","border-left":"#587eb5 2px solid",position:"absolute",background:"#fff",top:"15px",left:"36px","border-radius":"2px","-webkit-transform":"rotate(238deg) skew(28deg, 0deg)"},datebubble_left:{width:"5px",height:"5px","border-top":"#587eb5 2px solid","border-left":"#587eb5 2px solid",position:"absolute",background:"#fff",top:"6px",left:"-5px","border-radius":"2px","-webkit-transform":"rotate(-32deg) skew(28deg, 0deg)"},datebubble_right:{width:"5px",height:"5px",
"border-top":"#587eb5 2px solid","border-left":"#587eb5 2px solid",position:"absolute",background:"#fff",top:"5px",right:"-5px","border-radius":"2px","-webkit-transform":"rotate(148deg) skew(28deg, 0deg)"},datebubble_up:{width:"5px",height:"5px","border-top":"#587eb5 2px solid","border-left":"#587eb5 2px solid",position:"absolute",background:"#fff",top:"-5px",left:"36px","border-radius":"2px","-webkit-transform":"rotate(58deg) skew(28deg, 0deg)"}},seriesThemes:[{fill:"#880808",stroke:{color:"#880808"}},
{fill:"#ff7e03",stroke:{color:"#ff7e03"}},{fill:"#ffdf05",stroke:{color:"#ffdf05"}},{fill:"#82b61e",stroke:{color:"#82b61e"}},{fill:"#21bfc1",stroke:{color:"#21bfc1"}},{fill:"#1568c5",stroke:{color:"#1568c5"}},{fill:"#640098",stroke:{color:"#640098"}},{fill:"#ef6782",stroke:{color:"#ef6782"}},{fill:"#f0eb7a",stroke:{color:"#f0eb7a"}},{fill:"#3bd6b2",stroke:{color:"#3bd6b2"}},{fill:"#177179",stroke:{color:"#177179"}},{fill:"#4189dd",stroke:{color:"#4189dd"}},{fill:"#db0c41",stroke:{color:"#db0c41"}},
{fill:"#c3d71a",stroke:{color:"#c3d71a"}},{fill:"#8d65d2",stroke:{color:"#8d65d2"}},{fill:"#63d13e",stroke:{color:"#63d13e"}},{fill:"#00355a",stroke:{color:"#00355a"}},{fill:"#a06871",stroke:{color:"#a06871"}},{fill:"#ff3131",stroke:{color:"#ff3131"}},{fill:"#d83d00",stroke:{color:"#d83d00"}}],markerThemes:[{fill:"#880808",stroke:{color:"#880808"}},{fill:"#ff7e03",stroke:{color:"#ff7e03"}},{fill:"#ffdf05",stroke:{color:"#ffdf05"}},{fill:"#82b61e",stroke:{color:"#82b61e"}},{fill:"#21bfc1",stroke:{color:"#21bfc1"}},
{fill:"#1568c5",stroke:{color:"#1568c5"}},{fill:"#640098",stroke:{color:"#640098"}},{fill:"#ef6782",stroke:{color:"#ef6782"}},{fill:"#f0eb7a",stroke:{color:"#f0eb7a"}},{fill:"#3bd6b2",stroke:{color:"#3bd6b2"}},{fill:"#177179",stroke:{color:"#177179"}},{fill:"#4189dd",stroke:{color:"#4189dd"}},{fill:"#db0c41",stroke:{color:"#db0c41"}},{fill:"#c3d71a",stroke:{color:"#c3d71a"}},{fill:"#8d65d2",stroke:{color:"#8d65d2"}},{fill:"#63d13e",stroke:{color:"#63d13e"}},{fill:"#00355a",stroke:{color:"#00355a"}},
{fill:"#a06871",stroke:{color:"#a06871"}},{fill:"#ff3131",stroke:{color:"#ff3131"}},{fill:"#d83d00",stroke:{color:"#d83d00"}}]});f.CustomColor.next=function(f,g,e,d){var c="line"==f;if(c||"area"==f){var b=this.seriesThemes[(d||0==d?d:this._current)%this.seriesThemes.length];b.fill.space="plot";if(c)b.stroke={width:2,color:b.fill};c=l.prototype.next.apply(this,arguments);delete b.outline;delete b.stroke;b.fill.space="shape";return c}return l.prototype.next.apply(this,arguments)};return f.CustomColor})},
"dojox/charting/themes/common":function(){define(["dojo/_base/lang"],function(l){return l.getObject("dojox.charting.themes",!0)})},"dojox/charting/themes/WhiteCustom":function(){define(["../Theme","dojox/gfx/gradutils","./common"],function(l,h,f){h=l.generateGradient;defaultFill={type:"linear",space:"shape",x1:0,y1:0,x2:0,y2:100};f.WhiteCustom=new l({chart:{fill:"#d3d8d7",stroke:{color:"#d3d8d7"},titleText:"",titleGap:20,titleFont:"normal normal normal 15pt Arial",titleFontColor:"#5f5e5e",titleOrientation:"axis",
titlePos:"top",subTitleFont:"normal normal normal 12pt Arial",subTitleFontColor:"#000"},dataShowStyle:{font:"normal normal normal 15pt Arial",fontColor:"#000",width:2},plotarea:{fill:h(defaultFill,"#ffffff","#f3f3f3")},axis:{stroke:{color:"#686868",width:1},tick:{font:"normal normal normal 12pt Helvetica, Arial, sans-serif",fontColor:"#606060",title:"",titleGap:25,titleFont:"normal 12pt Arial",titleFontColor:"#ff9900",titleOrientation:"axis",titlePos:"top"},majorTick:{color:"#98a7ab",width:1,length:6},
minorTick:{color:"gray",width:0.8,length:3}},crosshairs:{hLine:{height:"2px",background:"#3c72ae","line-height":"100%"},vLine:{width:"2px",background:"#3c72ae"},datebubble:{background:"#fff","font-size":"12px","border-radius":"2px",position:"absolute",color:"#587eb5","text-align":"center",width:"80px",height:"18px","line-height":"17px",border:"2px solid #587eb5"},dailyMarkPoint:{position:"absolute","font-size":"12px",width:"135px",background:"#3d70ae",opacity:"0.85","border-radius":"4px","text-shadow":"1px 1px #244f84",
padding:"4px","text-align":"center","line-height":"1.6"},h4:{"font-weight":"normal",color:"#ffc13b",margin:"0"},p:{color:"#fff",margin:"0"},datebubble_down:{width:"5px",height:"5px","border-top":"#587eb5 2px solid","border-left":"#587eb5 2px solid",position:"absolute",background:"#fff",top:"15px",left:"36px","border-radius":"2px","-webkit-transform":"rotate(238deg) skew(28deg, 0deg)"},datebubble_left:{width:"5px",height:"5px","border-top":"#587eb5 2px solid","border-left":"#587eb5 2px solid",position:"absolute",
background:"#fff",top:"6px",left:"-5px","border-radius":"2px","-webkit-transform":"rotate(-32deg) skew(28deg, 0deg)"},datebubble_right:{width:"5px",height:"5px","border-top":"#587eb5 2px solid","border-left":"#587eb5 2px solid",position:"absolute",background:"#fff",top:"5px",right:"-5px","border-radius":"2px","-webkit-transform":"rotate(148deg) skew(28deg, 0deg)"},datebubble_up:{width:"5px",height:"5px","border-top":"#587eb5 2px solid","border-left":"#587eb5 2px solid",position:"absolute",background:"#fff",
top:"-5px",left:"36px","border-radius":"2px","-webkit-transform":"rotate(58deg) skew(28deg, 0deg)"}},seriesThemes:[{fill:"#880808",stroke:{color:"#880808"}},{fill:"#ff7e03",stroke:{color:"#ff7e03"}},{fill:"#ffdf05",stroke:{color:"#ffdf05"}},{fill:"#82b61e",stroke:{color:"#82b61e"}},{fill:"#21bfc1",stroke:{color:"#21bfc1"}},{fill:"#1568c5",stroke:{color:"#1568c5"}},{fill:"#640098",stroke:{color:"#640098"}},{fill:"#ef6782",stroke:{color:"#ef6782"}},{fill:"#f0eb7a",stroke:{color:"#f0eb7a"}},{fill:"#3bd6b2",
stroke:{color:"#3bd6b2"}},{fill:"#177179",stroke:{color:"#177179"}},{fill:"#4189dd",stroke:{color:"#4189dd"}},{fill:"#db0c41",stroke:{color:"#db0c41"}},{fill:"#c3d71a",stroke:{color:"#c3d71a"}},{fill:"#8d65d2",stroke:{color:"#8d65d2"}},{fill:"#63d13e",stroke:{color:"#63d13e"}},{fill:"#00355a",stroke:{color:"#00355a"}},{fill:"#a06871",stroke:{color:"#a06871"}},{fill:"#ff3131",stroke:{color:"#ff3131"}},{fill:"#d83d00",stroke:{color:"#d83d00"}}],markerThemes:[{fill:"#880808",stroke:{color:"#880808"}},
{fill:"#ff7e03",stroke:{color:"#ff7e03"}},{fill:"#ffdf05",stroke:{color:"#ffdf05"}},{fill:"#82b61e",stroke:{color:"#82b61e"}},{fill:"#21bfc1",stroke:{color:"#21bfc1"}},{fill:"#1568c5",stroke:{color:"#1568c5"}},{fill:"#640098",stroke:{color:"#640098"}},{fill:"#ef6782",stroke:{color:"#ef6782"}},{fill:"#f0eb7a",stroke:{color:"#f0eb7a"}},{fill:"#3bd6b2",stroke:{color:"#3bd6b2"}},{fill:"#177179",stroke:{color:"#177179"}},{fill:"#4189dd",stroke:{color:"#4189dd"}},{fill:"#db0c41",stroke:{color:"#db0c41"}},
{fill:"#c3d71a",stroke:{color:"#c3d71a"}},{fill:"#8d65d2",stroke:{color:"#8d65d2"}},{fill:"#63d13e",stroke:{color:"#63d13e"}},{fill:"#00355a",stroke:{color:"#00355a"}},{fill:"#a06871",stroke:{color:"#a06871"}},{fill:"#ff3131",stroke:{color:"#ff3131"}},{fill:"#d83d00",stroke:{color:"#d83d00"}}]});f.WhiteCustom.next=function(f,g,e,d){var c="line"==f;if(c||"area"==f){var b=this.seriesThemes[(d||0==d?d:this._current)%this.seriesThemes.length];b.fill.space="plot";if(c)b.stroke={width:2,color:b.fill};c=
l.prototype.next.apply(this,arguments);delete b.outline;delete b.stroke;b.fill.space="shape";return c}return l.prototype.next.apply(this,arguments)};return f.WhiteCustom})},"dojox/charting/action2d/MoveSlice":function(){define("dojo/_base/connect,dojo/_base/declare,./PlotAction,dojo/fx/easing,dojox/gfx/matrix,dojox/gfx/fx,dojox/lang/functional,dojox/lang/functional/scan,dojox/lang/functional/fold".split(","),function(l,h,f,i,g,e,d){return h("dojox.charting.action2d.MoveSlice",f,{defaultParams:{duration:400,
easing:i.backOut,scale:1.05,shift:7},optionalParams:{},constructor:function(c,b,a){a||(a={});this.scale="number"==typeof a.scale?a.scale:1.05;this.shift="number"==typeof a.shift?a.shift:7;this.connect()},process:function(c){if(c.shape&&"slice"==c.element&&c.type in this.overOutEvents){if(!this.angles){var b=g._degToRad(c.plot.opt.startAngle);this.angles="number"==typeof c.run.data[0]?d.map(d.scanl(c.run.data,"+",b),"* 2 * Math.PI / this",d.foldl(c.run.data,"+",0)):d.map(d.scanl(c.run.data,"a + b.y",
b),"* 2 * Math.PI / this",d.foldl(c.run.data,"a + b.y",0))}var a=c.index,f,i,h,p,A;f=(this.angles[a]+this.angles[a+1])/2;var b=g.rotateAt(-f,c.cx,c.cy),t=g.rotateAt(f,c.cx,c.cy);(f=this.anim[a])?f.action.stop(!0):this.anim[a]=f={};"onmouseover"==c.type?(p=0,A=this.shift,i=1,h=this.scale):(p=this.shift,A=0,i=this.scale,h=1);f.action=e.animateTransform({shape:c.shape,duration:this.duration,easing:this.easing,transform:[t,{name:"translate",start:[p,0],end:[A,0]},{name:"scaleAt",start:[i,c.cx,c.cy],end:[h,
c.cx,c.cy]},b]});"onmouseout"==c.type&&l.connect(f.action,"onEnd",this,function(){delete this.anim[a]});f.action.play()}},reset:function(){delete this.angles}})})},"dojox/charting/action2d/Magnify":function(){define("dojo/_base/connect,dojo/_base/declare,./PlotAction,dojox/gfx/matrix,dojox/gfx/fx,dojo/fx,dojo/fx/easing".split(","),function(l,h,f,i,g,e,d){return h("dojox.charting.action2d.Magnify",f,{defaultParams:{duration:400,easing:d.backOut,scale:2},optionalParams:{},constructor:function(c,b,a){this.scale=
a&&"number"==typeof a.scale?a.scale:2;this.connect()},process:function(c){if(c.shape&&c.type in this.overOutEvents&&"cx"in c&&"cy"in c){var b=c.run.name,a=c.index,d=[],f,h,p;b in this.anim?f=this.anim[b][a]:this.anim[b]={};f?f.action.stop(!0):this.anim[b][a]=f={};"onmouseover"==c.type?(h=i.identity,p=this.scale):(h=i.scaleAt(this.scale,c.cx,c.cy),p=1/this.scale);h={shape:c.shape,duration:this.duration,easing:this.easing,transform:[{name:"scaleAt",start:[1,c.cx,c.cy],end:[p,c.cx,c.cy]},h]};c.shape&&
d.push(g.animateTransform(h));if(c.outline)h.shape=c.outline,d.push(g.animateTransform(h));if(c.shadow)h.shape=c.shadow,d.push(g.animateTransform(h));d.length?(f.action=e.combine(d),"onmouseout"==c.type&&l.connect(f.action,"onEnd",this,function(){this.anim[b]&&delete this.anim[b][a]}),f.action.play()):delete this.anim[b][a]}}})})},"dojox/charting/widget/exportChart":function(){define("dojo/_base/lang,dojo/_base/declare,dojo/dom,dojo/dom-construct,dojo/dom-class,dijit/_base/manager,dojo/_base/window,./Chart,dojo/query,dijit/form/Button,dojo/_base/array".split(","),
function(l,h,f,i,g,e,d,c,b,a){return h("dojox.charting.widget.exportChart",a,{chartRef:"",copychartW:1024,copychartH:800,label:"\u56fe\u5f62\u5bfc\u51fa",constructor:function(a){this.chart=a.chart},postCreate:function(){if(!this.chart&&this.chartRef){this.chart=e.byId(this.chartRef);if(!this.chart){var a=f.byId(this.chartRef);if(a)this.chart=e.byNode(a);else return}this.chart=this.chart.chart}},buildRendering:function(){this.inherited(arguments);this.exportNode=i.create("div",{style:"position: absolute;display: none;"},
d.body())},_onClick:function(){this.exportChartNode=i.create("div",null,this.exportNode);this.exportCanvas=i.create("canvas",{style:"width:1200px;height:800px"},this.exportNode);var a=this.chart.kwArgs;a.titleHtmlLabels=!1;a.stroke=this.chart.theme.chart.fill;this.chartcopy=new c(a,this.exportChartNode);this.chartcopy.chart.surface.rawNode.width=this.copychartW;this.chartcopy.chart.surface.rawNode.height=this.copychartH;this.chartcopy.chart.seriesNum=this.chart.seriesNum;this.chartcopy.chart.colorTag=
this.chart.colorTag;this.chartcopy.setTheme(this.chart.theme);for(var b in this.chart.stack)a=this.chart.stack[b].kwArgs,a.htmlLabels=!1,"dojox.charting.plot2d.Spider"==this.chart.stack[b].declaredClass&&(a.duration=0),this.chartcopy.addPlot(this.chart.stack[b].name,a);for(b in this.chart.series)this.chartcopy.addSeries(this.chart.series[b].name,{data:this.chart.series[b].data},this.chart.series[b].kwArgs);for(b in this.chart.axes)a=this.chart.axes[b].kwArgs,a.htmlLabels=!1,this.chartcopy.addAxis(this.chart.axes[b].name,
a);this.chartcopy.render();var d=this;b=new Image;b.onload=function(){window.external&&window.external.saveas?window.external.saveas(d.chartcopy.chart.surface.rawNode.toDataURL("image/png").split(",").pop(),d.chartcopy.chart.title||"\u8bf7\u8f93\u5165\u56fe\u7247\u540d\u79f0","jpg"):document.location.href=d.chartcopy.chart.surface.rawNode.toDataURL("image/png").replace("image/png","image/octet-stream");d.chartcopy.destroyRecursive();i.destroy(d.exportNode)};b.src=d.chartcopy.chart.surface.rawNode.toDataURL("image/png")}})})},
"dojox/charting/action2d/Crosshairs":function(){define("dojo/_base/lang,dojo/_base/declare,dojo/_base/connect,dojo/_base/window,dojo/_base/sniff,./ChartAction,./_IndicatorElement,dojox/lang/utils,dojo/_base/event,dojo/_base/array,dojo/dom-construct,dojo/dom,dojo/cssScale,dojo/dom-geometry".split(","),function(l,h,f,i,g,e,d,c,b,a,k,m,o,p){return h("dojox.charting.action2d.Crosshairs",e,{defaultParams:{decimals:2,labels:null},optionalParams:{},constructor:function(a,b){this._listeners=[{eventName:"mousemove",
methodName:"onMouseMove"}];this.opt=l.clone(this.defaultParams);c.updateWithObject(this.opt,b);c.updateWithPattern(this.opt,b,this.optionalParams);k.place("<div id='Crosshairs_"+this.chart.node.id+"' style ='position: absolute; width : 100% ' ></div>",this.chart.node.id,"last");this._handles=[];this.connect()},_disconnectHandles:function(){a.forEach(this._handles,f.disconnect);this._handles=[]},connect:function(){this.inherited(arguments)},disconnect:function(){this.inherited(arguments);this._disconnectHandles()},
onMouseMove:function(a){this.axis=this._getAxis();this._onMouseMove(a)},_onMouseMove:function(a){var b=m.byId("Crosshairs_"+this.chart.node.id),c=p.position(m.byId(this.chart.node.id+"_canvas"),!1),d=JSON.stringify(this.chart.theme.crosshairs.datebubble),d=d.substring(1,d.length-1).replace(/","/g,";").replace(/"/g,""),e=JSON.stringify(this.chart.theme.crosshairs.dailyMarkPoint),e=e.substring(1,e.length-1).replace(/","/g,";").replace(/"/g,""),f=JSON.stringify(this.chart.theme.crosshairs.datebubble_right),
f=f.substring(1,f.length-1).replace(/","/g,";").replace(/"/g,""),g=JSON.stringify(this.chart.theme.crosshairs.datebubble_left),g=g.substring(1,g.length-1).replace(/","/g,";").replace(/"/g,""),k=JSON.stringify(this.chart.theme.crosshairs.datebubble_up),k=k.substring(1,k.length-1).replace(/","/g,";").replace(/"/g,""),i=JSON.stringify(this.chart.theme.crosshairs.vLine),i=i.substring(1,i.length-1).replace(/","/g,";").replace(/"/g,""),h=JSON.stringify(this.chart.theme.crosshairs.hLine),h=h.substring(1,
h.length-1).replace(/","/g,";").replace(/"/g,""),l=Math.round(a.pageX-c.x),a=Math.round(a.pageY-c.y),c=this.chart.offsets.l+(this.chart.dim.width-this.chart.offsets.r-this.chart.offsets.l)/2,K="; left:"+this.chart.offsets.l/o.getScaleX(),L="; right:"+this.chart.offsets.r/o.getScaleX(),H,Q;l>c?(H=K,Q="left"):(H=L,Q="right");l>this.chart.offsets.l&&l<this.chart.dim.width-this.chart.offsets.r&&a<this.chart.dim.height-this.chart.offsets.b&&a>this.chart.offsets.t?(c=this.getXIndex(l),K=this.getLeftAndRight(a),
h=""+('<div style="position: absolute; z-index: 1003; left:'+this.chart.offsets.l/o.getScaleX()+"px;top:"+a/o.getScaleY()+"px; width:"+(this.chart.dim.width-this.chart.offsets.l-this.chart.offsets.r)+"px;"+h),h+=";-webkit-transform-origin:left top;-webkit-transform:scale("+1/o.getScaleX()+","+1/o.getScaleY()+')">',h+="</div>",K.left&&(h+="<div id='xLabelLeft' style='"+d+"; left:"+(this.chart.offsets.l-80-5)/o.getScaleX()+"px; top: "+(a-10)/o.getScaleY()+"px; z-index: 1003;-webkit-transform-origin:left top;-webkit-transform:  scale("+
1/o.getScaleX()+","+1/o.getScaleY()+")'><strong>"+K.left+"</strong><div style = '"+f+"'></div></div>"),K.right&&(h+="<div style='"+d+"; left:"+(this.chart.dim.width-this.chart.offsets.r)/o.getScaleX()+"px; top: "+(a-10)/o.getScaleY()+"px; z-index: 1003;-webkit-transform-origin:left top;-webkit-transform:scale("+1/o.getScaleX()+","+1/o.getScaleY()+")'><strong>"+K.right+"</strong><div style = '"+g+"'></div></div>"),h+='<div style="position: absolute; z-index: 10003; top:'+this.chart.offsets.t/o.getScaleY()+
"px; left:"+l/o.getScaleX()+"px; height:"+(this.chart.dim.height-this.chart.offsets.t-this.chart.offsets.b)+"px; "+i,h+=";-webkit-transform-origin:left top;-webkit-transform:scale("+1/o.getScaleX()+","+1/o.getScaleY()+')">',h=h+"</div>"+("<div style='"+d+"; z-index: 1003; left:"+(l-40)/o.getScaleX()+"px; top:"+(this.chart.dim.height-this.chart.offsets.b)/o.getScaleY()+"px;-webkit-transform-origin:left top;-webkit-transform:scale("+1/o.getScaleX()+","+1/o.getScaleY()+")'><strong>"+this.getSub(c)+"</strong><div style = '"+
k+"'></div></div>"),h+="<div style='"+e+"; z-index: 10008"+H+"px; top:"+this.chart.offsets.t/o.getScaleY()+"px;-webkit-transform-origin:"+Q+" top;-webkit-transform:scale("+1/o.getScaleX()+","+1/o.getScaleY()+")'>"+this.getpromptHtml(c),b.style.display="",b.innerHTML=h):b.style.display="none"},getXIndex:function(a){var b=0;a>this.chart.firstlablex+this.chart.xlablescale/2&&(b+=Math.ceil((a-(this.chart.firstlablex+this.chart.xlablescale/2))/this.chart.xlablescale));return b},getpromptHtml:function(a){var b=
JSON.stringify(this.chart.theme.crosshairs.h4),b=b.substring(1,b.length-1).replace(/","/g,";").replace(/"/g,""),c=JSON.stringify(this.chart.theme.crosshairs.p),c=c.substring(1,c.length-1).replace(/","/g,";").replace(/"/g,""),b='<h4 style = "'+b+'">'+this.getSub(a)+" &nbsp</h4>",d;for(d in this.chart.series)this.chart.series[d].notDraw||(this.chart.stack[this.chart.plots[this.chart.series[d].plot]].declaredClass.split(".").pop(),b+='<p style = "'+c+'">'+this.chart.series[d].name+":&nbsp"+(this.chart.series[d].data[a]||
0==this.chart.series[d].data[a]?this.chart.series[d].data[a]:this.chart.series[d].oneData?this.chart.series[d].data[0]:"--")+"&nbsp</p>");return b},getSub:function(a){return this.opt.labels?this.opt.labels[a]:a+1},getLeftAndRight:function(a){var b={},c;for(c in this.axis){var d=this.chart.position.eachAreaHeight*this.chart.position.areaIndexT[this.chart.axes[c].opt.position];if(this.chart.offsets.t+(this.chart.position.eachAreaHeight*this.chart.position.areaIndexB[this.chart.axes[c].opt.position]+
(this.chart.position.areaIndexT[this.chart.axes[c].opt.position]==this.chart.position.plotAreaNum-1?0:this.chart.position.margin))<a&&a<this.chart.dim.height-this.chart.offsets.b-d)this.chart.axes[c].opt.leftBottom?b.left=(this.chart.axes[c].scaler.bounds.from+(this.chart.dim.height-this.chart.offsets.b-d-a)/this.chart.axes[c].scaler.bounds.scale).toFixed(this.opt.decimals):b.right=(this.chart.axes[c].scaler.bounds.from+(this.chart.dim.height-this.chart.offsets.b-d-a)/this.chart.axes[c].scaler.bounds.scale).toFixed(this.opt.decimals)}return b},
_getAxis:function(){var a={},b;for(b in this.chart.series)this.chart.series[b].notDraw||(a[this.chart.stack[this.chart.plots[this.chart.series[b].plot]].vAxis]=0);return a},_getXY:function(a){var b=0,c=0;do b+=a.offsetLeft,c+=a.offsetTop,a=a.offsetParent;while(a&&"body"!=a.tagName.toLowerCase());return[b,c]}})})},"dojox/charting/action2d/ChartAction":function(){define(["dojo/_base/connect","dojo/_base/declare","./Base"],function(l,h,f){return h("dojox.charting.action2d.ChartAction",f,{constructor:function(){},
connect:function(){for(var f=0;f<this._listeners.length;++f)this._listeners[f].handle=l.connect(this.chart.node,this._listeners[f].eventName,this,this._listeners[f].methodName)},disconnect:function(){for(var f=0;f<this._listeners.length;++f)l.disconnect(this._listeners[f].handle),delete this._listeners[f].handle}})})},"dojox/charting/action2d/_IndicatorElement":function(){define("dojo/_base/lang,dojo/_base/declare,../plot2d/Base,../plot2d/common,../axis2d/common,dojox/gfx".split(","),function(l,h,
f,i,g,e){var d=function(b){var a=b.declaredClass,d;if(-1!=a.indexOf("svg"))try{return l.mixin({},b.rawNode.getBBox())}catch(f){}else{if(-1!=a.indexOf("vml")){var g=b.rawNode,i=g.style.display;g.style.display="inline";a=e.pt2px(parseFloat(g.currentStyle.width));d=e.pt2px(parseFloat(g.currentStyle.height));a={x:0,y:0,width:a,height:d};c(b,a);g.style.display=i;return a}if(-1!=a.indexOf("silverlight"))return c(b,{width:b.rawNode.actualWidth,height:b.rawNode.actualHeight},0.75);if(b.getTextWidth)return a=
b.getTextWidth(),g=b.getFont(),d=e.normalizedLength(g?g.size:e.defaultFont.size),a={width:a,height:d},c(b,a,0.75),a}return null},c=function(b,a,c){var d=a.width,e=a.height,b=b.getShape();switch(b.align){case "end":a.x=b.x-d;break;case "middle":a.x=b.x-d/2;break;default:a.x=b.x}a.y=b.y-e*(c||1);return a};return h(f,{constructor:function(b,a){a||(a={});this.inter=a.inter},_updateVisibility:function(b,a,c){var d="x"==c?this.inter.plot._hAxis:this.inter.plot._vAxis,e=d.getWindowScale();this.chart.setAxisWindow(d.name,
e,d.getWindowOffset()+(b[c]-a[c])/e);this._noDirty=!0;this.chart.render();this._noDirty=!1;this._tracker||this.initTrack()},_trackMove:function(){this._updateIndicator(this.pageCoord);if(this._initTrackPhase)this._initTrackPhase=!1,this._tracker=setInterval(l.hitch(this,this._trackMove),100)},initTrack:function(){this._initTrackPhase=!0;this._tracker=setTimeout(l.hitch(this,this._trackMove),500)},stopTrack:function(){if(this._tracker)this._initTrackPhase?clearTimeout(this._tracker):clearInterval(this._tracker),
this._tracker=null},render:function(){this.isDirty()&&(this.cleanGroup(),this.pageCoord&&this._updateIndicator(this.pageCoord,this.secondCoord))},_updateIndicator:function(b,a){var c=this.inter,d=c.plot,e=c.opt.vertical,f=this.chart.getAxis(d.hAxis),g=this.chart.getAxis(d.vAxis),h=f.name,l=g.name,B=f.getScaler().bounds,x=g.getScaler().bounds,g=e?"x":"y",f=e?h:l,u=e?B:x;if(a){var r;e?b.x>a.x&&(r=a,a=b,b=r):b.y>a.y&&(r=a,a=b,b=r)}var D=d.toData(b),C;a&&(C=d.toData(a));var q={};q[h]=B.from;q[l]=x.from;
r=d.toPage(q);q[h]=B.to;q[l]=x.to;x=d.toPage(q);if(D[f]<u.from){if(!C&&c.opt.autoScroll){this._updateVisibility(b,r,g);return}b[g]=r[g];D=d.toData(b)}else if(D[f]>u.to){if(!C&&c.opt.autoScroll){this._updateVisibility(b,x,g);return}b[g]=x[g];D=d.toData(b)}var B=this._getData(D,g,e),z;null!=B.y&&(a&&(C[f]<u.from?(a[g]=r[g],C=d.toData(a)):C[f]>u.to&&(a[g]=x[g],C=d.toData(a)),z=this._getData(C,g,e),null==z.y&&(a=null)),d=this._renderIndicator(B,a?1:0,h,l,r,x),a&&(h=this._renderIndicator(z,2,h,l,r,x),
l=e?z.y-B.y:z.x-B.y,this._renderText(c.opt.labelFunc?c.opt.labelFunc(B,z,c.opt.fixed,c.opt.precision):i.getLabel(l,c.opt.fixed,c.opt.precision)+" ("+i.getLabel(100*l/(e?B.y:B.x),!0,2)+"%)",c,this.chart.theme,e?(d.x+h.x)/2:d.x,e?d.y:(d.y+h.y)/2,B,z)))},_renderIndicator:function(b,a,c,d,e,f){var g=this.chart.theme,h=this.chart.getCoords(),l=this.inter,B=l.plot,x=l.opt.vertical,u={};u[c]=b.x;u[d]=b.y;var u=B.toPage(u),c=u.x-h.x,B=u.y-h.y,u=x?c:e.x-h.x,e=x?e.y-h.y:B,d=x?u:f.x-h.x,f=x?f.y-h.y:e,r=l.opt.lineShadow?
l.opt.lineShadow:g.indicator.lineShadow,h=l.opt.lineStroke?l.opt.lineStroke:g.indicator.lineStroke,D=l.opt.lineOutline?l.opt.lineOutline:g.indicator.lineOutline;r&&this.group.createLine({x1:u+r.dx,y1:e+r.dy,x2:d+r.dx,y2:f+r.dy}).setStroke(r);if(D)D=i.makeStroke(D),D.width=2*D.width+h.width,this.group.createLine({x1:u,y1:e,x2:d,y2:f}).setStroke(D);this.group.createLine({x1:u,y1:e,x2:d,y2:f}).setStroke(h);var C=l.opt.markerSymbol?l.opt.markerSymbol:g.indicator.markerSymbol,q="M"+c+" "+B+" "+C,r=l.opt.markerShadow?
l.opt.markerShadow:g.indicator.markerShadow,h=l.opt.markerStroke?l.opt.markerStroke:g.indicator.markerStroke,D=l.opt.markerOutline?l.opt.markerOutline:g.indicator.markerOutline;r&&this.group.createPath("M"+(c+r.dx)+" "+(B+r.dy)+" "+C).setFill(r.color).setStroke(r);if(D)D=i.makeStroke(D),D.width=2*D.width+h.width,this.group.createPath(q).setStroke(D);c=this.group.createPath(q);B=this._shapeFill(l.opt.markerFill?l.opt.markerFill:g.indicator.markerFill,c.getBoundingBox());c.setFill(B).setStroke(h);0==
a&&this._renderText(l.opt.labelFunc?l.opt.labelFunc(b,null,l.opt.fixed,l.opt.precision):i.getLabel(x?b.y:b.x,l.opt.fixed,l.opt.precision),l,g,x?u:d+5,x?f+5:e,b);return x?{x:u,y:f+5}:{x:d+5,y:e}},_renderText:function(b,a,c,e,f,h,l){b=g.createText.gfx(this.chart,this.group,e,f,"middle",b,a.opt.font?a.opt.font:c.indicator.font,a.opt.fontColor?a.opt.fontColor:c.indicator.fontColor);e=d(b,b.getShape().text);e.x-=2;e.y-=1;e.width+=4;e.height+=2;e.r=a.opt.radius?a.opt.radius:c.indicator.radius;var t=a.opt.shadow?
a.opt.shadow:c.indicator.shadow,f=a.opt.stroke?a.opt.stroke:c.indicator.stroke,s=a.opt.outline?a.opt.outline:c.indicator.outline;t&&this.group.createRect(e).setFill(t.color).setStroke(t);if(s)s=i.makeStroke(s),s.width=2*s.width+f.width,this.group.createRect(e).setStroke(s);a=a.opt.fillFunc?a.opt.fillFunc(h,l):a.opt.fill?a.opt.fill:c.indicator.fill;this.group.createRect(e).setFill(this._shapeFill(a,e)).setStroke(f);b.moveToFront()},_getData:function(b,a,c){var d=this.chart.getSeries(this.inter.opt.series).data,
e,f,g=d.length;for(e=0;e<g;++e)if(f=d[e],null!=f)if("number"==typeof f){if(e+1>b[a])break}else if(f[a]>b[a])break;var h,i;if("number"==typeof f)g=e+1,0<e&&(h=e,i=d[e-1]);else if(g=f.x,f=f.y,0<e)h=d[e-1].x,i=d[e-1].y;if(0<e&&b[a]<=(c?(g+h)/2:(f+i)/2))g=h,f=i;return{x:g,y:f}},cleanGroup:function(b){this.inherited(arguments);this.group.moveToFront();return this},getSeriesStats:function(){return l.delegate(i.defaultStats)},isDirty:function(){return!this._noDirty&&(this.dirty||this.inter.plot.isDirty())}})})}}});