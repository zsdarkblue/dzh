/*
	Copyright (c) 2012-2013,   To get sources and documentation, please visit:

		http://dms.gw.com.cn
*/

//>>built
require({cache:{"fund/fjjj/view/topGrid":function(){define("dojo/store/Memory,dojo/_base/declare,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dijit/layout/_ContentPaneResizeMixin,dojo/_base/lang,dojo/_base/array,dojo/on,dojo/dom-class,dojo/dom-attr,dojo/text!./topGrid.html,dojox/slickgrid/slickgrid,dojox/store/GridWSStore,dojox/slickgrid/quotegrid,dojo/aspect,./util,./fjjjUtil,dijit/registry,dijit/dijit,dojox/store/WebSocket,dojox/kline/Kline".split(","),function(d,a,b,c,
e,f,h,m,j,u,C,D,E,z,F,B,g,o,q,G){return a("fund.fjjj.view.topGrid",[b,c,e,f],{templateString:D,datas:null,isFirst:!0,acode:null,bcode:null,ccode:null,postCreate:function(){var a=this;(new z({})).query({service:"rpc",so:"javadataproxy.jar","function":"gw/UIMain",paraencode:"base64",parameter:"Z2V0,"+btoa(g.soUrl+"/webquery/common?__qid=classificationFunds_quotesAnalysis"),response_times:1,response_mode:0}).then(function(c){"undefined"==typeof c||0==c.length?alert("\u83b7\u53d6\u57fa\u7840\u6570\u636e\u5931\u8d25\uff01"):
(a.datas=c,a.createGrid(a.datas,"container_grid01","allQuoteGrid"),m.forEach(a.getChildren(),h.hitch(a,"bindBtnsEvent")),dojo.connect(a.mytabContainer.tablist,"onSelectChild",h.hitch(a,"switchTab")))})},switchTab:function(a){"\u5168\u90e8\u5206\u7ea7"==a.title?this.createOrUpdateGrid("container_grid01",null,"allQuoteGrid"):"\u80a1\u7968\u578b"==a.title?this.createOrUpdateGrid("container_grid02","\u80a1\u7968\u578b","stockGrid"):"\u6307\u6570\u578b"==a.title?this.createOrUpdateGrid("container_grid03",
"\u6307\u6570\u578b","indexGrid"):"\u503a\u5238\u578b"==a.title&&this.createOrUpdateGrid("container_grid04","\u503a\u5238\u578b","bondGrid")},createOrUpdateGrid:function(a,c,b){var d=q.byId(a);d?(this._girdSubscribe(a),a=d.pushStores.storeA.store.data[0],d.setSelectedRows([0,0]),this.updateBottom(a)):(this._girdSubscribe(),this.createGrid(this.getTypeData(c),a,b))},_girdSubscribe:function(a){var c={container_grid01:1,container_grid02:1,container_grid03:1,container_grid04:1},b=q.byId(a);if(b)b=b.pushStores,
b.storeA.query(b.storeA.fjjjQueryOptions),b.storeB.query(b.storeB.fjjjQueryOptions),b.storeC.query(b.storeC.fjjjQueryOptions);delete c[a];for(a in c)if(b=q.byId(a))b=b.pushStores,b.storeA.cancel(b.storeA.req_seq),b.storeB.cancel(b.storeB.req_seq),b.storeC.cancel(b.storeC.req_seq)},getTypeData:function(a){if(null==a)return this.datas;var c=[];if(this.datas)for(var b=0;b<this.datas.length;b++)this.datas[b]["\u6bcd\u57fa\u91d1\u7c7b\u578b"]==a&&c.push(this.datas[b]);return c},createGrid:function(a,c){for(var b=
this,e=[{id:"P1",name:"\u540d\u79f0",field:"\u6bcd\u57fa\u91d1\u540d\u79f0",group:"\u6bcd\u57fa\u91d1",width:92,headerCssClass:"font-center",cssClass:"font-left classC",formatter:g.tipCell},{id:"P3",name:"\u9884\u6d4b\u51c0\u503c",field:"\u6bcd\u57fa\u91d1\u9884\u6d4b\u51c0\u503c",group:"\u6bcd\u57fa\u91d1",width:65,sortable:!0,headerCssClass:"font-center",cssClass:"font-right",formatter:o.getCellBgColor},{id:"C3",name:"\u6298\u4ef7\u7387",field:"\u6574\u4f53\u6298\u4ef7\u7387",group:"\u6bcd\u57fa\u91d1",
width:55,sortable:!0,headerCssClass:"font-center",cssClass:"font-right",formatter:o.getCellBgColor},{id:"A2",name:"\u4ee3\u7801",field:"\u5206\u7ea7A\u4ee3\u7801",group:"\u5206\u7ea7A",width:58,headerCssClass:"font-center",cssClass:"font-left classA",formatter:g.codeFormat},{id:"A1",name:"\u540d\u79f0",field:"\u5206\u7ea7A\u540d\u79f0",group:"\u5206\u7ea7A",width:91,headerCssClass:"font-center",cssClass:"font-left classA",formatter:g.tipCell},{id:"A3",name:"\u73b0\u4ef7",field:"\u5206\u7ea7A\u73b0\u4ef7",
group:"\u5206\u7ea7A",width:48,sortable:!0,headerCssClass:"font-center",cssClass:"font-right",formatter:o.getCellBgColor},{id:"A4",name:"\u6da8\u8dcc\u5e45",field:"\u5206\u7ea7A\u6da8\u8dcc\u5e45",group:"\u5206\u7ea7A",width:55,sortable:!0,headerCssClass:"font-center",cssClass:"font-right",formatter:o.getCellBgColor},{id:"A5",name:"\u6210\u4ea4\u989d(\u4e07)",field:"\u5206\u7ea7A\u6210\u4ea4\u989d",group:"\u5206\u7ea7A",width:78,sortable:!0,headerCssClass:"font-center",cssClass:"font-right",formatter:o.getCellBgColor},
{id:"A6",name:"\u9884\u6d4b\u51c0\u503c",field:"\u5206\u7ea7A\u9884\u6d4b\u51c0\u503c",group:"\u5206\u7ea7A",width:65,sortable:!0,headerCssClass:"font-center",cssClass:"font-right",formatter:o.getCellBgColor},{id:"A7",name:"\u6298\u4ef7\u7387",field:"\u5206\u7ea7A\u6298\u4ef7\u7387",group:"\u5206\u7ea7A",width:55,sortable:!0,headerCssClass:"font-center",cssClass:"font-right",formatter:o.getCellBgColor},{id:"A8",name:"\u7ea6\u5b9a\u6536\u76ca",field:"\u5206\u7ea7A\u7ea6\u5b9a\u5e74\u6536\u76ca",group:"\u5206\u7ea7A",
width:65,sortable:!0,headerCssClass:"font-center",cssClass:"font-right",formatter:g.agreeIncomFormat},{id:"B2",name:"\u4ee3\u7801",field:"\u5206\u7ea7B\u4ee3\u7801",group:"\u5206\u7ea7B",width:58,headerCssClass:"font-center",cssClass:"font-left classB",formatter:g.codeFormat},{id:"B1",name:"\u540d\u79f0",field:"\u5206\u7ea7B\u540d\u79f0",group:"\u5206\u7ea7B",width:91,headerCssClass:"font-center",cssClass:"font-left classB",formatter:g.tipCell},{id:"B3",name:"\u73b0\u4ef7",field:"\u5206\u7ea7B\u73b0\u4ef7",
group:"\u5206\u7ea7B",width:48,sortable:!0,headerCssClass:"font-center",cssClass:"font-right",formatter:o.getCellBgColor},{id:"B4",name:"\u6da8\u8dcc\u5e45",field:"\u5206\u7ea7B\u6da8\u8dcc\u5e45",group:"\u5206\u7ea7B",width:56,sortable:!0,headerCssClass:"font-center",cssClass:"font-right",formatter:o.getCellBgColor},{id:"B5",name:"\u6210\u4ea4\u989d(\u4e07)",field:"\u5206\u7ea7B\u6210\u4ea4\u989d",group:"\u5206\u7ea7B",width:78,sortable:!0,headerCssClass:"font-center",cssClass:"font-right classB",
formatter:o.getCellBgColor},{id:"B6",name:"\u9884\u6d4b\u51c0\u503c",field:"\u5206\u7ea7B\u9884\u6d4b\u51c0\u503c",group:"\u5206\u7ea7B",width:65,sortable:!0,headerCssClass:"font-center",cssClass:"font-right",formatter:o.getCellBgColor},{id:"B7",name:"\u6ea2\u4ef7\u7387",field:"\u5206\u7ea7B\u6ea2\u4ef7\u7387",group:"\u5206\u7ea7B",width:56,sortable:!0,headerCssClass:"font-center",cssClass:"font-right",formatter:o.getCellBgColor},{id:"B8",name:"\u6760\u6746\u7387",field:"\u5206\u7ea7B\u6760\u6746\u7387",
group:"\u5206\u7ea7B",width:56,sortable:!0,headerCssClass:"font-center",cssClass:"font-right",formatter:o.getCellBgColor}],f=[],j={},m={},q=[],v=[],s=0;s<a.length;s++){var w=a[s].\u5206\u7ea7A\u4ee3\u7801,x=a[s].\u5206\u7ea7B\u4ee3\u7801,t=a[s].\u8ddf\u8e2a\u6307\u6570\u4ee3\u7801;f.push(h.mixin(a[s],{obj:""+w+""}));t&&""!=t&&(m[t]=t);j[g.getPureFundCode(x)]=w;j[g.getPureFundCode(w)]=w;q.push(w);v.push(x)}var s=[],u;for(u in m)s.push(m[u]);var n=new d({idProperty:"obj",data:f}),k=new E({store:n,pushStores:{},
oldVRangeValues:{},columns:e,options:{forceFitColumns:!0},style:"width:100%;height:100%"},c);k.on("click",h.hitch(k,function(a,c){b.updateBottom(k.data[c.row]);b.selBaseInfoRow(b.ccode)}));k.on("dblclick",function(a,b){var c=null,y=k.data[b.row],d=a.srcElement;if(dojo.hasClass(d,"classC")||dojo.hasClass(d.parentNode,"classC"))c=y["\u6bcd\u57fa\u91d1\u4ee3\u7801"];else if(dojo.hasClass(a.srcElement,"classA")||dojo.hasClass(d.parentNode,"classA"))c=y["\u5206\u7ea7A\u4ee3\u7801"];else if(dojo.hasClass(a.srcElement,
"classB")||dojo.hasClass(d.parentNode,"classB"))c=y["\u5206\u7ea7B\u4ee3\u7801"];if(null!=c)location.href=" DZH://VIEWSTOCK?DATATYPE=DAY&LAYOUT=Level2\u9ed8\u8ba4&PAGE=\u6280\u672f\u5206\u6790&LABEL="+c});B.after(n,"put",h.hitch(k,function(a,c){this.updateRow(k.fjjjLocalSorting?k.fjjjDateIndex[a]:this.store.index[a]);this.oldVRangeValues[a]=h.clone(c[0])}));k.on("afterlocalsort",function(a){k.setSelectedRows([0,0]);var c=k.data;b.updateBottom(c[0]);b.selBaseInfoRow(b.ccode);k.fjjjLocalSorting=0==
a.sortCols.length?!1:!0;k.fjjjDateIndex={};k.fjjjLocalSorting&&c.forEach(function(a,c){k.fjjjDateIndex[a.obj]=c})});k.setSorter(g.colSorter);k.startup();e=new z({fjjjQueryOptions:{service:"quote",type:"dyna",field:"obj,new,amount,lastclose",where:"obj="+q.join(","),response_times:-1,response_mode:0},idProperty:"obj",mergeFunc:function(a,c){if(!c.obj||""==c.obj)return!1;var b=n.get(j[g.getPureFundCode(c.obj)])||{};b["\u5206\u7ea7A\u73b0\u4ef7"]=g.getCurPrice(c);b["\u5206\u7ea7A\u6210\u4ea4\u989d"]=
"--";c.amount&&(b["\u5206\u7ea7A\u6210\u4ea4\u989d"]=1*(1*c.amount/1E4).toFixed(2));if("\u503a\u5238\u578b"==b["\u6bcd\u57fa\u91d1\u7c7b\u578b"])b["\u6bcd\u57fa\u91d1\u9884\u6d4b\u51c0\u503c"]=b["\u6bcd\u57fa\u91d1\u6628\u65e5\u51c0\u503c"];else{var y=g.getMotherFundNetValue(b);g.hasValue(y)&&(b["\u6bcd\u57fa\u91d1\u9884\u6d4b\u51c0\u503c"]=y)}b["\u5206\u7ea7A\u6da8\u8dcc\u5e45"]=g.getClassAPriceRange(b);b["\u5206\u7ea7A\u9884\u6d4b\u51c0\u503c"]=g.getClassAForecastNetValue(b);b["\u5206\u7ea7A\u6298\u4ef7\u7387"]=
g.getClassARateDiscount(b);b["\u4efd\u989d\u914d\u6bd4"]=g.getMergeShareRatio(b);b["\u5408\u5e76\u503c"]=g.getMergeValue(b);b["\u6574\u4f53\u6298\u4ef7\u7387"]=g.getTotalDiscount(b);b["\u5206\u7ea7B\u9884\u6d4b\u51c0\u503c"]=g.getClassBForecastNetValue(b);b["\u5206\u7ea7B\u6ea2\u4ef7\u7387"]=g.getClassBPremiumRate(b);b["\u5206\u7ea7B\u6760\u6746\u7387"]=g.getClassBLeverageRatio(b);return b},store:n});e.query(e.fjjjQueryOptions);v=new z({fjjjQueryOptions:{service:"quote",type:"dyna",field:"obj,new,amount,lastclose",
where:"obj="+v.join(","),response_times:-1,response_mode:0},xxx:"storeB",idProperty:"obj",mergeFunc:function(a,b){g.getPureFundCode(b.obj);if(!b.obj||""==b.obj)return!1;var c=n.get(j[g.getPureFundCode(b.obj)])||{};c["\u5206\u7ea7B\u73b0\u4ef7"]=g.getCurPrice(b);c["\u5206\u7ea7B\u6210\u4ea4\u989d"]="--";b.amount&&(c["\u5206\u7ea7B\u6210\u4ea4\u989d"]=1*(1*b.amount/1E4).toFixed(2));c["\u5206\u7ea7B\u6da8\u8dcc\u5e45"]=g.getClassBPriceRange(c);c["\u5206\u7ea7B\u6ea2\u4ef7\u7387"]=g.getClassBPremiumRate(c);
c["\u5408\u5e76\u503c"]=g.getMergeValue(c);c["\u6574\u4f53\u6298\u4ef7\u7387"]=g.getTotalDiscount(c);c["\u5206\u7ea7B\u6760\u6746\u7387"]=g.getClassBLeverageRatio(c);return c},store:n});v.query(v.fjjjQueryOptions);f=new z({fjjjQueryOptions:{service:"quote",type:"dyna",field:"obj,new,lastclose",where:"obj="+s.join(","),response_times:-1,response_mode:0},idProperty:"obj",convert:function(a){for(var b=this.inherited("convert",arguments),c=[],y=n.data.length,d=0;d<y;d++)for(var e=0;e<b.length;e++)if(n.data[d]["\u8ddf\u8e2a\u6307\u6570\u4ee3\u7801"]&&
n.data[d]["\u8ddf\u8e2a\u6307\u6570\u4ee3\u7801"]==b[e].obj){var f=g.getCurIndex(b[e]);if(g.hasValue(n.data[d],"\u5f53\u524d\u6307\u6570\u70b9\u4f4d")){if(n.data[d]["\u5f53\u524d\u6307\u6570\u70b9\u4f4d"]!=f){n.data[d]["\u5f53\u524d\u6307\u6570\u70b9\u4f4d"]=f;c.push(n.data[d]);break}}else{n.data[d]["\u5f53\u524d\u6307\u6570\u70b9\u4f4d"]=f;c.push(n.data[d]);break}}return c},mergeFunc:function(a,b){b["\u6bcd\u57fa\u91d1\u9884\u6d4b\u51c0\u503c"]=g.getMotherFundNetValue(b);b["\u5408\u5e76\u503c"]=
g.getMergeValue(b);b["\u6574\u4f53\u6298\u4ef7\u7387"]=g.getTotalDiscount(b);b["\u5206\u7ea7B\u9884\u6d4b\u51c0\u503c"]=g.getClassBForecastNetValue(b);b["\u5206\u7ea7B\u6ea2\u4ef7\u7387"]=g.getClassBPremiumRate(b);b["\u5206\u7ea7B\u6760\u6746\u7387"]=g.getClassBLeverageRatio(b);return b},store:n});f.query(f.fjjjQueryOptions);b.updateBottom(k.data[0]);k.setSelectedRows([0,0]);k.pushStores.storeA=e;k.pushStores.storeB=v;k.pushStores.storeC=f},updateBottom:function(a){this.acode=a["\u5206\u7ea7A\u4ee3\u7801"];
this.bcode=a["\u5206\u7ea7B\u4ee3\u7801"];this.ccode=a["\u6bcd\u57fa\u91d1\u4ee3\u7801"];fund_fjjj_view_bottomGraph_0.abc.changeRow(this.ccode,this.acode,this.bcode)},selBaseInfoRow:function(a){var b=G.byId("baseInfoGrid");if(b){b.setSelectedRows([]);for(var c=b.data,d=0,e=0;e<c.length;e++)if(-1<a.indexOf(c[e]["\u6bcd\u57fa\u91d1\u4ee3\u7801"])){d=e;break}b.setSelectedRows([d,d]);b.scrollRowIntoView(d)}},bindBtnsEvent:function(a){if(a&&"button"==a.type)a.on("click",h.hitch(this,"showDialog",a.dialogId))},
showDialog:function(a){this.mydialogs=this.mydialogs||new MyDialogs;this.mydialogs[a].show()}})})},"url:fund/fjjj/view/topGrid.html":'<div data-dojo-attach-point="containerNode">\t\t\t\t\t \r\n\t<div data-dojo-attach-point="mytabContainer" data-dojo-type="dijit/layout/TabContainer" data-dojo-props="tabPosition:\'top\',tabStrip:true" style="height: 100%;">\t\r\n\t\t<div data-dojo-type="dijit/layout/ContentPane" data-dojo-props=\'selected:true,title:"\u5168\u90e8\u5206\u7ea7"\'>\r\n\t\t\t<div data-dojo-type="dijit/layout/ContentPane">\r\n\t\t\t\t<div data-dojo-attach-point="mainGridDiv1" style="height:100%;width:100%;">\r\n\t\t\t\t\t<div id="container_grid01" style="height:325px"></div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div data-dojo-type="dijit/layout/ContentPane" data-dojo-props=\'title:"\u80a1\u7968\u578b"\'>\t\t\t\r\n\t\t\t<div data-dojo-type="dijit/layout/ContentPane">\r\n\t\t\t\t<div data-dojo-attach-point="mainGridDiv2" style="height:100%;width:100%;">\r\n\t\t\t\t\t<div id="container_grid02" style="height:325px"></div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div data-dojo-type="dijit/layout/ContentPane" data-dojo-props=\'title:"\u6307\u6570\u578b"\'>\t\t\t\r\n\t\t\t<div data-dojo-type="dijit/layout/ContentPane">\r\n\t\t\t\t<div data-dojo-attach-point="mainGridDiv3" style="height:100%;width:100%;">\r\n\t\t\t\t\t<div id="container_grid03" style="height:325px"></div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t    <div data-dojo-type="dijit/layout/ContentPane" data-dojo-props=\'title:"\u503a\u5238\u578b"\'>\r\n\t\t\t<div data-dojo-type="dijit/layout/ContentPane">\r\n\t\t\t\t<div data-dojo-attach-point="mainGridDiv4" style="height:100%;width:100%;">\r\n\t\t\t\t\t<div id="container_grid04" style="height:325px"></div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t</div>\r\n\r\n</div>',
"fund/fjjj/view/util":function(){define([],function(){var d={soUrl:"",hasValue:function(a,b){return a[b]&&""!=a[b]&&"--"!=a[b]&&!isNaN(a[b])?!0:!1}};d.getTotalDiscount=function(a){var b="--";d.hasValue(a,"\u6bcd\u57fa\u91d1\u9884\u6d4b\u51c0\u503c")&&d.hasValue(a,"\u5408\u5e76\u503c")&&(b=100*((a.\u6bcd\u57fa\u91d1\u9884\u6d4b\u51c0\u503c-a.\u5408\u5e76\u503c)/a.\u6bcd\u57fa\u91d1\u9884\u6d4b\u51c0\u503c),b=b.toFixed(2)+"%");return b};d.getMergeShareRatio=function(a){var b="--";d.hasValue(a,"\u5206\u7ea7A\u4efd\u989d")&&
d.hasValue(a,"\u5206\u7ea7B\u4efd\u989d")&&(b=1*a.\u5206\u7ea7A\u4efd\u989d+":"+1*a.\u5206\u7ea7B\u4efd\u989d);return b};d.getMergeValue=function(a){var b="--",c=1*a.\u5206\u7ea7A\u4efd\u989d/(1*a.\u5206\u7ea7A\u4efd\u989d+1*a.\u5206\u7ea7B\u4efd\u989d),e=1*a.\u5206\u7ea7B\u4efd\u989d/(1*a.\u5206\u7ea7A\u4efd\u989d+1*a.\u5206\u7ea7B\u4efd\u989d);d.hasValue(a,"\u5206\u7ea7A\u73b0\u4ef7")&&d.hasValue(a,"\u5206\u7ea7A\u4efd\u989d")&&d.hasValue(a,"\u5206\u7ea7B\u73b0\u4ef7")&&d.hasValue(a,"\u5206\u7ea7B\u4efd\u989d")&&
(b=a.\u5206\u7ea7A\u73b0\u4ef7*c+a.\u5206\u7ea7B\u73b0\u4ef7*e,b=b.toFixed(4));return b};d.getClassARateDiscount=function(a){var b="--";d.hasValue(a,"\u5206\u7ea7A\u9884\u6d4b\u51c0\u503c")&&d.hasValue(a,"\u5206\u7ea7A\u73b0\u4ef7")&&(b=100*((a.\u5206\u7ea7A\u9884\u6d4b\u51c0\u503c-a.\u5206\u7ea7A\u73b0\u4ef7)/a.\u5206\u7ea7A\u9884\u6d4b\u51c0\u503c),b=b.toFixed(2)+"%");return b};d.getClassAForecastNetValue=function(a){var b="--";0==a.\u662f\u5426\u53d1\u751f\u6298\u7b97&&(b=1*a.\u5206\u7ea7A\u6628\u65e5\u51c0\u503c);
return b};d.getClassAPriceRange=function(a){var b="--";d.hasValue(a,"\u5206\u7ea7A\u73b0\u4ef7")&&d.hasValue(a,"\u5206\u7ea7A\u6536\u76d8\u4ef7")&&(b=100*((a.\u5206\u7ea7A\u73b0\u4ef7-a.\u5206\u7ea7A\u6536\u76d8\u4ef7)/a.\u5206\u7ea7A\u6536\u76d8\u4ef7),b=b.toFixed(2)+"%");return b};d.getClassBPriceRange=function(a){var b="--";d.hasValue(a,"\u5206\u7ea7B\u73b0\u4ef7")&&d.hasValue(a,"\u5206\u7ea7B\u6536\u76d8\u4ef7")&&(b=100*((a.\u5206\u7ea7B\u73b0\u4ef7-a.\u5206\u7ea7B\u6536\u76d8\u4ef7)/a.\u5206\u7ea7B\u6536\u76d8\u4ef7),
b=b.toFixed(2)+"%");return b};d.getClassBForecastNetValue=function(a){var b="--",c=1*a.\u5206\u7ea7A\u4efd\u989d/(1*a.\u5206\u7ea7A\u4efd\u989d+1*a.\u5206\u7ea7B\u4efd\u989d),e=1*a.\u5206\u7ea7B\u4efd\u989d/(1*a.\u5206\u7ea7A\u4efd\u989d+1*a.\u5206\u7ea7B\u4efd\u989d);d.hasValue(a,"\u6bcd\u57fa\u91d1\u9884\u6d4b\u51c0\u503c")&&d.hasValue(a,"\u5206\u7ea7A\u9884\u6d4b\u51c0\u503c")&&(b=(a.\u6bcd\u57fa\u91d1\u9884\u6d4b\u51c0\u503c-a.\u5206\u7ea7A\u9884\u6d4b\u51c0\u503c*c)/e,b=1*b.toFixed(4));return b};
d.getClassBLeverageRatio=function(a){var b="--",c=1*((1*a.\u5206\u7ea7A\u4efd\u989d+1*a.\u5206\u7ea7B\u4efd\u989d)/a.\u5206\u7ea7B\u4efd\u989d);d.hasValue(a,"\u6bcd\u57fa\u91d1\u9884\u6d4b\u51c0\u503c")&&d.hasValue(a,"\u5206\u7ea7B\u73b0\u4ef7")&&(b=a.\u6bcd\u57fa\u91d1\u9884\u6d4b\u51c0\u503c/a.\u5206\u7ea7B\u73b0\u4ef7*c,b=b.toFixed(2));return b};d.getClassBPremiumRate=function(a){var b="--";d.hasValue(a,"\u5206\u7ea7B\u73b0\u4ef7")&&d.hasValue(a,"\u5206\u7ea7B\u9884\u6d4b\u51c0\u503c")&&(b=100*
((a.\u5206\u7ea7B\u73b0\u4ef7-a.\u5206\u7ea7B\u9884\u6d4b\u51c0\u503c)/a.\u5206\u7ea7B\u9884\u6d4b\u51c0\u503c),b=b.toFixed(2)+"%");return b};d.getMotherFundNetValue=function(a){var b=a.\u6bcd\u57fa\u91d1\u7c7b\u578b,c="--";if("\u503a\u5238\u578b"==b)c=a.\u6bcd\u57fa\u91d1\u6628\u65e5\u51c0\u503c;else{var d=a["\u5f53\u524d\u6307\u6570\u70b9\u4f4d"];d&&!isNaN(d)&&(d=(d-a.\u6bcd\u57fa\u91d1\u6307\u6570\u524d\u6536\u76d8)/a.\u6bcd\u57fa\u91d1\u6307\u6570\u524d\u6536\u76d8,d=1*d.toFixed(4),"\u6307\u6570\u578b"==
b?c=a.\u6bcd\u57fa\u91d1\u6628\u65e5\u51c0\u503c*(d*(a.\u6bcd\u57fa\u91d1\u51c0\u503c\u6da8\u8dcc/a.\u6bcd\u57fa\u91d1\u8ddf\u8e2a\u6307\u6570\u6628\u65e5\u6da8\u5e45)+1):"\u80a1\u7968\u578b"==b&&(c=a.\u6bcd\u57fa\u91d1\u6628\u65e5\u51c0\u503c*(d*a.\u6bcd\u57fa\u91d1\u6700\u65b0\u4ed3\u4f4dSTOCK/100+1)),"--"!=c&&(c=1*c.toFixed(4)))}return c};d.getCurPrice=function(a){var b="--";a["new"]&&d.hasValue(a,"new")&&!d.isEqZero(a,"new")?b=(1*a["new"]).toFixed(3):a.lastclose&&d.hasValue(a,"lastclose")&&!d.isEqZero(a,
"lastclose")&&(b=(1*a.lastclose).toFixed(3));return b};d.isEqZero=function(a,b){var c=!1;a[b]&&0==1*a[b]&&(c=!0);return c};d.getCurIndex=function(a){var b="--";a["new"]&&d.hasValue(a,"new")&&!d.isEqZero(a,"new")?b=1*a["new"]:a.lastclose&&d.hasValue(a,"lastclose")&&!d.isEqZero(a,"lastclose")&&(b=1*a.lastclose);return b};d.calculateTime=function(a){var b=[],c;"m"==a?(a=new Date,a=";time<="+a.getFullYear()+(100+a.getMonth()+1).toString().substring(1)+(100+a.getDate()).toString().substring(1)+(100+a.getHours()).toString().substring(1)+
(100+a.getMinutes()).toString().substring(1)+"00",c=new Date,c.setMonth(c.getMonth()-1),c=";time>="+c.getFullYear()+(100+c.getMonth()+1).toString().substring(1)+(100+c.getDate()).toString().substring(1)+(100+c.getHours()).toString().substring(1)+(100+c.getMinutes()).toString().substring(1)+"00",b.push(c),b.push(a)):"y"==a&&(a=new Date,a=";time<="+a.getFullYear()+(100+a.getMonth()+1).toString().substring(1)+(100+a.getDate()).toString().substring(1)+(100+a.getHours()).toString().substring(1)+(100+a.getMinutes()).toString().substring(1)+
"00",c=new Date,c.setFullYear(c.getFullYear()-1),c=";time>="+c.getFullYear()+(100+c.getMonth()+1).toString().substring(1)+(100+c.getDate()).toString().substring(1)+(100+c.getHours()).toString().substring(1)+(100+c.getMinutes()).toString().substring(1)+"00",b.push(c),b.push(a));return b};d.dateFormat=function(a,b,c){return(c+"").replace(/(\d{4})(\d{2})(\d{2})000000/,"$1-$2-$3")};d.toFixed2=function(a,b,c){return c?1*(+c).toFixed(2):null};d.empFormat=function(a,b,c){return void 0==c||null==c||0==c.length?
"--":c};d.agreeIncomFormat=function(a,b,c){return void 0==c||null==c||0==c.length?"--":1*(1*c).toFixed(2)+"%"};d.codeFormat=function(a,b,c){return void 0==c||null==c||2>=c.length?"--":"<span title='\u53cc\u51fb\u8fdb\u5165K\u7ebf'>"+c.replace(".fnd","").substring(2)+"</span>"};d.mapToArray=function(a,b){for(var c=[],d=0;d<a.length;d++){var f=a[d][b];if(null!=f&&""!==f)c[d]=+f;else{var h=d;if(0===h)for(;h<a.length;){f=a[h][b];if(null!=f&&""!==f){for(;d<=h;d++)c[d]=+a[h][b];break}h++}else{for(;h<a.length;){f=
a[h][b];if(null!=f&&""!==f){for(f=(+f-a[d-1][b])/(h-d+1);d<h;d++)c[d]=+a[d-1][b]+f;c[d]=+a[d][b];break}h++}if(h===a.length)for(;d<h;d++)c[d]=+a[d-1][b]}}}return c};d.getPureFundCode=function(a){isNaN(a.charAt(0))&&(a=a.substr(2));var b=a.indexOf(".");-1<b&&(a=a.substring(0,b));return a};d.colSorter=function(a,b,c){for(var d,f=0,h=c.sortCols,m=h.length;f<m;f++)if(c=a[h[f].sortCol.field],d=b[h[f].sortCol.field],c=isNaN(parseFloat(c))?c:parseFloat(c),d=isNaN(parseFloat(d))?d:parseFloat(d),"--"==c&&(c=
h[f].sortAsc?999999:-999999),"--"==d&&(d=h[f].sortAsc?999999:-999999),c!=d)return!!h[f].sortAsc==(null==c||parseFloat(c)>parseFloat(d))?1:-1;return 0};d.tipCell=function(a,b,c){return void 0==c||null==c||0==c.length?"--":"<span title='\u53cc\u51fb\u8fdb\u5165K\u7ebf'>"+c+"</span>"};return d})},"fund/fjjj/view/fjjjUtil":function(){define([],function(){var d={getCellBgColor:function(a,b,c,e,f,h){var m=!0,j=h.oldVRangeValues;if(j){var u=f["\u5206\u7ea7A\u4ee3\u7801"];if(u)if(j=j[u],!j||!j[e.field])m=
!1;else if(c&&(j=j[e.field],c==j||"--"==j||""==j))m=!1}if(("\u5206\u7ea7A\u6da8\u8dcc\u5e45"==e.field||"\u5206\u7ea7B\u6da8\u8dcc\u5e45"==e.field)&&c&&"--"!=c)j=c.replace("%",""),0<1*j?c='<span class="font-red">'+j+"%</span>":0>1*j&&(c='<span class="font-green">'+j+"%</span>");if(("\u5206\u7ea7A\u73b0\u4ef7"==e.field||"\u5206\u7ea7B\u73b0\u4ef7"==e.field)&&c&&"--"!=c)j="--","\u5206\u7ea7A\u73b0\u4ef7"==e.field&&f["\u5206\u7ea7A\u6536\u76d8\u4ef7"]?j=f["\u5206\u7ea7A\u6536\u76d8\u4ef7"]:f["\u5206\u7ea7B\u6536\u76d8\u4ef7"]&&
(j=f["\u5206\u7ea7B\u6536\u76d8\u4ef7"]),j&&"--"!=j&&(1*c>1*j?c='<span class="font-red">'+c+"</span>":1*c<1*j&&(c='<span class="font-green">'+c+"</span>"));m&&(a=d.cellBgColor(a,b,c,e,f,h),c=c?a:"--");"undefined"==typeof c&&(c="--");return c},cellBgColor:function(a,b,c,e){a="--";c&&(e=d._nodeCellChangeState(c,e),a="","g"==e?a="#FDCCDA":"l"==e&&(a="#D3FEBC"),a='<div style=" background-color:'+a+';">'+c+'<img src="" style="display:none"  onerror= "  var img=this;   setTimeout(function(){    \tif(img.parentNode){    \t\timg.parentNode.style.backgroundColor=\'transparent\' ;    \t}     },1000);  " /></div>');
return a},_nodeCellChangeState:function(a,b){if(null==a)return"e";var a=parseFloat(a),c=void 0;b&&(c=""==b.innerText?"":parseFloat(b.innerText));return void 0==c||""==c||c==a?"e":a>c?"g":"l"}};return d})},"fund/fjjj/view/bottomGraph":function(){define("dojo/_base/declare,dojo/store/Memory,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dijit/layout/_ContentPaneResizeMixin,dojo/_base/window,dojo/_base/lang,dojo/_base/event,dojo/on,dojo/dom-class,dojo/dom-attr,dojo/text!./bottomGraph.html,dojox/slickgrid/slickgrid,dijit/TooltipDialog,dijit/popup,dojox/kline/Kline,dojox/store/KlineWSStore,dojox/charting/widget/Chart,dojox/charting/plot2d/Areas,dojox/charting/axis2d/Default,dojox/charting/plot2d/Default,dojox/charting/axis2d/comments,dojox/charting/axis2d/legend,dojox/charting/plot2d/Grid,dojox/charting/themes/WhiteCustom,dojo/parser,dijit/layout/BorderContainer,dijit/layout/StackContainer,dijit/layout/ContentPane,dojox/charting/plot2d/dashedLine,dojox/charting/action2d/Crosshairs,dojox/store/GridWSStore,dojox/slickgrid/formatters,dijit/registry,dijit/dijit,dojox/store/WebSocket,./util".split(","),
function(d,a,b,c,e,f,h,m,j,u,C,D,E,z,F,B,g,o,q,G,I,r,J,K,L,A,M,N,v,s,w,x,t,H,n,k,O,l){return d("fund.fjjj.view.bottomGraph",[b,c,e,f],{templateString:E,urls:{zhengTiZheYiJia:l.soUrl+"/webquery/common?__qid=classificationFunds_quotesAnalysis_discountOrPremium_c&ccode=@ccode",fenJiAZheYiJia:l.soUrl+"/webquery/common?__qid=classificationFunds_quotesAnalysis_discountOrPremium_a&acode=@acode",fenJiBZheYiJia:l.soUrl+"/webquery/common?__qid=classificationFunds_quotesAnalysis_discountOrPremium_b&bcode=@bcode",
priceLeverage:l.soUrl+"/webquery/common?__qid=classificationFunds_quotesAnalysis_leverage_price&bcode=@bcode",netLeverage:l.soUrl+"/webquery/common?__qid=classificationFunds_quotesAnalysis_leverage_net&bcode=@bcode"},ccode:null,acode:null,bcode:null,draw:null,postCreate:function(){var a=fund_fjjj_view_bottomGraph_0.abc=this,b=new v({id:"myStackContainer"});(new s({content:b,style:{position:"absolute",width:"400px",height:"25px",top:"0px",right:"0px","z-index":100}})).placeAt(this,"first");this.zhengTiZheYiJia.on("click",
m.hitch(this,function(){this.tab=21;a.drawZhengTiZheYiJia()}));this.fenJiAZheYiJia.on("click",m.hitch(this,function(){this.tab=22;a.drawFenJiAZheYiJia()}));this.fenJiBZheYiJia.on("click",m.hitch(this,function(){this.tab=23;a.drawFenJiBZheYiJia()}));this.priceLeverage.on("click",m.hitch(this,function(){this.tab=31;a.drawPriceLeverage()}));this.netLeverage.on("click",m.hitch(this,function(){this.tab=32;a.drawNetLeverage()}));this.tab1Create();dojo.connect(this.mytabContainer.tablist,"onSelectChild",
m.hitch(this,"switchTab"))},changeRow:function(a,b,c){this.ccode=a;this.acode=b;this.bcode=c;switch(this.tab){case 21:this.drawZhengTiZheYiJia();break;case 22:this.drawFenJiAZheYiJia();break;case 23:this.drawFenJiBZheYiJia();break;case 31:this.drawPriceLeverage();break;case 32:this.drawNetLeverage();break;case 40:this.createTrendChart();break;case 10:this.selBaseInfoRow()}},tab:40,switchTab:function(a){if("\u57fa\u672c\u4fe1\u606f"==a.title){k.byId("myStackContainer").selectChild("divOper1");this.tab=
10;if(!this.tab1)this.tab1=!0;this.selBaseInfoRow()}else if("\u6760\u6746\u7387"==a.title){if(k.byId("myStackContainer").selectChild("divOper2"),this.tab=31,!this.tab3)this.drawPriceLeverage(),this.tab3=!0}else if("\u6298\u6ea2\u4ef7"==a.title){if(k.byId("myStackContainer").selectChild("divOper3"),this.tab=21,!this.tab2)this.drawZhengTiZheYiJia(),this.tab2=!0}else if("\u8d70\u52bf\u56fe"==a.title&&(k.byId("myStackContainer").selectChild("divOper4"),this.tab=40,!this.tab4||!this.isCurFund()))this.tab4=
!0,this.createTrendChart()},isCurFund:function(){var a=!1;this.acode==this.curTrendChartAcode&&this.bcode==this.curTrendChartBcode&&(a=!0);return a},drawZhengTiZheYiJia:function(){var a=this;(new t({})).query({service:"rpc",so:"javadataproxy.jar","function":"gw/UIMain",paraencode:"base64",parameter:"Z2V0,"+btoa(this.urls.zhengTiZheYiJia.replace("@ccode",this.ccode)),response_times:1,response_mode:0}).then(function(b){var c=1<=b.length&&1===+b[0]["\u6574\u4f53\u6298\u4ef7\u7387"];if(c&&3<=b.length)var d=
[+b[1]["\u6574\u4f53\u6298\u4ef7\u7387"]],f=[+b[2]["\u6574\u4f53\u6298\u4ef7\u7387"]];1<=b.length&&10001010100002>=+b[0]["\u65e5\u671f"]&&b.splice(0,1);1<=b.length&&10001010100002>=+b[0]["\u65e5\u671f"]&&b.splice(0,1);1<=b.length&&10001010100002>=+b[0]["\u65e5\u671f"]&&b.splice(0,1);if(1>=b.length)var g=!0,i=b=d=f=[NaN,NaN];else i=l.mapToArray(b,"\u65e5\u671f"),b=l.mapToArray(b,"\u6574\u4f53\u6298\u4ef7\u7387");dojo.byId("lines").style.display="block";dojo.byId("linesA").style.display="none";dojo.byId("linesB").style.display=
"none";var p;a.zheYiJiaTu?p=a.zheYiJiaTu:(p=a.zheYiJiaTu=new q({margins:{l:10,t:10,r:30,b:10}},"lines"),p.addPlot("\u6bcd\u57fa\u91d1\u6298\u4ef7\u7387",{type:r,vAxis:"y2"}),c&&(p.addPlot("\u6298\u4ef7\u5957\u5229\u6210\u672c",{type:w,vAxis:"y2"}),p.addPlot("\u6ea2\u4ef7\u5957\u5229\u6210\u672c",{type:w,vAxis:"y2"})),p.addAxis("y2",{vertical:!0,leftBottom:!1,font:"normal normal normal 10pt Arial",title:"\u6bcd\u57fa\u91d1\u6298\u4ef7\u7387(%)",titleFont:"normal normal normal 10pt Arial",majorTickStep:1,
fixUpper:"major",fixLower:"major"}),p.setTheme(A),p.addAxis("legend",{type:"legend",position:"top",isShow:!0}));for(var e=[{value:0,text:""}],h=0;h<i.length;h++)e.push({value:h+1,text:(i[h]+"").replace(/(\d{4})(\d{2})(\d{2})000000/,"$1-$2-$3")});p.addAxis("x",{labels:e,font:"normal normal normal 10pt Arial",majorTickStep:1,majorLabels:!g,minorLabels:!g,minorTicks:!g});p.addSeries("\u6bcd\u57fa\u91d1\u6298\u4ef7\u7387",b,{plot:"\u6bcd\u57fa\u91d1\u6298\u4ef7\u7387",stroke:{color:"#CB4443",width:1}});
c&&(p.addSeries("\u6298\u4ef7\u5957\u5229\u6210\u672c",a.wrapArray(d,b.length),{plot:"\u6298\u4ef7\u5957\u5229\u6210\u672c",stroke:{color:"#DBA825",width:1}}),p.addSeries("\u6ea2\u4ef7\u5957\u5229\u6210\u672c",a.wrapArray(f,b.length),{plot:"\u6ea2\u4ef7\u5957\u5229\u6210\u672c",stroke:{color:"#7CA9BD",width:1}}));e=[];for(h=0;h<i.length;h++)e.push((i[h]+"").replace(/(\d{4})(\d{2})(\d{2})000000/,"$1-$2-$3"));g||new x(p.chart,{labels:e});p.render();if("lines"!=a.draw)p.resize(),a.draw="lines"})},wrapArray:function(a,
b){if(1==a.length)for(var c=1;c<b;c++)a.push(a[0]);return a},drawFenJiAZheYiJia:function(){var a=this;(new t({})).query({service:"rpc",so:"javadataproxy.jar","function":"gw/UIMain",paraencode:"base64",parameter:"Z2V0,"+btoa(this.urls.fenJiAZheYiJia.replace("@acode",this.acode)),response_times:1,response_mode:0}).then(function(b){if(1>=b.length)var c=!0,d=f=g=b=[NaN,NaN];else var d=l.mapToArray(b,"\u65e5\u671f"),f=l.mapToArray(b,"\u5206\u7ea7A\u6298\u4ef7\u7387"),g=l.mapToArray(b,"\u5206\u7ea7A\u51c0\u503c"),
b=l.mapToArray(b,"\u5206\u7ea7A\u4ef7\u683c");dojo.byId("lines").style.display="none";dojo.byId("linesA").style.display="block";dojo.byId("linesB").style.display="none";var i;a.zheYiJiaATu?i=a.zheYiJiaATu:(i=a.zheYiJiaATu=new q({margins:{l:10,t:10,r:30,b:10}},"linesA"),i.addPlot("\u5206\u7ea7A\u6298\u4ef7\u7387",{type:r,vAxis:"y"}),i.addPlot("\u5206\u7ea7A\u51c0\u503c",{type:r,vAxis:"y2"}),i.addPlot("\u5206\u7ea7A\u4ef7\u683c",{type:r,vAxis:"y2"}),i.addAxis("y",{vertical:!0,font:"normal normal normal 10pt Arial",
title:"\u5206\u7ea7A\u6298\u4ef7\u7387(%)",titleFont:"normal normal normal 10pt Arial",majorTickStep:1}),i.addAxis("y2",{vertical:!0,leftBottom:!1,font:"normal normal normal 10pt Arial",title:"\u5206\u7ea7A\u51c0\u503c/\u4ef7\u683c",titleFont:"normal normal normal 10pt Arial",majorTickStep:0.1}),i.setTheme(A),i.addAxis("legend",{type:"legend",position:"top",isShow:!0}));for(var e=[{value:0,text:""}],h=0;h<d.length;h++)e.push({value:h+1,text:(d[h]+"").replace(/(\d{4})(\d{2})(\d{2})000000/,"$1-$2-$3")});
i.addAxis("x",{labels:e,font:"normal normal normal 10pt Arial",majorTickStep:1,majorLabels:!c,minorLabels:!c,minorTicks:!c});i.addSeries("\u5206\u7ea7A\u6298\u4ef7\u7387",f,{plot:"\u5206\u7ea7A\u6298\u4ef7\u7387",stroke:{color:"#CB4443",width:1}});i.addSeries("\u5206\u7ea7A\u51c0\u503c",g,{plot:"\u5206\u7ea7A\u51c0\u503c",stroke:{color:"#D9A317",width:1}});i.addSeries("\u5206\u7ea7A\u4ef7\u683c",b,{plot:"\u5206\u7ea7A\u4ef7\u683c",stroke:{color:"#73A3B9",width:1}});e=[];for(h=0;h<d.length;h++)e.push((d[h]+
"").replace(/(\d{4})(\d{2})(\d{2})000000/,"$1-$2-$3"));c||new x(i.chart,{labels:e});i.render();if("linesA"!=a.draw)i.resize(),a.draw="linesA"})},drawFenJiBZheYiJia:function(){var a=this;(new t({})).query({service:"rpc",so:"javadataproxy.jar","function":"gw/UIMain",paraencode:"base64",parameter:"Z2V0,"+btoa(this.urls.fenJiBZheYiJia.replace("@bcode",this.bcode)),response_times:1,response_mode:0}).then(function(b){if(1>=b.length)var c=!0,d=h=e=b=[NaN,NaN];else var d=l.mapToArray(b,"\u65e5\u671f"),h=
l.mapToArray(b,"\u5206\u7ea7B\u6ea2\u4ef7\u7387"),e=l.mapToArray(b,"\u5206\u7ea7B\u51c0\u503c"),b=l.mapToArray(b,"\u5206\u7ea7B\u4ef7\u683c");dojo.byId("lines").style.display="none";dojo.byId("linesA").style.display="none";dojo.byId("linesB").style.display="block";var i;a.zheYiJiaBTu?i=a.zheYiJiaBTu:(i=a.zheYiJiaBTu=new q({margins:{l:10,t:10,r:30,b:10}},"linesB"),i.addPlot("\u5206\u7ea7B\u6ea2\u4ef7\u7387",{type:r,vAxis:"y"}),i.addPlot("\u5206\u7ea7B\u51c0\u503c",{type:r,vAxis:"y2"}),i.addPlot("\u5206\u7ea7B\u4ef7\u683c",
{type:r,vAxis:"y2"}),i.addAxis("y",{vertical:!0,font:"normal normal normal 10pt Arial",title:"\u5206\u7ea7B\u6ea2\u4ef7\u7387(%)",titleFont:"normal normal normal 10pt Arial",majorTickStep:1}),i.addAxis("y2",{vertical:!0,leftBottom:!1,font:"normal normal normal 10pt Arial",title:"\u5206\u7ea7B\u51c0\u503c/\u4ef7\u683c",titleFont:"normal normal normal 10pt Arial",majorTickStep:0.1}),i.setTheme(A),i.addAxis("legend",{type:"legend",position:"top",isShow:!0}));for(var f=[{value:0,text:""}],g=0;g<d.length;g++)f.push({value:g+
1,text:(d[g]+"").replace(/(\d{4})(\d{2})(\d{2})000000/,"$1-$2-$3")});i.addAxis("x",{labels:f,font:"normal normal normal 10pt Arial",majorTickStep:1,majorLabels:!c,minorLabels:!c,minorTicks:!c});i.addSeries("\u5206\u7ea7B\u6ea2\u4ef7\u7387",h,{plot:"\u5206\u7ea7B\u6ea2\u4ef7\u7387",stroke:{color:"#CB4443",width:1}});i.addSeries("\u5206\u7ea7B\u51c0\u503c",e,{plot:"\u5206\u7ea7B\u51c0\u503c",stroke:{color:"#D9A317",width:1}});i.addSeries("\u5206\u7ea7B\u4ef7\u683c",b,{plot:"\u5206\u7ea7B\u4ef7\u683c",
stroke:{color:"#73A3B9",width:1}});f=[];for(g=0;g<d.length;g++)f.push((d[g]+"").replace(/(\d{4})(\d{2})(\d{2})000000/,"$1-$2-$3"));c||new x(i.chart,{labels:f});i.render();if("linesB"!=a.draw)i.resize(),a.draw="linesB"})},drawPriceLeverage:function(){var a=this;(new t({})).query({service:"rpc",so:"javadataproxy.jar","function":"gw/UIMain",paraencode:"base64",parameter:"Z2V0,"+btoa(this.urls.priceLeverage.replace("@bcode",this.bcode)),response_times:1,response_mode:0}).then(function(b){if(1>=b.length)var c=
!0,d=g=b=array9=[NaN,NaN];else var d=l.mapToArray(b,"\u65e5\u671f"),g=l.mapToArray(b,"\u5206\u7ea7B\u4ef7\u683c"),b=l.mapToArray(b,"\u4ef7\u683c\u6760\u6746");dojo.byId("leverage").style.display="block";dojo.byId("leverage2").style.display="none";var f;a.leverageTu?f=a.leverageTu:(f=a.leverageTu=new q({margins:{l:10,t:10,r:30,b:10}},"leverage"),f.addPlot("\u5206\u7ea7B\u4ef7\u683c",{type:r,vAxis:"y"}),f.addPlot("\u4ef7\u683c\u6760\u6746",{type:r,vAxis:"y2"}),f.addAxis("y",{vertical:!0,font:"normal normal normal 10pt Arial",
title:"\u5206\u7ea7B\u4ef7\u683c",titleFont:"normal normal normal 10pt Arial",majorTickStep:0.1}),f.addAxis("y2",{vertical:!0,leftBottom:!1,font:"normal normal normal 10pt Arial",title:"\u4ef7\u683c\u6760\u6746",titleFont:"normal normal normal 10pt Arial",majorTickStep:0.1}),f.setTheme(A),f.addAxis("legend",{type:"legend",position:"top",isShow:!0}));for(var h=[{value:0,text:""}],e=0;e<d.length;e++)h.push({value:e+1,text:(d[e]+"").replace(/(\d{4})(\d{2})(\d{2})000000/,"$1-$2-$3")});f.addAxis("x",{labels:h,
font:"normal normal normal 10pt Arial",majorTickStep:1,majorLabels:!c,minorLabels:!c,minorTicks:!c});f.addSeries("\u5206\u7ea7B\u4ef7\u683c",g,{plot:"\u5206\u7ea7B\u4ef7\u683c",stroke:{color:"#D9A317",width:1}});f.addSeries("\u4ef7\u683c\u6760\u6746",b,{plot:"\u4ef7\u683c\u6760\u6746",stroke:{color:"#CB4443",width:1}});h=[];for(e=0;e<d.length;e++)h.push((d[e]+"").replace(/(\d{4})(\d{2})(\d{2})000000/,"$1-$2-$3"));c||new x(f.chart,{labels:h});f.render();if("leverage"!=a.draw)f.resize(),a.draw="leverage"})},
drawNetLeverage:function(){var a=this;(new t({})).query({service:"rpc",so:"javadataproxy.jar","function":"gw/UIMain",paraencode:"base64",parameter:"Z2V0,"+btoa(this.urls.netLeverage.replace("@bcode",this.bcode)),response_times:1,response_mode:0}).then(function(b){if(1>=b.length)var c=!0,d=f=b=array9=[NaN,NaN];else var d=l.mapToArray(b,"\u65e5\u671f"),f=l.mapToArray(b,"\u5206\u7ea7B\u51c0\u503c"),b=l.mapToArray(b,"\u51c0\u503c\u6760\u6746");dojo.byId("leverage").style.display="none";dojo.byId("leverage2").style.display=
"block";var e;a.leverage2Tu?e=a.leverage2Tu:(e=a.leverage2Tu=new q({margins:{l:10,t:10,r:30,b:10}},"leverage2"),e.addPlot("\u5206\u7ea7B\u51c0\u503c",{type:r,vAxis:"y"}),e.addPlot("\u51c0\u503c\u6760\u6746",{type:r,vAxis:"y2"}),e.addAxis("y",{vertical:!0,font:"normal normal normal 10pt Arial",title:"\u5206\u7ea7B\u51c0\u503c",titleFont:"normal normal normal 10pt Arial",majorTickStep:0.1}),e.addAxis("y2",{vertical:!0,leftBottom:!1,font:"normal normal normal 10pt Arial",title:"\u51c0\u503c\u6760\u6746",
titleFont:"normal normal normal 10pt Arial",majorTickStep:0.1}),e.setTheme(A),e.addAxis("legend",{type:"legend",position:"top",isShow:!0}));for(var h=[{value:0,text:""}],g=0;g<d.length;g++)h.push({value:g+1,text:(d[g]+"").replace(/(\d{4})(\d{2})(\d{2})000000/,"$1-$2-$3")});e.addAxis("x",{labels:h,font:"normal normal normal 10pt Arial",majorTickStep:1,majorLabels:!c,minorLabels:!c,minorTicks:!c});e.addSeries("\u5206\u7ea7B\u51c0\u503c",f,{plot:"\u5206\u7ea7B\u51c0\u503c",stroke:{color:"#D9A317",width:1}});
e.addSeries("\u51c0\u503c\u6760\u6746",b,{plot:"\u51c0\u503c\u6760\u6746",stroke:{color:"#CB4443",width:1}});h=[];for(g=0;g<d.length;g++)h.push((d[g]+"").replace(/(\d{4})(\d{2})(\d{2})000000/,"$1-$2-$3"));c||new x(e.chart,{labels:h});e.render();if("leverage2"!=a.draw)e.resize(),a.draw="leverage2"})},tab1Create:function(){function b(a,c,d){return"<div data-is-tip-cell=true>"+d+"</div>"}k.byId("baseInfoGrid")||(new t).query({service:"rpc",so:"javadataproxy.jar","function":"gw/UIMain",paraencode:"base64",
parameter:"Z2V0,"+btoa(l.soUrl+"/webquery/common?__qid=classificationFunds_quotesAnalysis_baseInfo"),response_times:1,response_mode:0}).then(function(c){var d=[{id:"A1",name:"\u5e8f\u53f7",cssClass:"font-center",headerCssClass:"font-center",width:40,sortable:!1,formatter:H.index},{id:"B5",name:"\u4ee3\u7801",field:"\u6bcd\u57fa\u91d1\u4ee3\u7801",group:"\u6bcd\u57fa\u91d1C\u7c7b",width:70,sortable:!1,cssClass:"font-center"},{id:"B6",name:"\u7b80\u79f0",field:"\u6bcd\u57fa\u91d1\u540d\u79f0",group:"\u6bcd\u57fa\u91d1C\u7c7b",
width:110,sortable:!1},{id:"B1",name:"\u4ee3\u7801",field:"\u5206\u7ea7A\u4ee3\u7801",group:"\u5b50\u57fa\u91d1A\u7c7b\u7a33\u5065\u578b",width:70,sortable:!1,cssClass:"font-center"},{id:"B2",name:"\u7b80\u79f0",field:"\u5206\u7ea7A\u540d\u79f0",group:"\u5b50\u57fa\u91d1A\u7c7b\u7a33\u5065\u578b",width:110,sortable:!1},{id:"B3",name:"\u4ee3\u7801",field:"\u5206\u7ea7B\u4ee3\u7801",group:"\u5b50\u57fa\u91d1B\u7c7b\u8fdb\u53d6\u578b",width:70,sortable:!1,cssClass:"font-center"},{id:"B4",name:"\u7b80\u79f0",
field:"\u5206\u7ea7B\u540d\u79f0",group:"\u5b50\u57fa\u91d1B\u7c7b\u8fdb\u53d6\u578b",width:110,sortable:!1},{id:"A3",name:"\u4efd\u989d\u914d\u6bd4(A:B)",field:"\u4efd\u989d\u914d\u6bd4",width:105,sortable:!1,cssClass:"font-center"},{id:"A4",name:"\u521d\u59cb\u6760\u6746\u6bd4\u4f8b",field:"\u521d\u59cb\u6760\u6746\u6bd4\u4f8b",width:104,sortable:!1,cssClass:"font-right",formatter:l.toFixed2},{id:"A5",name:"\u6bcd\u57fa\u91d1\u9600\u503c",field:"\u6298\u7b97\u6761\u4ef6\u6bcd\u57fa\u91d1C",group:"\u4e0d\u5b9a\u671f\u9600\u503c\u6761\u4ef6",
width:90,sortable:!1,cssClass:"font-left"},{id:"A6",name:"B\u7c7b\u9600\u503c",field:"\u6298\u7b97\u6761\u4ef6\u5206\u7ea7B",group:"\u4e0d\u5b9a\u671f\u9600\u503c\u6761\u4ef6",width:90,sortable:!1},{id:"A7",name:"\u7ea6\u5b9a\u6536\u76ca\u8868\u8fbe\u5f0f",field:"A\u7c7b\u7ea6\u5b9a\u5e74\u6536\u76ca\u8868\u8fbe\u5f0f",group:"A\u7c7b\u7ea6\u5b9a\u5e74\u6536\u76ca",width:120,sortable:!1},{id:"A8",name:"\u7ea6\u5b9a\u5e74\u6536\u76ca",field:"A\u7c7b\u7ea6\u5b9a\u5e74\u6536\u76ca",group:"A\u7c7b\u7ea6\u5b9a\u5e74\u6536\u76ca",
width:90,sortable:!1,cssClass:"font-right",formatter:l.agreeIncomFormat},{id:"A9",name:"\u5b9a\u671f\u4efd\u989d\u6298\u7b97\u65e5",field:"\u5b9a\u671f\u4efd\u989d\u6298\u7b97\u65e5",width:115,sortable:!1},{id:"A10",name:"\u7533\u8d2d\u573a\u6240",field:"\u7533\u8d2d\u573a\u6240",width:75,sortable:!1,cssClass:"font-center"},{id:"A11",name:"\u98ce\u9669\u7b49\u7ea7",field:"\u98ce\u9669\u7b49\u7ea7",width:75,sortable:!1,cssClass:"font-center"},{id:"A12",name:"\u662f\u5426\u53ef\u914d\u5bf9\u8f6c\u6362",
field:"\u662f\u5426\u53ef\u914d\u5bf9\u8f6c\u6362",width:115,sortable:!1,cssClass:"font-center"},{id:"A13",name:"\u4efd\u989d\u914d\u6bd4\u573a\u6240",field:"\u4efd\u989d\u914d\u6bd4\u573a\u6240",width:103,sortable:!1,cssClass:"font-center"},{id:"A14",name:"\u5c01\u95ed\u671f\u540e\u8fd0\u4f5c\u65b9\u5f0f",field:"\u5c01\u95ed\u671f\u540e\u8fd0\u4f5c\u65b9\u5f0f",width:134,sortable:!1},{id:"A15",name:"\u6700\u65b0\u4efd\u989d(\u4ebf\u4efd)",field:"\u6700\u65b0\u4efd\u989d",width:115,sortable:!1,cssClass:"font-right",
formatter:l.toFixed2},{id:"A17",name:"\u4e3b\u8981\u7279\u70b9",field:"\u4e3b\u8981\u7279\u70b9",width:90,sortable:!1,formatter:b},{id:"A18",name:"\u4e1a\u7ee9\u57fa\u51c6",field:"\u4e1a\u7ee9\u57fa\u51c6",width:90,sortable:!1},{id:"A19",name:"\u6210\u7acb\u65f6\u95f4",field:"\u6210\u7acb\u65f6\u95f4",width:90,sortable:!1,formatter:l.dateFormat,cssClass:"font-center"},{id:"A20",name:"\u5269\u4f59\u5e74\u9650",field:"\u5269\u4f59\u5e74\u9650",width:70,sortable:!1,cssClass:"font-right",formatter:l.toFixed2},
{id:"A21",name:"\u57fa\u91d1\u7c7b\u578b",field:"\u57fa\u91d1\u7c7b\u578b",width:90,sortable:!1},{id:"A22",name:"\u57fa\u91d1\u7c7b\u578b\u660e\u7ec6",field:"\u57fa\u91d1\u7c7b\u578b\u660e\u7ec6",width:105,sortable:!1},{id:"A23",name:"\u57fa\u91d1\u7ba1\u7406\u4eba",field:"\u57fa\u91d1\u7ba1\u7406\u4eba",width:90,sortable:!1},{id:"A24",name:"\u57fa\u91d1\u6258\u7ba1\u4eba",field:"\u57fa\u91d1\u6258\u7ba1\u4eba",width:90,sortable:!1},{id:"A25",name:"\u57fa\u91d1\u7ecf\u7406",field:"\u57fa\u91d1\u7ecf\u7406",
width:90,sortable:!1}],c=new z({id:"baseInfoGrid",store:new a({data:c}),columns:d,options:{enableCellNavigation:!0,enableColumnReorder:!1,forceFitColumns:!1,rowHeight:25,hasCanvasVirtualLine:!0,frozenColumn:6}},"datacontainer");c.startup();c.on("mouseover",function(a){if(a.target.dataset.isTipCell){dojo.query(a.target).closest(".slick-cell").forEach(function(a){D.remove(a,"title")});if(!this.detailTip)this.detailTip=new F({style:"width:300px",className:"detailTip"});this.detailTip.set("content",a.target.innerHTML);
B.open({popup:this.detailTip,around:a.target})}a.cancelBubble=!0;return a.returnValue=!1});c.on("mouseout",function(){B.close(this.detailTip)})})},createTrendChart:function(){var a=this.acode,b=this.bcode;this.curTrendChartAcode=a;this.curTrendChartBcode=b;if(!(!a||!b||40!=this.tab))a=[{code:"SH000300.index"},{code:a},{code:b}],this.trendChartTu?this.trendChartTu.changeCode(a):(b=l.calculateTime("y"),a={store:new o,query:{obj:a,k_period:"1d",k_split:1,times:b,his_data:0},chartParams:{type:3}},(this.trendChartTu=
new g(a,"kLineContainer")).startup())},selBaseInfoRow:function(){var a=k.byId("baseInfoGrid");if(a){a.setSelectedRows([]);for(var b=a.data,c=0,d=0;d<b.length;d++)if(-1<this.ccode.indexOf(b[d]["\u6bcd\u57fa\u91d1\u4ee3\u7801"])){c=d;break}a.scrollRowIntoView(c);a.setSelectedRows([c,c]);a.scrollTo(a.scrollTop+1);a.scrollTo(a.scrollTop-1)}}})})},"url:fund/fjjj/view/bottomGraph.html":'\ufeff<div data-dojo-attach-point="containerNode">\t\t\t\t\t \r\n\t<div data-dojo-attach-point="mytabContainer" data-dojo-type="dijit/layout/TabContainer" data-dojo-props="tabPosition:\'top\',tabStrip:true" style="height: 100%;">\t\r\n\t\r\n\t\t<div data-dojo-type="dijit/layout/ContentPane" data-dojo-props=\'selected:true,title:"\u8d70\u52bf\u56fe"\' \r\n\t\t\t data-dojo-attach-point="trendChartTuContainer">\t\r\n\t\t\t<div id="kLineContainer" class="spacer" style="height:100%;width:100%"></div>\r\n\t\t</div>\r\n\t\t\r\n\t\t<div data-dojo-type="dijit/layout/ContentPane" data-dojo-props=\'title:"\u6298\u6ea2\u4ef7"\'>\r\n\t\t\t<div class="vbox" style="height:100%;width:100%">\t\t\r\n\t\t\t\t<div class="chart_title">\r\n\t\t\t\t\t\t<div class="chart_title_tag">\r\n\t\t\t\t\t\t\t<input type="radio" data-dojo-attach-point="zhengTiZheYiJia" name="D1" value="\u6bcd\u57fa\u91d1\u6298\u6ea2\u4ef7" data-dojo-type="dijit/form/RadioButton" id="D11" data-dojo-props=\'checked:true\' ><label for="D11">\u6bcd\u57fa\u91d1\u6298\u6ea2\u4ef7</label>\r\n\t\t\t\t\t\t\t<input type="radio" data-dojo-attach-point="fenJiAZheYiJia" name="D1" value="\u5206\u7ea7A\u6298\u6ea2\u4ef7" data-dojo-type="dijit/form/RadioButton" id="D12"><label for="D12">\u5206\u7ea7A\u6298\u6ea2\u4ef7</label>\r\n\t\t\t\t\t\t\t<input type="radio" data-dojo-attach-point="fenJiBZheYiJia" name="D1" value="\u5206\u7ea7B\u6298\u6ea2\u4ef7" data-dojo-type="dijit/form/RadioButton" id="D13"><label for="D13">\u5206\u7ea7B\u6298\u6ea2\u4ef7</label>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="spacer hbox" data-dojo-attach-point="zheYiJiaTuContainer">\r\n\t\t\t\t\t<div id="lines" class="spacer"></div> \r\n\t\t\t\t\t<div id="linesA" class="spacer"></div>\r\n\t\t\t\t\t<div id="linesB" class="spacer"></div> \r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div data-dojo-type="dijit/layout/ContentPane" data-dojo-props=\'title:"\u6760\u6746\u7387"\'>\r\n\t\t\t<div class="vbox" style="height:100%;width:100%">\t\t\r\n\t\t\t\t<div class="chart_title">\r\n\t\t\t\t\t<div class="chart_title_tag"  >\r\n\t\t\t\t\t\t<input type="radio" data-dojo-attach-point="priceLeverage" name="L1" value="\u4ef7\u683c\u6760\u6746" data-dojo-type="dijit/form/RadioButton" id="L11" data-dojo-props=\'checked:true\'><label for="L11">\u4ef7\u683c\u6760\u6746</label>\r\n\t\t\t\t\t\t<input type="radio" data-dojo-attach-point="netLeverage" name="L1" value="\u51c0\u503c\u6760\u6746" data-dojo-type="dijit/form/RadioButton" id="L12"><label for="L12">\u51c0\u503c\u6760\u6746</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="spacer hbox" data-dojo-attach-point="leverageTuContainer">\r\n\t\t\t\t\t<div id="leverage" class="spacer"></div> \r\n\t\t\t\t\t<div id="leverage2" class="spacer"></div> \r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t    <div data-dojo-type="dijit/layout/ContentPane" data-dojo-props=\'title:"\u57fa\u672c\u4fe1\u606f"\'>\r\n\t\t\t<div id="datacontainer" style="height:250px"></div>\r\n\t\t</div>\r\n\r\n\t</div>\r\n\r\n</div>',
"dojox/store/KlineWSStore":function(){define("dojox/store/KlineWSStore","dojo/_base/declare,dojo/_base/lang,dojo/json,dojo/Deferred,dojo/store/util/QueryResults,dojo/store/Observable,dojo/_base/array,dojo/io-query,dojo/topic,dojox/store/WebSocket".split(","),function(d,a,b,c,e,f,h,m,j,u){return d("dojox.store.KlineWSStore",u,{convert:function(a){return[a]}})})},"dojox/charting/plot2d/dashedLine":function(){define("dojox/charting/plot2d/dashedLine",["dojo/_base/declare","./Default"],function(d,a){return d("dojox.charting.plot2d.dashedLine",
a,{constructor:function(){this.opt.lines=!1;this.opt.dashedLine=!0}})})},"fund/fjjj/view/topMune":function(){define("dojo/_base/declare,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dijit/layout/_ContentPaneResizeMixin,dojo/_base/lang,dojo/_base/event,dojo/on,dojo/dom-class,dojo/dom-attr,dojo/text!./topMune.html,dojox/slickgrid/slickgrid".split(","),function(d,a,b,c,e,f,h,m,j,u,C){return d("fund.fjjj.view.topMune",[a,b,c],{templateString:C})})},"url:fund/fjjj/view/topMune.html":'<div data-dojo-type="dijit/layout/ContentPane">\r\n\t<div data-dojo-type="dijit/MenuBar" id="navMenu">\r\n\t\t<div style="line-height:22px;position:absolute;right:17px;font-size:16px;color:#FFFFFF;">\u5206\u7ea7\u57fa\u91d1\u62a5\u4ef7 [SFQ]</div>\r\n\t</div>\r\n</div>'}});
define("fund/fjjj/src","dojo/parser,fund/fjjj/view/topGrid,fund/fjjj/view/bottomGraph,fund/fjjj/view/topMune,fund/fjjj/view/util,fund/fjjj/view/fjjjUtil".split(","),function(d){return function(){d.parse()}});