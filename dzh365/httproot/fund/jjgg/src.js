/*
	Copyright (c) 2012-2013,   To get sources and documentation, please visit:

		http://dms.gw.com.cn
*/

//>>built
require({cache:{"fund/jjgg/view/leftNavigation":function(){define("dojo/_base/declare,fund/jjgg/view/globalMethod,dojo/store/Memory,dijit/registry,dojo/aspect,dijit/Menu,dijit/MenuItem,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dijit/layout/_ContentPaneResizeMixin,dojo/_base/lang,dojo/_base/array,dojo/_base/event,dojo/on,dijit/Dialog,dojo/dom-class,dojo/dom-style,dojo/dom-geometry,dojo/dom-construct,dojo/dom-attr,dojo/text!./leftNavigation.html,dojox/store/LocalStorage,dojo/data/ItemFileWriteStore,dojox/store/GridSOStore,dojo/io-query,dojo/query,dijit/tree/CheckboxForestStoreModel,dijit/tree/CheckboxTree,dijit/tree/ForestStoreModel,dijit/Tree,dojox/slickgrid/slickgrid,dojo/date/locale,dojo/date,dojox/form/KeyboardSpirit".split(","),
function(n,d,l,b,u,z,y,s,w,q,t,c,D,E,F,B,r,C,H,v,K,a,g,A,G,m,h,I,j,L,o,k,p,e){return n("fund.jjgg.view.leftNavigation",[s,w,q,t],{templateString:a,noticeName:"",stockCodeList:[],stockCodeData:[],stockCodeData1:[],postCreate:function(){this.bindWidgetsEvent();this.fundQuery()},startup:function(){this.inherited(arguments);this.bindEvents()},bindEvents:function(){var i=this;dojo.connect(dijit.byId("clearBtn"),"onClick",function(){i.clearSelectedTree()});dojo.connect(dijit.byId("fundCode"),"onChange",
function(){i.addStock()});dojo.connect(dijit.byId("ABdialog1button2"),"onClick",function(){dijit.byId("ABDlg1").onCancel()});dojo.connect(dijit.byId("ABdialog1button1"),"onClick",function(){for(var e=i.noticeName,x=dijit.byId("dataGrid"),f=x.getSelectedRows(),m=[],a=0;a<f.length;a++)m.push(x.data[f[a]]);e=d.deleteNoticeById(e,m);d.rendQuery(e)})},bindWidgetsEvent:function(){d.loadSearchName();d.loadNoticeName();d.initData();this.loadData();this.favoriteDBClick()},fundQuery:function(){var i=this;columns=
[{id:"code",name:"\u57fa\u91d1\u4ee3\u7801",field:"code",width:75,cssClass:"font-center",headerCssClass:"font-center"},{id:"name",name:"\u57fa\u91d1\u7b80\u79f0",field:"name",width:75,cssClass:"font-center",headerCssClass:"font-center"},{id:"delete",name:" ",field:"code",width:10,formatter:function(i,e,m){return"<img class='hand_pointer text_dline' id=\""+m+"\" src='resources/image/delete.png' style='width:16px;height:16px;'>"}}];options={forceFitColumns:!0,enableColumnReorder:!1,rowHeight:20};var e=
new l({data:[]});this.grid=new k({"class":"rowBorder",store:e,columns:columns,options:options,id:"sGrid"});this.grid.placeAt("fundGrid");this.grid.startup();this.grid.on("click",c.hitch(this,function(e,f){2==f.cell&&e.target.id&&(i.stockCodeData.splice(f.row,1),this.grid.refresh(i.stockCodeData))}))},loadData:function(){(new G({})).query({service:"rpc",so:"javadataproxy.jar","function":"gw/UIMain",paraencode:"base64",parameter:"Z2V0,"+btoa(d.commonURL_UTF8+m.objectToQuery({__qid:"FundNotice_bg_Tree"})),
response_times:1,response_mode:0},{}).then(function(i){try{var e=eval("("+i.result.datas[0][0]+")"),m=e.items;1>m.length&&dijit.byId("pagerDiv")&&dijit.byId("pagerDiv").update_prompt_text("\u670d\u52a1\u5668\u8d85\u65f6");for(i=0;i<m.length;i++)m[i].checked=m[i].id&&"\u5e38\u7528\u5206\u7c7b"==m[i].name?!0:!1;var f=new A({data:e}),a=new I({store:f,query:{type:"level0"},rootId:"rootId",childrenAttrs:["children"]}),p=new j({id:"rangeFilter",model:a,openOnClick:!0,setCheckboxOnClick:!0,showRoot:!1},
"scopeTree");p.startup();var k=dijit.byId("rangeFilter").model.store;if(void 0!=dijit.byId("rangeFilter").rootNode.item.children){var g=dijit.byId("rangeFilter").rootNode.item.children[0];k.setValue(g,"checked",!0)}a.store.fetchItemByIdentity({identity:"105191",onItem:function(i){var e=i;i.children&&(e=i.children[0]);i=[];p.getFullPathByItem(e,i);p.set("path",i);p.set("path",[])}})}catch(o){dijit.byId("pagerDiv")&&dijit.byId("pagerDiv").update_prompt_text("\u65e0\u68c0\u7d22\u7ed3\u679c,\u8bf7\u4f7f\u7528\u5176\u4ed6\u6761\u4ef6\u8fdb\u884c\u68c0\u7d22")}})},
favoriteDBClick:function(){var i=this,m=new g;F(dijit.byId("favoriteTree"),"click",c.hitch(this,function(a){var f=a.id[0];if(!("wdcx"==f||"wdgg"==f))if(a=m.get(f),"jjggId_value_"==f.substring(0,13)){var k=dijit.byId("searchKey"),g=dijit.byId("noticeDate");k.setValue(a.searchKey);var j=dijit.byId("noticeStartDate"),o=dijit.byId("noticeEndDate"),k=dojo.date.stamp.fromISOString(a.noticeStartDate),A=dojo.date.stamp.fromISOString(a.noticeEndDate);g.setValue(a.noticeDate);"\u6700\u65b0"==a.noticeDate?j.setValue(new Date(e.add(new Date,
"day",-1))):"\u4e00\u5468\u5185"==a.noticeDate?j.setValue(new Date(e.add(new Date,"week",-1))):"\u4e00\u4e2a\u6708\u5185"==a.noticeDate?j.setValue(new Date(e.add(new Date,"month",-1))):"\u4e09\u4e2a\u6708\u5185"==a.noticeDate?j.setValue(new Date(e.add(new Date,"month",-3))):"\u534a\u5e74\u5185"==a.noticeDate?j.setValue(new Date(e.add(new Date,"month",-6))):"\u4e00\u5e74\u5185"==a.noticeDate?j.setValue(new Date(e.add(new Date,"year",-1))):"\u81ea\u5b9a\u4e49"==a.noticeDate&&(j.setValue(new Date(k)),
o.setValue(new Date(A)));j=dijit.byId("noticeStartDate").value;o=dijit.byId("noticeEndDate").value;k=p.format(new Date(j),{datePattern:"yyyyMMdd",timePattern:"000000",locale:"zh-cn"}).replace(" ","");A=p.format(new Date(o),{datePattern:"yyyyMMdd",timePattern:"000000"}).replace(" ","");i.invertSelectionTree(f,"noticeTree");g="";j=a.noticeType;if(0<j.length)for(var h=0;h<j.length;h++)g+=j[h][j[h].length-1]+",";var h=a.switchTab,c=a.blockId;dijit.byId("mytabContainer").selectChild(h);o=j="";if("secondTab"==
h){if(0<c.length){if(0<i.stockCodeData.length)i.stockCodeData=[];for(h=0;h<c.length;h++)j+=c[h].code+",",f={code:c[h].code,name:c[h].name},i.stockCodeData.push(f),i.grid.refresh(i.stockCodeData)}}else{i.invertSelectionTree(f,"rangeFilter");for(h=0;h<c.length;h++)o+=c[h][c[h].length-1]+","}j=j.substring(0,j.length-1);f=g.substring(0,g.length-1);d.queryDataGrid('{"objs":"'+j+'","fids":"C1,C3,C4,C6,C12,CC2,C28","noticeCategory":"'+f+'","queryType":"like","productCode":"00000000000100030002","dCategory":"7","lvl":"7","bdate":"'+
k+'","edate":"'+A+'","sort":"C6:-1","nodeId":"'+o+'","titleKeys":"'+a.searchKey+'","skip":"0","amount":"20"}');dijit.byId("btnDelNotice").domNode.style.display="none";dijit.byId("btnMoveNotice").domNode.style.display="none";dijit.byId("btnSaveNotice").domNode.style.display="inline-block";dijit.byId("btnSaveQuery").domNode.style.display="inline-block"}else if("noticeId_value_"==f.substring(0,15)){i.__proto__.noticeName=a.name;if(void 0==a.value||0==a.value.length)dijit.byId("dataGrid").refresh([]),
dijit.byId("pagerDiv").update_prompt_text("\u5df2\u6536\u85cf\u7684\u516c\u544a\u5168\u90e8\u5220\u9664,\u8bf7\u91cd\u65b0\u9009\u62e9!"),dijit.byId("pagerDiv")&&dijit.byId("pagerDiv").refresh(1,1);else{f=[];for(h=0;h<a.value.length;h++)null!=a.value[h]&&f.push(a.value[h]);d.rendQuery(f)}dijit.byId("btnDelNotice").domNode.style.display="inline-block";dijit.byId("btnMoveNotice").domNode.style.display="inline-block";dijit.byId("btnSaveNotice").domNode.style.display="none";dijit.byId("btnSaveQuery").domNode.style.display=
"none"}}))},invertSelectionTree:function(i,e){var a=new g,f=dijit.byId(e),m="noticeTree"==e?a.get(i).noticeType:a.get(i).blockId;if(a.get(i)&&m){f.set("paths",m);f.set("paths",[]);if("rangeFilter"==e){if(a=f.rootNode.item.children.length,0<a)for(var j=0;j<a;j++)f.model.store.setValue(f.rootNode.item.children[j],"checked",!1)}else f.model.store.setValue(f.rootNode.item.children[0],"checked",!1);m.forEach(function(i){i=i.pop();f.model.store.fetchItemByIdentity({identity:i,queryOptions:{deep:!0},onItem:function(i){f.model.store.setValue(i,
"checked",!0)}})})}},addStock:function(){var i=dijit.byId("fundCode").value;""!=dijit.byId("fundCode").get("value")&&(null==dijit.byId("fundCode").get("item")?(this.showPrompt("\u6ca1\u6709\u76f8\u5e94\u7684\u57fa\u91d1\u4ee3\u7801"),dijit.byId("fundCode").set("value","")):(i={code:i.split(" ")[0],name:i.split(" ")[1]},dijit.byId("fundCode").set("value",""),this.stockCodeData.push(i),this.grid.refresh(this.stockCodeData)))},clearSelectedTree:function(){this.slectedTree(dijit.byId("noticeTree"),!1)},
slectedTree:function(i,a){i.model.store.fetch({query:{checked:!0},queryOptions:{deep:!0},onItem:function(e){i.model.store.setValue(e,"checked",a)}})},showPrompt:function(i){dijit.byId("pleaseCheckGG")||new B({id:"pleaseCheckGG",title:"\u63d0\u793a",refreshOnShow:!0,href:"resources/dialog/promptDialog.html",style:{width:"250px",height:"85px"},onHide:function(){this.destroyRecursive()},onLoad:function(){document.getElementById("promptContent").innerHTML=i}});dijit.byId("pleaseCheckGG").show()}})})},
"fund/jjgg/view/globalMethod":function(){define(["fund/jjgg/view/_globalMethod"],function(n){return new n})},"fund/jjgg/view/_globalMethod":function(){define("dojo/store/Memory,dojo/request,dojo/_base/declare,dijit/_WidgetBase,dojo/_base/lang,dojo/_base/event,dojo/on,dojo/dom-class,dojo/dom-attr,dojox/slickgrid/sogrid,dojox/store/GridSOStore,dojox/store/GridWSStore,dijit/Dialog,dojo/query,./pager,dojox/slickgrid/controls/pager,dojo/_base/array,dojox/websocket/WebsocketFileReader,./newsStore,dojox/store/LocalStorage,fund/jjgg/view/map,dojo/NodeList-data".split(","),
function(n,d,l,b,u,z,y,s,w,q,t,c,D,E,F,B,r,C,H,v,K){return l("fund.jjgg.view.globalMethod",null,{zReader:new C,dataMap:new K,commonURL_UTF8:"/webquery/common?",socketCfg:{service:"rpc",so:"jso-ui-fndnotice.jar","function":"gw.sh.func.FndNoticeRequest",paraencode:"base64",response_times:1,cache_timeout:10,response_mode:1,request_timeout:10},queryDataGrid:function(a){var g=new H,c=dijit.byId("dataGrid");g.query({service:"rpc",so:"jso-ui-fndnotice.jar","function":"gw.sh.func.FndNoticeRequest",paraencode:"base64",
parameter:(window.external.base64encode?window.external.base64encode:btoa)(a),response_times:1,cache_timeout:10,response_mode:0,request_timeout:10}).then(function(g){dijit.byId("dataGrid").setSelectedRows([]);if(-1==g.res_type)c.refresh([]),dijit.byId("pagerDiv").refresh(1,1),dijit.byId("pagerDiv").update_prompt_text("\u65e0\u68c0\u7d22\u7ed3\u679c,\u8bf7\u4f7f\u7528\u5176\u4ed6\u6761\u4ef6\u8fdb\u884c\u68c0\u7d22");else if(dijit.byId("pagerDiv").clear_prompt_text(),c.store.data=g,c.refresh(g),0==
g.length)dijit.byId("pagerDiv").refresh(1,1),dijit.byId("pagerDiv").update_prompt_text("\u65e0\u68c0\u7d22\u7ed3\u679c,\u8bf7\u4f7f\u7528\u5176\u4ed6\u6761\u4ef6\u8fdb\u884c\u68c0\u7d22");else{g=dojo.byId("pagerDiv1");if(dijit.byId("pagerDiv"))dijit.byId("pagerDiv").destroy(),g.innerHTML='<div id="pagerDiv"></div>';(new F({grid:c,pageSize:"20",goFirstOnStart:!0,query:a,pageFlag:!0},"pagerDiv")).startup()}})},isExistSearchName:function(a){for(var g=new v,c=g.getKeys(),b=!1,m=0;m<c.length;m++)if(g.get(c[m]).name==
a&&("jjggId_value_"==g.get(c[m]).id.substring(0,13)||"noticeId_value_"==g.get(c[m]).id.substring(0,15))){var b=!0,h=c[m];break}return b?h:"0"},isExistNoticeName:function(a){for(var g=new v,c=g.getKeys(),b=!1,m=0;m<c.length;m++)if(g.get(c[m]).name==a&&"noticeId_value_"==g.get(c[m]).id.substring(0,15)){b=!0;break}return b},saveSearchName:function(a,g,c){continentStore1.fetchItemByIdentity({identity:c,onItem:function(c){continentStore1.newItem({id:a,name:g,rightClick:"rightClick",type:"level1"},{parent:c,
attribute:"children"})}});this.addRightClick()},loadSearchName:function(){var a=new v;0<a.getKeys().length&&continentStore1.fetchItemByIdentity({identity:"wdcx",onItem:function(c){a.getKeys().forEach(function(b){8<a.get(b).id.length&&"jjggId_value_"==a.get(b).id.substring(0,13)&&continentStore1.newItem({id:a.get(b).id,name:a.get(b).name,rightClick:"rightClick",type:"level1"},{parent:c,attribute:"children"})})}});this.addRightClick()},loadNoticeName:function(){var a=new v;0<a.getKeys().length&&continentStore1.fetchItemByIdentity({identity:"wdgg",
onItem:function(c){a.getKeys().forEach(function(b){8<a.get(b).id.length&&"noticeId_value_"==a.get(b).id.substring(0,15)&&continentStore1.newItem({id:a.get(b).id,name:a.get(b).name,rightClick:"rightClick",type:"level1"},{parent:c,attribute:"children"})})}});this.addRightClick()},addRightClick:function(){continentStore1.fetch({query:{rightClick:"rightClick"},queryOptions:{deep:!0},onItem:function(a){s.add(dijit.byId("favoriteTree").getNodesByItem(a)[0].domNode,a.rightClick[0])}})},deleteSearchId:function(a){continentStore1.fetchItemByIdentity({identity:a,
onItem:function(a){continentStore1.deleteItem(a)}})},deleteNoticeById:function(a,c){var b=new v,d=b.getKeys();if(0!=c.length)for(var m=0;m<d.length;m++)if(b.get(d[m]).name==a&&"noticeId_value_"==b.get(d[m]).id.substring(0,15)){var h=b.get(d[m]).value,d=b.get(d[m]).id,h=r.filter(h,function(a){if(null!=a){for(var m=!0,h=0;h<c.length;h++)if(null!=c[h].C3&&a.C3==c[h].C3){m=!1;break}return m}}),m=b.get(d);m.value=h;b.remove(d);b.put(m);return h}},initData:function(){var a=new dojo.data.ItemFileWriteStore({url:require.toUrl("fund/jjgg/resources/data/typeDetail.json")}),
c=this;a.fetch({onItem:function(b){c.dataMap.put(a.getValue(b,"identity")+"",a.getValue(b,"name"))}})},rendQuery:function(a){var c=dijit.byId("dataGrid");c.set("store",new n({data:a}));c.refresh(a);c.setSelectedRows([]);var b=dojo.byId("pagerDiv1");if(dijit.byId("pagerDiv"))dijit.byId("pagerDiv").destroy(),b.innerHTML='<div id="pagerDiv"></div>';pagers=new B({grid:c,pageSize:20,goFirstOnStart:!0,totalPages:a.length,_btnProxy:function(a){this.grid.setSelectedRows([]);this.inherited("_btnProxy",arguments)}},
"pagerDiv");pagers.startup()},collapseNode:function(a,c){if(a.getNodesByItem(c)&&void 0!==a.getNodesByItem(c)[0])a.getNodesByItem(c)[0].collapse();else{var b=[];a.getFullPathByItem(c,b);a.set("path",b);a.getNodesByItem(c)[0].collapse();a.set("path",[])}},showLoading:function(){dijit.byId("basicStandby").show()},hideLoading:function(){dijit.byId("basicStandby").hide()},showPrompt:function(a){dijit.byId("pleaseCheckGG")||new D({id:"pleaseCheckGG",title:"\u63d0\u793a",refreshOnShow:!0,href:"resources/dialog/promptDialog.html",
style:{width:"250px",height:"85px"},onHide:function(){this.destroyRecursive()},onLoad:function(){document.getElementById("promptContent").innerHTML=a}});dijit.byId("pleaseCheckGG").show()}})})},"fund/jjgg/view/pager":function(){define("dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dijit/registry,dojo/dom-geometry,dojo/_base/declare,dojo/_base/lang,./newsStore,fund/jjgg/view/globalMethod,dojo/on,dojo/text!./pager.html,dojo/query,dojo/NodeList-traverse,dojo/NodeList-manipulate".split(","),
function(n,d,l,b,u,z,y,s,w,q,t){return z("fund.jjgg.pager",[n,d,l],{templateString:t,grid:null,amount:20,query:null,goFirstOnStart:!1,pageFlag:!0,totalPages:null,postMixInProperties:function(){this.inherited(arguments)},postCreate:function(){this.store=this.grid.get("store");this.pageNum=this.pageNum||1;this.pageSize=this.pageSize||25;this.totalPages=this.store.data&&this.store.data.total_num?Math.ceil(this.store.data.total_num/this.pageSize):Math.ceil(this.totalPages/this.pageSize);this.pageInputNode.on("keyup",
y.hitch(this,this._gotoSpecifiedPage));this.inherited(arguments)},startup:function(){this.inherited(arguments);this.updatePager();this.goFirstOnStart&&this._gotoFirst()},resize:function(c){c&&u.setMarginBox(this.domNode,{w:c.w});this.inherited(arguments)},_btnProxy:function(c){c=c.target.name;if(c in{First:1,Prev:1,Next:1,Last:1})this["_goto"+c]()},_gotoFirst:function(){if(1!=this.pageNum&&this.pageNum)this.pageNum=1,this.grid.scrollTo(0),this._readQueryPage(this),this.updatePager()},_gotoLast:function(){if(this.pageNum<
this.totalPages)this.pageNum=this.totalPages,this._readQueryPage(this)},_gotoPrev:function(){1<this.pageNum&&(this.pageNum-=1,this._readQueryPage(this),this.updatePager())},_gotoNext:function(){this.pageNum&&this.totalPages>this.pageNum&&(this.pageNum+=1,this._readQueryPage(this),this.updatePager())},_readQueryPage:function(c){dijit.byId("dataGrid").setSelectedRows([]);c.clear_prompt_text();c.grid.scrollTo(0);var b=c.amount,d=(c.pageNum-1)*b,l=c.query.indexOf("skip")+7,l=c.query.substring(0,l),l=
l+d+'","amount":"'+b+'"}';(new s).query({service:"rpc",so:"jso-ui-fndnotice.jar","function":"gw.sh.func.FndNoticeRequest",paraencode:"base64",parameter:(window.external.base64encode?window.external.base64encode:btoa)(l),response_times:1,cache_timeout:0,response_mode:0,request_timeout:-1}).then(function(b){c.grid.refresh(b);c.grid.store.data=b});c.updatePager()},_gotoSpecifiedPage:function(c){if(13==c.keyCode&&(c=this.pageInputNode.getValue(),c<=this.totalPages&&1<=c))this.pageNum=c,this.grid.scrollTo(0),
this._readQueryPage(this),this.updatePager()},refresh:function(c,b){isNaN(parseInt(b))||(this.pageNum=parseInt(b));isNaN(parseInt(c))?c.then(y.hitch(this,function(c){this.totalPages=c;this.updatePager()})):(this.total=c,this.totalPages=parseInt(c),this.updatePager())},updatePager:function(){this.totalPageNode.innerHTML=this.totalPages||"";this.pageInputNode.set("value",this.pageNum)},update_prompt_text:function(c){this.prompt_text.style.display="block";this.prompt_text.innerHTML="<span class='pagePrompt'></span>"+
c},clear_prompt_text:function(){this.prompt_text.style.display="none";this.prompt_text.innerHTML=""}})})},"fund/jjgg/view/newsStore":function(){define(["dojo/_base/lang","dojo/_base/declare","dojox/store/WebSocket"],function(n,d,l){return d("fund.jjgg.Store",[l],{constructor:function(b){d.safeMixin(this,b);this.inherited(arguments)},socketCfg:{},total_nums:0,parameter:{},current_item_cnt:0,idProperty:"id",getProperty:function(b){return this[b]},setProperty:function(b,d){1==arguments.length&&n.isObject(b)?
n.mixin(this,b):2==arguments.length&&(this[b]=d)},query:function(b,d){dijit.byId("basicStandby").show();this.socketCfg.parameter=(btoa||btoa)(JSON.stringify(this.parameter));[].push.call(arguments,this.socketCfg);var l=this.inherited(arguments);1==this.socketCfg.response_times&&l.then(n.hitch(this,function(){this.cancel(this.req_seq)}));l.total=l.then(function(b){return b?b.total_num:-1});dijit.byId("basicStandby").hide();return l},progress:function(b){return this.convert(b)},convert:function(b){var b=
b.result,d,l,n=[],s=this,w=this.parameter;2==b.head.length&&"title"==b.head[0]&&"tablelist"==b.head[1]?(d=b.datas[0][1].head,l=b.datas[0][1].datas):(d=b.head,l=b.datas);l.forEach(function(c){var b={};d.forEach(function(d,l){b[d]=c[l]});s.put(b);n.push(b)});if(b.datas[1])try{var q=b.datas[1][1].datas[0];n.total_num=!q||-1==q[0]||0==q[0]?0:q[0]}catch(t){}this.current_item_cnt=w.skip+n.length;return n}})})},"url:fund/jjgg/view/pager.html":'<div tabindex="0" hidefocus="" class="slick-pager">\r\n\t<span class="prompt_text" data-dojo-attach-point="prompt_text">asdfasfdasfd</span>\r\n\t<span class="slick-pager-nav" data-dojo-attach-event="onclick:_btnProxy">\r\n\t\t<button data-dojo-type="dijit/form/Button" data-dojo-props="name:\'First\'">\u9996\u9875</button>\r\n\t\t<button data-dojo-type="dijit/form/Button" data-dojo-props="name:\'Prev\'">\u4e0a\u4e00\u9875</button>\r\n\t\t<input  data-dojo-type="dijit/form/NumberTextBox" data-dojo-props="\'class\':\'pageInput\'" data-dojo-attach-point="pageInputNode" />/<span data-dojo-attach-point="totalPageNode"></span>\r\n\t\t<button data-dojo-type="dijit/form/Button" data-dojo-props="name:\'Next\'">\u4e0b\u4e00\u9875</button>\r\n\t\t<button data-dojo-type="dijit/form/Button" data-dojo-props="name:\'Last\'">\u5c3e\u9875</button>\r\n\t</span>\r\n</div>',
"fund/jjgg/view/map":function(){define(["dojo/_base/declare"],function(n){return n("fund.jjgg.view.map",null,{keys:[],data:{},put:function(d,l){null==this.data[d]&&this.keys.push(d);this.data[d]=l},get:function(d){return this.data[d]},contain:function(d){return this.data[d]?!0:!1},remove:function(d){this.keys.splice(d);this.data[d]=null},each:function(d){if("function"==typeof d)for(var l=this.keys.length,b=0;b<l;b++){var n=this.keys[b];d(n,this.data[n],b)}},entrys:function(){for(var d=this.keys.length,
l=Array(d),b=0;b<d;b++)l[b]={key:this.keys[b],value:this.data[b]};return l},isEmpty:function(){return 0==this.keys.length},size:function(){return this.keys.length},toString:function(){for(var d="{",l=0;l<this.keys.length;l++,d+=",")var b=this.keys[l],d=d+(b+"="+this.data[b]);return d+"}"}})})},"url:fund/jjgg/view/leftNavigation.html":'<div data-dojo-attach-point="containerNode">\r\n<div data-dojo-type="dijit/layout/BorderContainer"  data-dojo-props="liveSplitters:false" >\r\n\t<div data-dojo-type="dijit/layout/ContentPane" data-dojo-props=\'region:"top", splitter:true\' style="width:100%;height:35%">\r\n\t\t<div id="mytabContainer" data-dojo-type="dijit/layout/TabContainer">\r\n\t\t\t<div id="firstTab" data-dojo-type="dijit/layout/ContentPane" data-dojo-props=\'title:"\u8303\u56f4\u7b5b\u9009"\'>\t\t\t\t\r\n\t\t\t\t<div data-dojo-type="dijit/layout/ContentPane"><\!-- \u8fd9\u91cc\u52a0ContentPane\u9632\u6b62\u6811\u7684\u5c55\u5f00\u5f71\u54cd\u4e0a\u5c42\u7684ContentPane--\>\r\n\t\t\t\t\t<div id="scopeTree"></div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\t\t\r\n\t\t\t<div id="secondTab" data-dojo-props=\'title:"\u57fa\u91d1\u641c\u7d22"\' data-dojo-type="dijit/layout/ContentPane">\r\n\t\t\t\t<div data-dojo-type="dijit/layout/ContentPane" class="vbox">\r\n\t\t           \t<div id="fundCode" data-dojo-attach-point="inputWidget" data-dojo-type="dojox/form/KeyboardSpirit" \r\n\t\t           \t\tdata-dojo-props="\r\n\t\t           \t\t\tplaceHolder:\'\u8bf7\u8f93\u5165\u57fa\u91d1\u4ee3\u7801\',\r\n\t\t           \t\t\tmaxHeight:220,\r\n\t\t           \t\t\tlabelFunc: function(item, store){\r\n\t\t\t\t\t\t\t\titem[this.searchAttr] = item[\'label\']+\' \'+item[\'name\'];\r\n\t\t\t\t\t\t\t\treturn item[\'label\'];\t\r\n\t\t\t\t\t\t\t}" style="width:100%">\r\n\t\t\t\t\t</div>\r\n\t\t          \t<div id="fundGrid" data-dojo-type="dijit/layout/ContentPane" style1="height:128px;width:271px;" class="spacer"></div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t\r\n\t\t</div>\r\n\t</div>\r\n\t\r\n\t<div data-dojo-type="dijit/layout/ContentPane" data-dojo-props=\'region:"center"\' style="width:100%;">\r\n\t\t\t<div data-dojo-type="dijit/layout/TabContainer" style="height: 100%;">\r\n\t\t\t<div data-dojo-type="dijit/layout/ContentPane" data-dojo-props=\'selected:true, title:"\u516c\u544a\u7c7b\u578b"\'>\r\n\t\t\t\t<div data-dojo-type="dijit/layout/ContentPane"><\!-- \u8fd9\u91cc\u52a0ContentPane\u9632\u6b62\u6811\u7684\u5c55\u5f00\u5f71\u54cd\u4e0a\u5c42\u7684ContentPane--\>\r\n\t\t\t\t\t<div data-dojo-type="dojo/data/ItemFileWriteStore"  data-dojo-id="continentStore2" data-dojo-props="url:\'./resources/data/tree.json\'"></div>\r\n\t\t\t\t\t<div data-dojo-type="dijit/tree/CheckboxForestStoreModel" data-dojo-id="continentModel2" \r\n\t\t\t\t\tdata-dojo-props="store:continentStore2, query:{type:\'level0\'},childrenAttrs:[\'children\'],rootId:\'rootId\'"></div>\r\n\t\t\t\t\t<div data-dojo-type="dijit/tree/CheckboxTree" id="noticeTree" data-dojo-props="model: continentModel2, query:{ type:\'level0\'},path1:[\'rootId\',\'navigatesubscibe \',\'navigatesubscibe \',\'navigatesubscibe \'],openOnClick:false,showRoot:false,showIcon:false">\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div id="ABDlg1" style="display: none" data-dojo-type="dijit/Dialog" data-dojo-props=\'style:"width:500px,height:300px",title:"\u5220\u9664\u516c\u544a","aria-describedby":"intro",class:"tc_1"\'>\r\n\t\t\t\t<div id="ABintro1"></div>\r\n\t\t\t\t<div class="dijitDialogPaneActionBar">\r\n\t\t\t\t\t<div class="tc_btn">\r\n\t\t\t\t\t\t<button id="ABdialog1button1" data-dojo-type="dijit/form/Button"data-dojo-props=\'type:"submit",label:"\u786e\u5b9a"\'></button>\r\n\t\t\t\t\t\t<button id="ABdialog1button2" data-dojo-type="dijit/form/Button"data-dojo-props=\'type:"button",label:"\u53d6\u6d88"\'></button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div id="clearBtn" data-dojo-type="dijit/form/Button" style="position:absolute;  right: 0px; top: 0px;">\u6e05\u7a7a\u52fe\u9009\u9879</div>\r\n\t</div>\r\n\t\r\n\t<div data-dojo-type="dijit/layout/ContentPane" id="010101"  data-dojo-props=\'region:"bottom", splitter:true\' style="width:100%;height:18%" >\r\n\t\t<div data-dojo-type="dijit/layout/TabContainer" id="0000" >\r\n\t\t\t<div data-dojo-type="dijit/layout/ContentPane" id="11111" data-dojo-props=\'selected:true, title:"\u6536\u85cf\u5939"\'>\r\n\t\t\t\t<div data-dojo-type="dijit/layout/ContentPane" id="2222"><\!-- \u8fd9\u91cc\u52a0ContentPane\u9632\u6b62\u6811\u7684\u5c55\u5f00\u5f71\u54cd\u4e0a\u5c42\u7684ContentPane--\>\r\n\t\t\t\t\t<div data-dojo-type="dojo/data/ItemFileWriteStore" data-dojo-id="continentStore1" data-dojo-props="url:\'./resources/data/favorite.json\'"></div>\r\n\t\t\t\t\t<div data-dojo-type="dijit/tree/ForestStoreModel" data-dojo-id="continentModel1" data-dojo-props="store:continentStore1, query:{type:\'level0\'},childrenAttrs:[\'children\'],rootId:\'node\'"></div>\r\n\t\t\t\t\t<div data-dojo-type="dijit/Tree" id="favoriteTree" data-dojo-props="model: continentModel1, query:{ type:\'level0\'},path:[\'node\',\'newReport\',\'qbzx\'], openOnClick:true,showRoot:false,showIcon:false">\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t\r\n\t\r\n\t\r\n</div>\r\n</div>\t\t\t\t\r\n',
"fund/jjgg/view/topbar":function(){define("dojo/_base/declare,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dojo/_base/array,dojo/_base/lang,dojo/on,dojo/dom-class,dojo/dom-attr,dojo/i18n!../nls/src,dojo/text!./topbar.html".split(","),function(n,d,l,b,u,z,y,s,w,q,t){return n("fund.jjgg.view.topbar",[d,l,b],{templateString:t,postMixInProperties:function(){this.inherited(arguments);z.mixin(this,q)}})})},"url:fund/jjgg/view/topbar.html":'<div data-dojo-attach-point="containerNode" class="hbox dijitTopBar">\n\t<div class="spacer"></div>\n\t<div style="line-height: 25px;">\u57fa\u91d1\u516c\u544a [NFAB]</div>\n</div>',
"fund/jjgg/view/searchBar":function(){define("dojo/store/Memory,dijit/registry,dojo/_base/declare,dijit/form/ComboBox,dojo/date,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dijit/layout/_ContentPaneResizeMixin,dojo/_base/lang,dojo/_base/array,dojo/on,dojo/dom-class,dojo/dom-attr,fund/jjgg/view/map,./newsStore,./globalMethod,dojo/text!./searchBar.html,dojox/slickgrid/slickgrid,dijit/Dialog,dojo/date/stamp,dojo/date/locale,dojox/store/LocalStorage,dojo/data/ItemFileWriteStore,./leftNavigation,dojox/layout/TableContainer".split(","),
function(n,d,l,b,u,z,y,s,w,q,t,c,D,E,F,B,r,C,H,v,K,a,g,A,G){return l("fund.jjgg.view.searchBar",[z,y,s,w],{templateString:C,noticeIdList:[],postCreate:function(){this.bindWidgetsEvent()},bindWidgetsEvent:function(){var a=this,b=dijit.byId("noticeDate"),d=dijit.byId("btnSaveQuery"),j=dijit.byId("btnSaveNotice"),g=dijit.byId("noticeStartDate"),o=dijit.byId("noticeEndDate");dijit.byId("beginName");dijit.byId("btnDelNotice").domNode.style.display="none";dijit.byId("btnMoveNotice").domNode.style.display=
"none";dijit.byId("btnSaveNotice").domNode.style.display="inline-block";dojo.connect(j,"onClick",function(){a.showFavoriteDialog()});dojo.connect(d,"onClick",function(){a.showSearchDialog()});dojo.connect(dijit.byId("btnDelNotice"),"onClick",function(){a.delNotice()});dojo.connect(dijit.byId("btnMoveNotice"),"onClick",function(){a.moveNotice()});c(b,"change",q.hitch(this,function(){var a=dijit.byId("noticeDate").item;null!=a&&("1"==a.id?g.setValue(new Date(u.add(new Date,"day",-1))):"2"==a.id?g.setValue(new Date(u.add(new Date,
"week",-1))):"3"==a.id?g.setValue(new Date(u.add(new Date,"month",-1))):"4"==a.id?g.setValue(new Date(u.add(new Date,"month",-3))):"5"==a.id?g.setValue(new Date(u.add(new Date,"month",-6))):"6"==a.id&&g.setValue(new Date(u.add(new Date,"year",-1))),"7"!=a.id&&o.setValue(new Date))}));c(g._buttonNode,"click",q.hitch(this,function(){b.setValue("\u81ea\u5b9a\u4e49")}));c(o._buttonNode,"click",q.hitch(this,function(){b.setValue("\u81ea\u5b9a\u4e49")}));dojo.connect(g,"onKeyUp",function(){b.setValue("\u81ea\u5b9a\u4e49")});
dojo.connect(o,"onKeyUp",function(){b.setValue("\u81ea\u5b9a\u4e49")});dojo.connect(dijit.byId("btnSearch"),"onClick",function(){a.searchNotice()})},showFavoriteDialog:function(){this.noticeIdList=[];for(var b=this,h=dijit.byId("dataGrid").getSelectedRows(),d=0;d<h.length;d++)dijit.byId("dataGrid"),b.noticeIdList.push(dijit.byId("dataGrid").data[h[d]]);0==b.noticeIdList.length?this.showPrompt("\u8bf7\u9009\u62e9\u516c\u544a"):(new v({id:"dialogFavorite",title:"\u6536\u85cf\u516c\u544a",refreshOnShow:!0,
href:"resources/dialog/favoriteDialog.html",style:{width:"400px",height:"128px"},onHide:function(){this.destroyRecursive()},onLoad:function(){dijit.byId("noticeList").attr("readonly","readonly");for(var j=new g,h=j.getKeys(),d=dijit.byId("noticeList").store.data,k=0;k<h.length;k++)"noticeId_value_"==j.get(h[k]).id.substring(0,15)&&d.push({id:j.get(h[k]).id,name:j.get(h[k]).name+""});d=dijit.byId("noticeList");c(d,"change",function(){"\u65b0\u5efa\u516c\u544a"==this.get("value")?dijit.byId("newNoticeName").setDisabled(!1):
dijit.byId("newNoticeName").setDisabled(!0)});document.getElementById("favoriteTime").innerHTML="<label style='padding-left: 122px;'>\u6536\u85cf\u65f6\u95f4:"+a.format(new Date,{selector:"date",datePattern:"yyyy-MM-dd HH:mm"})+"</label>";dojo.connect(dijit.byId("dybtnOk"),"onClick",function(){var a="";if("\u65b0\u5efa\u516c\u544a"==dijit.byId("noticeList").displayedValue)if(a=dijit.byId("newNoticeName").value,null==a||""==a)b.showPrompt("\u65b0\u5efa\u7684\u516c\u544a\u6807\u9898\u4e0d\u80fd\u4e3a\u7a7a!");
else{var e=r.isExistNoticeName(a),i=new g,c="noticeId_value_"+(new Date).getTime(),d={id:c,rightClick:"rightClick",name:a,value:b.noticeIdList};if(e){var f=r.isExistSearchName(a);b.dojoConfirm("\u5df2\u5b58\u5728\u76f8\u540c\u7684\u6536\u85cf\u540d\u79f0\uff0c\u662f\u5426\u8986\u76d6\uff1f",function(){dijit.byId("dialogFavorite").onCancel();i.remove(f);continentStore1.fetchItemByIdentity({identity:f,onItem:function(a){continentStore1.deleteItem(a)}});i.put(d);r.saveSearchName(c,a,"wdgg");dijit.byId("dataGrid").setSelectedRows([]);
dijit.byId("dialogFavorite").onCancel()})}else i.put(d),r.saveSearchName(c,a,"wdgg"),dijit.byId("dataGrid").setSelectedRows([]),dijit.byId("dialogFavorite").onCancel()}else{a=dijit.byId("noticeList").displayedValue;for(e=0;e<h.length;e++)if(j.get(h[e]).name==a){var k=j.get(h[e]).value,c=j.get(h[e]).id,o=j.get(c),l=b.noticeIdList;if(void 0!=k&&0!=k.length){for(var I=[],k=k.concat(l),e=0;e<k.length;e++)b.check(I,k[e])&&I.push(k[e]);k=I;o.value=k}else o.value=l;j.remove(c);j.put(o);b.noticeIdList.splice(0,
l.length)}dijit.byId("dialogFavorite").onCancel();dijit.byId("dataGrid").setSelectedRows([])}})}})).show()},searchNotice:function(){dijit.byId("favoriteTree").set("path",[]);dijit.byId("btnSaveQuery").domNode.style.display="none";dijit.byId("btnSaveQuery").domNode.style.display="inline-block";var b=this.getNoticeType("noticeTree"),c=dijit.byId("mytabContainer").selectedChildWidget.id,d=dijit.byId("searchKey").value,j=dijit.byId("noticeEndDate").value,g=dijit.byId("noticeStartDate").value,g=a.format(new Date(g),
{datePattern:"yyyyMMdd",timePattern:"000000"}).replace(" ",""),j=a.format(new Date(j),{datePattern:"yyyyMMdd",timePattern:"235959"}).replace(" ",""),o="";if("0NaNNaNNaN000000"==g||"0NaNNaNNaN000000"==j)dijit.byId("container").getChildren()[0].refresh([]),dijit.byId("pagerDiv").refresh("1","1"),dijit.byId("pagerDiv").update_prompt_text("\u9009\u62e9\u7684\u65e5\u671f\u4e0d\u7b26\u5408\u8981\u6c42,\u8bf7\u91cd\u65b0\u9009\u62e9!");else{var k=[];if("secondTab"==c)for(var p=dijit.byId("fundGrid").getChildren()[0].data,
e=0;e<p.length;e++)o+=p[e].code+",";else dijit.byId("rangeFilter").model.store.fetch({query:{checked:!0},queryOptions:{deep:!0},onItem:function(a){k.push([a.type,a.id,a.children,a.name])}});for(var p="",i=[],l=[],e=0;e<k.length;e++){var x=!0;if("level0"==k[e][0])for(var f=0;f<k[e][2].length;f++)i.push([k[e][2][f].type,k[e][2][f].id,k[e][2][f].children,k[e][2][f].name]);else if("level1"==k[e][0]&&k[e][2])for(f=0;f<k[e][2].length;f++)l.push([k[e][2][f].type,k[e][2][f].id,k[e][2][f].name]);if(0<i.length)for(f=
0;f<i.length;f++)if(i[f][1]==k[e][1]&&(x=!1),i[f][2]&&0<i[f][2].length)for(var J=0;J<i[f][2].length;J++)l.push([i[f][2][J].type,i[f][2][J].id,i[f][2][J].name]);if(0<l.length)for(f=0;f<l.length;f++)l[f][1]==k[e][1]&&(x=!1);x&&(p+=k[e][1]+",")}p=p.substring(0,p.length-1);/^\d+$/.exec(d);"Array"==typeof b&&(b=b.toString());b=b.substring(0,b.length-1);o=o.substring(0,o.length-1);e="";r.queryDataGrid("secondTab"==c?'{"objs":"'+o+'","fids":"C1,C3,C4,C6,C12,CC2,C28","noticeCategory":"'+b+'","queryType":"like","productCode":"00000000000100030002","dCategory":"7","lvl":"7","bdate":"'+
g+'","edate":"'+j+'","titleKeys":"'+d+'","sort":"C6:-1","skip":"0","amount":"20"}':'{"fids":"C1,C3,C4,C6,C12,CC2,C28","noticeCategory":"'+b+'","queryType":"like","productCode":"00000000000100030002","dCategory":"7","lvl":"7","bdate":"'+g+'","edate":"'+j+'","titleKeys":"'+d+'","nodeId":"'+p+'","sort":"C6:-1","skip":"0","amount":"20"}');dijit.byId("btnSaveQuery").domNode.style.display="inline-block";dijit.byId("btnSaveNotice").domNode.style.display="inline-block";dijit.byId("btnDelNotice").domNode.style.display=
"none";dijit.byId("btnMoveNotice").domNode.style.display="none"}},getNoticeType:function(a){var b="",c="";dijit.byId(a).model.store.fetch({onItem:function(a){"\u5168\u90e8\u516c\u544a"==a.name&&!0==a.checked[0]?c=a.id+",":void 0==a.children&&!0==a.checked[0]&&(b+=a.id+",")}});return""!=c?c:b},delNotice:function(){var b=G.prototype.noticeName;0==dijit.byId("dataGrid").getSelectedRows().length?this.showPrompt("\u8bf7\u9009\u62e9\u516c\u544a"):(document.getElementById("ABintro1").innerHTML='<div>\u5c06\u516c\u544a\u4ece"\u6211\u7684\u516c\u544a('+
b+")\"\u4e2d\u5220\u9664</div><div><label style='padding-left: 75px;'>\u6536\u85cf\u65f6\u95f4:"+a.format(new Date,{selector:"date",datePattern:"yyyy-MM-dd HH:mm"})+"</label></div>",dijit.byId("ABDlg1").show())},moveNotice:function(){for(var b=this,d=dijit.byId("dataGrid").getSelectedRows(),l=b.noticeIdList,j=0;j<d.length;j++)b.noticeIdList.push(dijit.byId("dataGrid").data[d[j]]);0==l.length?this.showPrompt("\u8bf7\u9009\u62e9\u516c\u544a!"):(new v({id:"dialogMove",title:"\u79fb\u52a8\u516c\u544a",
refreshOnShow:!0,style:{width:"400px",height:"128px"},href:"resources/dialog/moveDialog.html",onHide:function(){this.destroyRecursive()},onLoad:function(){dijit.byId("noticeList1").attr("readonly","readonly");for(var d=G.prototype.noticeName,h=new g,k=h.getKeys(),j=dijit.byId("noticeList1").store.data,e=0;e<k.length;e++)"noticeId_value_"==h.get(k[e]).id.substring(0,15)&&h.get(k[e]).name!=d&&j.push({id:h.get(k[e]).id,name:h.get(k[e]).name+""});d=dijit.byId("noticeList1");c(d,"change",function(){"\u65b0\u5efa\u516c\u544a"==
this.value?dijit.byId("newNoticeName1").setDisabled(!1):dijit.byId("newNoticeName1").setDisabled(!0)});document.getElementById("moveTime").innerHTML="<label style='padding-left: 122px;'>\u79fb\u52a8\u65f6\u95f4:"+a.format(new Date,{selector:"date",datePattern:"yyyy-MM-dd HH:mm"})+"</label>";dojo.connect(dijit.byId("ABdialog1button14"),"onClick",function(){for(var a=G.prototype.noticeName,c=[],e=dijit.byId("dataGrid").getSelectedRows(),f=0;f<e.length;f++)c.push(dijit.byId("dataGrid").data[e[f]]);if("\u65b0\u5efa\u516c\u544a"==
dijit.byId("noticeList1").displayedValue){e=dijit.byId("newNoticeName1").value;if(r.isExistNoticeName(e)){b.showPrompt("\u5df2\u7ecf\u5b58\u5728\u76f8\u540c\u7684\u516c\u544a\u6807\u9898!");return}if(null==e||""==e){b.showPrompt("\u6807\u9898\u4e0d\u80fd\u4e3a\u7a7a!");return}f="noticeId_value_"+(new Date).getTime();h.put({id:f,rightClick:"rightClick",name:e,value:c});r.saveSearchName(f,e,"wdgg")}else for(var e=dijit.byId("noticeList1").displayedValue,d=0;d<k.length;d++)if(h.get(k[d]).name==e&&"noticeId_value_"==
h.get(k[d]).id.substring(0,15)){for(var j=h.get(k[d]).value,f=h.get(k[d]).id,g=h.get(f),p=[],j=j.concat(c),d=0;d<j.length;d++)b.check(p,j[d])&&p.push(j[d]);j=p;g.value=j;h.remove(f);h.put(g)}for(d=0;d<k.length;d++)if("noticeId_value_"==h.get(k[d]).id.substring(0,15)&&h.get(k[d]).name==a&&(f=h.get(k[d]).id,g=h.get(f),c&&0<c.length))j=h.get(k[d]).value,j=t.filter(j,function(a){if(null!=a){for(var i=!0,b=0;b<c.length;b++)if(null!=c[b].C3&&a.C3==c[b].C3){i=!1;break}return i}}),g.value=j,h.remove(f),h.put(g);
r.rendQuery(j);dijit.byId("dialogMove").onCancel()})}})).show()},showSearchDialog:function(){var b=this;(new v({id:"dialogSearch",title:"\u4fdd\u5b58\u67e5\u8be2\u6761\u4ef6",refreshOnShow:!0,href:"resources/dialog/searchDialog.html",style:{width:"400px",height:"128px"},onHide:function(){this.destroyRecursive()},onLoad:function(){document.getElementById("searchTime").innerHTML="<label style='padding-left: 122px;'>\u4fdd\u5b58\u65f6\u95f4:"+a.format(new Date,{selector:"date",datePattern:"yyyy-MM-dd HH:mm"})+
"</label>";dojo.connect(dijit.byId("searchOK"),"onClick",function(){var a=dijit.byId("searchName").value,c=dijit.byId("searchKey").value,d=dijit.byId("noticeDate").value,l=dijit.byId("noticeStartDate").value,o=dijit.byId("noticeEndDate").value;if(null==a||""==a)b.showPrompt("\u67e5\u8be2\u6761\u4ef6\u6807\u9898\u4e0d\u80fd\u4e3a\u7a7a!");else{var k=b.getCheckedNodes(dijit.byId("noticeTree")),p,e=dijit.byId("mytabContainer").selectedChildWidget.id;"secondTab"==e?p=dijit.byId("fundGrid").getChildren()[0].data:
"firstTab"==e&&(p=b.getCheckedNodes(dijit.byId("rangeFilter")));var i="jjggId_value_"+(new Date).getTime(),n={id:i,rightClick:"rightClick",name:a,searchKey:c,noticeDate:d,noticeStartDate:l,noticeEndDate:o,noticeType:k,switchTab:e,blockId:p},x=r.isExistSearchName(a);"noticeId"==x.substring(0,8)&&(x=0);var f=new g;0==x?(f.put(n),r.saveSearchName(i,a,"wdcx")):b.dojoConfirm("\u5df2\u5b58\u5728\u76f8\u540c\u7684\u67e5\u8be2\u540d\u79f0\uff0c\u662f\u5426\u8986\u76d6\uff1f",function(){f.remove(x);r.deleteSearchId(x);
f.put(n);r.saveSearchName(i,a,"wdcx")});dijit.byId("dialogSearch").onCancel()}})}})).show()},getCheckedNodes:function(a){function b(a,d,h){var e=[],e=[h];c(d,h,e);e=e.map(function(a){return a.id[0]});e.unshift(a.rootNode.item.id);return e}function c(a,b,d){a.fetch({query:{children:b},queryOptions:{deep:!0},onItem:function(b){d.unshift(b);c(a,b,d)}})}var d=[],g=a.model.store;g.fetch({query:{checked:!0},queryOptions:{deep:!0},onItem:function(c){c.children||(c=b(a,g,c),d.push(c))}});return d},showPrompt:function(a){(new v({id:"pleaseCheckGG",
title:"\u63d0\u793a",refreshOnShow:!0,href:"resources/dialog/promptDialog.html",style:{width:"250px",height:"85px"},onHide:function(){this.destroyRecursive()},onLoad:function(){document.getElementById("promptContent").innerHTML=a}})).show()},dojoConfirm:function(a,b){var c=new v({id:"confirmDialog",title:"\u63d0\u793a",refreshOnShow:!0,style:{width:"250px",height:"85px"},href:"resources/dialog/confilmDialog.html",onHide:function(){this.destroyRecursive()},onLoad:function(){document.getElementById("confirmContent").innerHTML=
a;var d=dijit.byId("yesButton"),g=dijit.byId("noButton");dojo.connect(d,"onClick",function(){c.hide();b()});dojo.connect(g,"onClick",function(){c.hide()})}});c.startup();c.show()},check:function(a,b){for(var c=!0,d=1;d<=a.length;d++)if(a[d-1].CC2&&a[d-1].C3&&a[d-1].CC2==b.CC2&&a[d-1].C3==b.C3){c=!1;break}return c}})})},"url:fund/jjgg/view/searchBar.html":'\ufeff<div data-dojo-attach-point="containerNode">\r\n<div style="min-width:1000px; height:35px;overflow: hidden">\r\n\t    <table width="100%" height="35">\r\n\t    \t<tbody>\r\n\t    \t\t<tr>\r\n\t    \t\t\t<td><span class="top_span">\u6807\u9898\u5173\u952e\u5b57</span><div data-dojo-type="dijit/form/ComboBox" data-dojo-props="hasDownArrow:false" style="width:120px" id="searchKey"></div>\r\n\t    \t\t\t<span class="top_span">\u516c\u544a\u65e5\u671f</span>\r\n\t\t\t\t\t\t<div id="noticeDate" data-dojo-type="dijit/form/ComboBox" title="\u516c\u544a\u65e5\u671f" style="width:80px" data-dojo-props="readonly:\'readonly\'">\r\n\t\t\t\t\t\t\t\t<option selected value="1">\u6700\u65b0</option>\r\n\t\t\t\t\t\t\t\t<option value="2">\u4e00\u5468\u5185</option>\r\n\t\t\t\t\t\t\t\t<option value="3">\u4e00\u4e2a\u6708\u5185</option>\r\n\t\t\t\t\t\t\t\t<option value="4">\u4e09\u4e2a\u6708\u5185</option>\r\n\t\t\t\t\t\t\t\t<option value="5">\u534a\u5e74\u5185</option>\r\n\t\t\t\t\t\t\t\t<option value="6">\u4e00\u5e74\u5185</option>\r\n\t\t\t\t\t\t\t\t<option value="7">\u81ea\u5b9a\u4e49</option>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<span class="top_span">\u81ea</span><div id="noticeStartDate" data-dojo-type="dijit/form/DateTextBox" data-dojo-props="value:new Date(dojo.date.add(new Date(),\'day\',-1))"></div>\r\n\t\t\t\t\t\t<span class="top_span">\u81f3</span><div id="noticeEndDate" data-dojo-type="dijit/form/DateTextBox" data-dojo-props="value:new Date()"></div>\r\n\t\t\t\t\t\t&nbsp;&nbsp;<div data-dojo-type="dijit/form/Button" data-dojo-props="label:\'\u68c0\u7d22\'" id="btnSearch"></div>\r\n\t\t\t\t\t</td>\r\n\t    \t\t\t<td align="right">\r\n\t    \t\t\t<div data-dojo-type="dijit/form/Button" data-dojo-props="label:\'\u4fdd\u5b58\u67e5\u8be2\u6761\u4ef6\'" id="btnSaveQuery"></div>\r\n\t    \t\t\t<div data-dojo-type="dijit/form/Button" data-dojo-props="label:\'\u5220\u9664\u516c\u544a\'" id="btnDelNotice"></div>\r\n\t    \t\t\t<div data-dojo-type="dijit/form/Button" data-dojo-props="label:\'\u79fb\u52a8\u516c\u544a\'" id="btnMoveNotice"></div>\r\n\t    \t\t\t<div data-dojo-type="dijit/form/Button" data-dojo-props="label:\'\u6536\u85cf\u516c\u544a\'" id="btnSaveNotice"></div></td>\r\n\t    \t\t</tr>\r\n\t    \t</tbody>\r\n\t    </table>\r\n\t</div>\r\n</div>',
"fund/jjgg/view/gridDataShow":function(){define("dojo/store/Memory,dojo/request,dojo/query,dojo/_base/declare,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dijit/layout/_ContentPaneResizeMixin,dojo/_base/lang,dojo/_base/event,dojo/on,dojo/dom-class,dojo/dom-attr,dojo/i18n!../nls/src,dojo/text!./gridDataShow.html,dijit/Dialog,dojox/slickgrid/formatters,dojox/slickgrid/slickgrid,./newsStore,./pager,dijit/TooltipDialog,dijit/popup,fund/jjgg/view/globalMethod,dojox/websocket/WebsocketFileReader,dojox/store/LocalStorage,dojo/date/locale,dojox/widget/Standby".split(","),
function(n,d,l,b,u,z,y,s,w,q,t,c,D,E,F,B,r,C,H,v,K,a,g,A,G,m){return b("fund.jjgg.view.gridDataShow",[u,z,y,s],{templateString:F,currenSearchParameter:"",postMixInProperties:function(){this.inherited(arguments);w.mixin(this,E)},postCreate:function(){var a=dijit.byId("noticeEndDate").value,b=dijit.byId("noticeStartDate").value,b=m.format(new Date(b),{datePattern:"yyyyMMdd",timePattern:"000000"}).replace(" ",""),a=m.format(new Date(a),{datePattern:"yyyyMMdd",timePattern:"235959"}).replace(" ","");this.initData();
this.createGrid(b,a)},initData:function(){},createGrid:function(a,b){var c={objs:"",fids:"C1,C3,C4,C6,C12,CC2,C28",noticeCategory:"00000000000100030005",queryType:"like",productCode:"00000000000100030002",dCategory:"7",lvl:"7",bdate:a,edate:b,titleKeys:"",sort:"C6:-1",nodeId:"105191",skip:"0",amount:"20"},d=this;(new H({socketCfg:g.socketCfg,consolelog:"\u57fa\u91d1\u516c\u544a",parameter:c})).query().then(function(a){d.showDetailData(d,a,c)})},showDetailData:function(b,c,d){var l=[{id:"index",name:"  \u5e8f\u53f7",
width:45,formatter:r.index,cssClass:"font-center",sortable:!0,headerCssClass:"font-center"},{id:"date",name:"\u516c\u544a\u65e5\u671f",field:"C6",width:100,sortable:!0,formatter:function(a,b,c){return"<span>"+c.substring(0,4)+"/"+c.substring(4,6)+"/"+c.substring(6,8)+"</span>"},cssClass:"font-center",headerCssClass:"font-center"},{id:"title",name:"\u516c\u544a\u6807\u9898",field:"C3",width:540,sortable:!0,cssClass:"font-left text_dline",headerCssClass:"font-center"},{id:"code",name:"\u57fa\u91d1\u4ee3\u7801",
field:"CC2",width:100,sortable:!0,formatter:function(a,b,c){a="";b=c.split(",");if(1<b.length){for(c=0;c<b.length;c++)a+=b[c].substring(2,8)+",";a="<span class='text_dline'>"+a.substring(0,a.length-1)+"</span>"}else a+=c.substring(2,8);return a},cssClass:"font-left hand_pointer",headerCssClass:"font-center"},{id:"name",name:"\u57fa\u91d1\u7b80\u79f0",field:"CC3",width:200,sortable:!0,formatter:function(a,b,c,d,g){return 1<g.CC2.split(",").length?"<span class='text_dline'>"+c+"</span>":c},cssClass:"font-left hand_pointer",
headerCssClass:"font-center"},{id:"type",name:"\u516c\u544a\u7c7b\u578b\u660e\u7ec6",formatter:function(a,b,c){a="";c=c.split(",");for(b=0;b<c.length;b++)a+=g.dataMap.get(c[b])+",";return a=a.substring(0,a.length-1)},field:"C28",width:175,sortable:!0,cssClass:"font-left",headerCssClass:"font-center"},{id:"pdf",name:" ",field:"CC12",width:30,sortable:!1,headerCssClass:"font-center",cssClass:"font-center",formatter:function(a,b,c){""!=c&&(4<c.length&&(c=c.substring(0,3)),a=c.substring(c.lastIndexOf(".")+
1),"pdf"==a.toLowerCase()?c="<img class='hand_pointer text_dline' id='"+c+"' src='resources/image/pdf.png' style='width:16px;height:16px;'>&nbsp;&nbsp;":"doc"==a.toLowerCase()||"dot"==a.toLowerCase()||"docx"==a.toLowerCase()?c="<img class='hand_pointer text_dline' id='"+c+"' src='resources/image/doc.gif' style='width:16px;height:16px;'>&nbsp;&nbsp;":"xls"==a.toLowerCase()?c="<img class='hand_pointer text_dline' id='"+c+"' src='resources/image/xls.gif' style='width:16px;height:16px;'>&nbsp;&nbsp;":
"txt"==a.toLowerCase()?c="<img class='hand_pointer text_dline' id='"+c+"' src='resources/image/txt.gif' style='width:16px;height:16px;'>&nbsp;&nbsp;":"ppt"==a.toLowerCase()&&(c="<img class='hand_pointer text_dline' id='"+c+"' src='resources/image/ppt.gif' style='width:16px;height:16px;'>&nbsp;&nbsp;"));return c}},{id:"choose",name:" ",width:35,sortable:!1,CheckBoxSelectColumn:!0,showTitleCheckbox:!1,headerCssClass:"font-center",cssClass:"font-center"}];options={forceFitColumns:!0,enableColumnReorder:!0,
rowHeight:24,hasCanvasVirtualLine:!1};var m=new n({data:c});myGrid=new C({id:"dataGrid",store:m,columns:l,options:options,initFlag:!0},"container");myGrid.startup();l=dojo.byId("pagerDiv1");if(dijit.byId("pagerDiv"))dijit.byId("pagerDiv").destroy(),l.innerHTML='<div id="pagerDiv"></div>';var k=new v({grid:myGrid,pageSize:"20",goFirstOnStart:!0,query:JSON.stringify(d),pageFlag:!0},"pagerDiv");k.startup();myGrid.setSorter(function(a,c,b){if(0<b.sortCols.length)var d=b.sortCols[0].sortCol.cell;for(var g,
f=0,h=b.sortCols,k=h.length;f<k;f++)if(b=a[h[f].sortCol.field],g=c[h[f].sortCol.field],3==d||1==d){if(3==d&&b!=g)return b=b.substring(2,8),g=g.substring(2,8),!!h[f].sortAsc==(null==b||b>g)?1:-1;if(1==d&&b!=g)return!!h[f].sortAsc==(null==b||b>g)?1:-1}else{if(b!=g){var j;if("string"==typeof b)return!0==h[f].sortAsc?j=b.localeCompare(g):!1==h[f].sortAsc&&(j=b.localeCompare(g),j=1<j?-1:1),j}return 0}});0==c.length&&b.isTipMsg("0");void 0!=c.res_type&&-1==c.res_type&&dijit.byId("pagerDiv").update_prompt_text("\u65e0\u68c0\u7d22\u7ed3\u679c,\u8bf7\u4f7f\u7528\u5176\u4ed6\u6761\u4ef6\u8fdb\u884c\u68c0\u7d22");
myGrid.on("mouseout",function(){a.close(this.detailTip)});myGrid.on("click",function(a,b){if(2==b.cell){var c=k.grid.data,d=c[b.row].C4,g=c[b.row].C3;(new A).read(d).then(function(a){var b=new B({id:"fileDetail",title:"",draggable:!0,refreshOnShow:!0,href:"./resources/dialog/titleDetail.html",style:{width:"600px"},onHide:function(){this.destroyRecursive()},onLoad:function(){g="<pre style='font-weight: bold;text-align:center; margin:0; padding:0 ;border-bottom-width: 0px;'>"+g+"</pre>";document.getElementById("myzhaiyaodata").innerHTML=
g.concat(a);dojo.connect(dijit.byId("zhaiyaobtnOk"),"onClick",function(){dijit.byId("fileDetail").onCancel()})}});b.show();b._setStyleAttr("left:450px !important;");b._setStyleAttr("top:80px !important;")})}else 3==b.cell||4==b.cell?(c=[],c=k.grid.data[b.row].CC2.split(","),!dijit.byId("fundCodeDialog")&&1<c.length&&(c=new B({id:"fundCodeDialog",title:"\u9002\u7528\u57fa\u91d1",refreshOnShow:!0,href:"resources/dialog/fundCodeDialog.html",style:{width:"380px",height:"410px",overflow:"hidden",hiddenScroller:"none"},
onHide:function(){this.destroyRecursive()},onLoad:function(){options={forceFitColumns:!0,enableColumnReorder:!0,rowHeight:25,hasCanvasVirtualLine:!1};for(var a=[{id:"code",name:"\u57fa\u91d1\u4ee3\u7801",field:"code",width:120,sortable:!0,headerCssClass:"font-center",cssClass:"font-center"},{id:"name",name:"\u57fa\u91d1\u7b80\u79f0",field:"name",width:180,sortable:!0,headerCssClass:"font-center"}],c=k.grid.data[b.row].CC2.split(","),d=k.grid.data[b.row].CC3.split(","),g=k.grid.data[b.row].C3,h=[],
i=0;i<c.length;i++)h[i]={code:c[i].substring(2,8),name:d[i]};h.sort(function(a,b){return a.code-b.code});c=new n({data:h});d=null;dijit.byId("CodeTielGrid")||(d=new C({id:"CodeTielGrid",store:c,columns:a,options:options}));document.getElementById("CodeTitleName").innerHTML=g;d.placeAt("CodeNameGrid");d.startup();dojo.byId("CodeTielGrid").style.border="0px;";dojo.connect(dijit.byId("fundCodebtnOk"),"onClick",function(){dijit.byId("fundCodeDialog").onCancel()})}}),c.show(),c._setStyleAttr("left:450px !important;"),
c._setStyleAttr("top:80px !important;"))):6==b.cell&&"img"==a.target.localName&&window.external.download("dzh://FILEMGR?LINK="+k.grid.data[b.row].C12+"&OPEN=1&SHOWUI=1")})},isTipMsg:function(a){"0"==a?dijit.byId("pagerDiv").update_prompt_text("\u65e0\u68c0\u7d22\u7ed3\u679c,\u8bf7\u4f7f\u7528\u5176\u4ed6\u6761\u4ef6\u8fdb\u884c\u68c0\u7d22"):dijit.byId("pagerDiv").clear_prompt_text()}})})},"url:fund/jjgg/view/gridDataShow.html":'<div data-dojo-attach-point="containerNode" >\t\t\t\t\t \r\n\t<div data-dojo-type="dijit/layout/ContentPane" style="height:100%">\r\n\t\t<div class="vbox"  style="overflow: hidden;height:100%">\r\n\t\t\t<div data-dojo-type="dijit/layout/ContentPane" style="height:95%">\r\n\t\t\t\t<div id="container" style="overflow: hidden;"></div>\r\n\t\t\t</div>\r\n\t\t\t<div id="pagerDiv1" style="height:5%"><div id="pagerDiv"></div></div>\r\n\t\t\t\r\n\t\t</div>\r\n\t</div><span class="color3">365@gw.com.cn</span>\u9886\u53d6\uff01</p>\r\n\t<div id ="basicStandby" target="bodyId" data-dojo-type="dojox/widget/Standby"  zIndex="1000"></div>\r\n\t\r\n</div>',
"*now":function(n){n(['dojo/i18n!*preload*fund/jjgg/nls/src*["en-us","zh-cn","ROOT"]'])}}});
define("fund/jjgg/src","dojo/parser,fund/jjgg/view/leftNavigation,fund/jjgg/view/topbar,fund/jjgg/view/searchBar,fund/jjgg/view/gridDataShow,fund/jjgg/view/pager,dijit/Menu,dijit/MenuItem,dojox/store/LocalStorage,dojo/_base/lang,dijit/Dialog,fund/jjgg/view/globalMethod,dojo/date/locale,dojo/dom-style".split(","),function(n,d,l,b,u,z,y,s,w,q,t,c,D,E){return function(){n.parse().then(function(){E.set(dijit.byId("basicStandby")._underlayNode,"background","none");var b,d=new y({targetNodeIds:["favoriteTree"],
selector:".rightClick"});d.addChild(new s({label:"\u91cd\u547d\u540d",parentMenu:d,onClick:function(){var b=dijit.byNode(this.getParent().currentTarget),d=b.item.name,l=b.item.id,n=b="";"noticeId_value_"==l[0].substring(0,15)?(b="\u4fee\u6539\u6211\u7684\u6536\u85cf\u540d\u79f0",n="\u8bf7\u8f93\u5165\u6211\u7684\u6536\u85cf\u6807\u9898"):(b="\u4fee\u6539\u6211\u7684\u67e5\u8be2\u540d\u79f0",n="\u8bf7\u8f93\u5165\u6211\u7684\u67e5\u8be2\u6807\u9898");(new t({id:"dialogUpdate",title:b,refreshOnShow:!0,
href:"resources/dialog/updateDialog.html",style:{width:"400px",height:"128px"},onHide:function(){this.destroyRecursive()},onLoad:function(){document.getElementById("titleName").innerHTML="<label>"+n+"</label>";document.getElementById("updateTime").innerHTML="<label style='padding-left: 122px;'>\u4fee\u6539\u65f6\u95f4:"+D.format(new Date,{selector:"date",datePattern:"yyyy-MM-dd HH:mm"})+"</label>";dijit.byId("searchName").setValue(d);dojo.connect(dijit.byId("updateOK"),"onClick",function(){var a=
dijit.byId("searchName").value;if(null==a||""==a){var b=new t({id:"pleaseCheckGG",title:"\u63d0\u793a",refreshOnShow:!0,href:"resources/dialog/promptDialog.html",style:{width:"250px",height:"85px"},onHide:function(){this.destroyRecursive()},onLoad:function(){document.getElementById("promptContent").innerHTML="\u6807\u9898\u4e0d\u80fd\u4e3a\u7a7a!"}});b.show()}else if("0"==c.isExistSearchName(a)){continentStore1.fetchItemByIdentity({identity:l,onItem:function(b){continentStore1.setValue(b,"name",a)}});
var b=new w,d=b.get(l);d.name=a;b.remove(l);b.put(d);dijit.byId("dialogUpdate").onCancel()}else b=new t({id:"pleaseCheckGG",title:"\u63d0\u793a\u02be",refreshOnShow:!0,href:"resources/dialog/promptDialog.html",style:{width:"250px",height:"85px"},onHide:function(){this.destroyRecursive()},onLoad:function(){document.getElementById("promptContent").innerHTML="\u5df2\u5b58\u5728\u540c\u540d\u6807\u9898\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165!"}}),b.show()})}})).show()}}));var l=setInterval(function(){var b=
dijit.byId("noticeTree").model.store;if(dijit.byId("noticeTree").rootNode.item.children){rootNode=dijit.byId("noticeTree").rootNode.item.children[0];var d=rootNode.children[0],n=rootNode.children[1],q=rootNode.children[2];b.setValue(rootNode,"checked",!0);d.children.forEach(function(a){c.collapseNode(dijit.byId("noticeTree"),a)});n.children.forEach(function(a){c.collapseNode(dijit.byId("noticeTree"),a)});q.children.forEach(function(a){c.collapseNode(dijit.byId("noticeTree"),a)});dijit.byId("noticeTree").set("path",
[]);clearInterval(l)}},100);d.addChild(new s({label:"\u5220&nbsp;&nbsp;\u9664",parentMenu:d,onClick:function(){var c=dijit.byNode(this.getParent().currentTarget),c=dijit.byNode(this.getParent().currentTarget);b="noticeId_value_"==c.item.id[0].substring(0,15)?"\u6211\u7684\u6536\u85cf":"\u6211\u7684\u67e5\u8be2";var d=new t({id:"confirmDialog",title:"\u63d0\u793a",refreshOnShow:!0,style:{width:"250px",height:"85px"},href:"resources/dialog/confilmDialog.html",onHide:function(){this.destroyRecursive()},
onLoad:function(){document.getElementById("confirmContent").innerHTML="\u60a8\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u6761"+b+"\u5417?";var l=dijit.byId("yesButton"),n=dijit.byId("noButton");dojo.connect(l,"onClick",function(){var a=c.item.id;(new w).remove(a);continentStore1.fetchItemByIdentity({identity:a,onItem:function(a){continentStore1.deleteItem(a)}});d.hide()});dojo.connect(n,"onClick",function(){d.hide()})}});d.show()}}))})}});