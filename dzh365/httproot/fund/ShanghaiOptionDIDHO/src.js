/*
	Copyright (c) 2012-2013,   To get sources and documentation, please visit:

		http://dms.gw.com.cn
*/

//>>built
require({cache:{"fund/ShanghaiOptionDIDHO/view/util":function(){define(["dojox/store/GridWSStore","dojox/store/LocalStorage"],function(g,k){var a={putToCache:function(a){(new k({idProperty:"id",namespace:"shanghaiOption"})).put(a)},getFromCache:function(a){return(new k({idProperty:"id",namespace:"shanghaiOption"})).get(a)},removeFromCache:function(a){return(new k({idProperty:"id",namespace:"shanghaiOption"})).remove(a)}};a.getChange=function(e,d){return a.isEmptyData(e)||a.isEmptyData(d)||0==1*e?
"-":e&&d&&!isNaN(e)&&!isNaN(d)?(e-d).toFixed(4):""};a.getChangeRate=function(e,d){return a.isEmptyData(e)||a.isEmptyData(d)||0==1*e?"-":e&&d&&!isNaN(e)&&!isNaN(d)?(100*(e/d-1)).toFixed(2):""};a.formatResultData=function(a){if(a&&a.datas&&a.head){for(var d=a.datas,a=a.head,b=[],f=0,c=d.length;f<c;f++){for(var g={},h=0,k=a.length;h<k;h++)g[a[h]]=d[f][h];b.push(g)}obj=b}else obj=[];return obj};a.getImgStr=function(){var a;return'<img src="" style="display:none"  onerror= "  var img=this;   setTimeout(function(){    \tif(img.parentNode){    \t\timg.parentNode.style.backgroundColor=\'transparent\' ;    \t}     },1000);  " />'};
a.isEq=function(e,d,b){if(!d)return"n";a.isEmptyData(b)&&(b=2);if(e&&d&&!a.isEmptyData(e)&&!a.isEmptyData(d)){e=(+e).toFixed(b);d=(+d).toFixed(b);if(e>d)return"g";if(e<d)return"l"}return"e"};a.wrapRed=function(e){return a.wrapCursor("<font color='#FF0000'>"+e+"</font>")};a.wrapGreen=function(e){return a.wrapCursor("<font color='#00FF00'>"+e+"</font>")};a.wrapCursor=function(a){return"<span title='\u53cc\u51fb\u8fdb\u5165\u5206\u65f6\u56fe' style='cursor:pointer;'>"+a+"</span>"};a.light=function(e,
d){var b="-";if("g"==d)e=a.wrapRed(e);else if("l"==d)e=a.wrapGreen(e);else return e;return b='<span style="background-color:#0000FF;">'+e+a.getImgStr()+"</span>"};a.lightOnly=function(e,d){return"e"==d||"n"==d?e:e='<span style="background-color:#0000FF;">'+e+a.getImgStr()+"</span>"};a._nodeCellChangeState=function(a,d){if(null==a)return"e";var a=parseFloat(a),b=void 0;d&&(b=""==d.innerText?"":parseFloat(d.innerText));return void 0==b||""==b||b==a?"e":a>b?"g":"l"};a.formatterCode=function(e,d,b,f,
c){return c.titleLimit&&""!=c.titleLimit?(e=c.titleLimit,"<div class='limit_title pl10' style='background:#333333;height:100%;width:100%;cursor:pointer;'><font color='#FFCC00'>"+e+"</font></div>"):a.isEmptyData(b)?a.wrapCursor("-"):a.wrapCursor(a.shortCode(b))};a.formatterPrice=function(e,d,b,f,c){if(c.titleLimit&&""!=c.titleLimit)return e=c.titleDate.substring(0,4)+"-"+c.titleDate.substring(4,6)+"-"+c.titleDate.substring(6,8),"<div class='limit_title' style='background:#333333;height:100%;width:100%;text-align:right;'><font color='#FFCC00'>"+
e+"</font></div>";if(a.isEmptyData(b)||0==1*b)return a.wrapCursor("-");b&&!isNaN(b)&&(b=(+b).toFixed(4));return a.wrapCursor(b)};a.formatter=function(e,d,b,f,c){if(c.titleLimit&&""!=c.titleLimit&&("buyCode"==f.field||"sellCode"==f.field))return"<div style='background:#333333;height:100%;width:100%;'><font color='#FFCC00'></font></div>";if(""!=c.titleLimit)return"<div style='background:#333333;height:100%;width:100%;'><font color='#FFCC00'>"+c.titleLimit+"</font></div>";b&&!isNaN(b)&&(b=(+b).toFixed(0));
return a.defaultValue(b)};a.formatterName=function(e,d,b,f,c){return c.titleLimit&&""!=c.titleLimit?"<div style='background:#333333;height:100%;width:100%;'><font color='#FFCC00'></font></div>":"buyName"==f.field?a.isEmptyData(c.buyName)?a.wrapCursor("-"):a.wrapCursor(c.buyName):"sellName"==f.field?a.isEmptyData(c.sellName)?a.wrapCursor("-"):a.wrapCursor(c.sellName):a.wrapCursor("-")};a.formatterRealName=function(e,d,b,f,c){return c.titleLimit&&""!=c.titleLimit?"<div style='background:#333333;height:100%;width:100%;'><font color='#FFCC00'></font></div>":
"name"==f.field?a.wrapCursor(c.name):"name2"==f.field?a.wrapCursor(c.name2):a.wrapCursor("-")};a.formatter0=function(e,d,b,f,c){if(c.titleLimit&&""!=c.titleLimit)return"<div style='background:#333333;height:100%;width:100%;'><font color='#FFCC00'></font></div>";if(a.isEmptyData(b)||0==1*b)return a.wrapCursor("-");b=(+b).toFixed(0);if("volume2"==f.field)b=a.lightOnly(b,c.volume2Flag),c.volume2Flag="e";else if("openinterest2"==f.field)b=a.lightOnly(b,c.openinterest2Flag),c.openinterest2Flag="e";else if("volume"==
f.field)b=a.lightOnly(b,c.volumeFlag),c.volumeFlag="e";else if("openinterest"==f.field)b=a.lightOnly(b,c.openinterestFlag),c.openinterestFlag="e";return a.wrapCursor(b)};a.formatter2=function(e,d,b,f,c){if(c.titleLimit&&""!=c.titleLimit)return"<div style='background:#333333;height:100%;width:100%;'><font color='#FFCC00'></font></div>";if(a.isEmptyData(b)||0==1*b)return a.wrapCursor("-");"amount"==f.field?(b=(+b/1E4).toFixed(2),b=a.lightOnly(b,c.amountFlag),c.amountFlag="e"):"amount2"==f.field?(b=
(+b/1E4).toFixed(2),b=a.lightOnly(b,c.amount2Flag),c.amountFlag="e"):b=(+b).toFixed(2);return a.wrapCursor(b)};a.priceFormatter=function(a,d,b,f,c){if(c.titleLimit&&""!=c.titleLimit)return"<div style='background:#333333;height:100%;width:100%;'><font color='#FFCC00'></font></div>";b&&(b=(+b).toFixed(4));return"<div style='border-left:2px solid #BEBEBE;border-right:2px solid #BEBEBE;height:100%;width:-webkit-calc(100%-4px) !important; text-align:center;color:#FFFFFF;'>"+b+"</div>"};a.formatterBuySellChange=
function(e,d,b,f,c){if(c.titleLimit&&""!=c.titleLimit)return"<div style='background:#333333;height:100%;width:100%;'><font color='#FFCC00'></font></div>";if(a.isEmptyData(b)||0==1*b)if(!("changeRate"==f.field&&!a.isEmptyData(c["new"])&&0!=+c["new"]||"changeRate2"==f.field&&!a.isEmptyData(c.new2)&&0!=+c.new2))return a.wrapCursor("-");if("buyprice"==f.field||"buyvolume"==f.field)b="buyprice"==f.field?(+b).toFixed(4):(+b).toFixed(0),c.buyprice>c.lastclose?b=a.wrapRed(b):c.buyprice<c.lastclose&&(b=a.wrapGreen(b)),
"buyprice"==f.field?(b=a.light(b,c.buypriceFlag),c.buypriceFlag="e"):(b=a.light(b,c.buyvolumeFlag),c.buyvolumeFlag="e");if("buyprice2"==f.field||"buyvolume2"==f.field)b="buyprice2"==f.field?(+b).toFixed(4):(+b).toFixed(0),c.buyprice2>c.lastclose2?b=a.wrapRed(b):c.buyprice2<c.lastclose2&&(b=a.wrapGreen(b)),"buyprice2"==f.field?(b=a.light(b,c.buyprice2Flag),c.buyprice2Flag="e"):(b=a.light(b,c.buyvolume2Flag),c.buyvolume2Flag="e");else if("sellprice"==f.field||"sellvolume"==f.field)b="sellprice"==f.field?
(+b).toFixed(4):(+b).toFixed(0),c.sellprice>c.lastclose?b=a.wrapRed(b):c.sellprice<c.lastclose&&(b=a.wrapGreen(b)),"sellprice"==f.field?(b=a.light(b,c.sellpriceFlag),c.sellpriceFlag="e"):(b=a.light(b,c.sellvolumeFlag),c.sellvolumeFlag="e");else if("sellprice2"==f.field||"sellvolume2"==f.field)b="sellprice2"==f.field?(+b).toFixed(4):(+b).toFixed(0),c.sellprice2>c.lastclose2?b=a.wrapRed(b):c.sellprice2<c.lastclose2&&(b=a.wrapGreen(b)),"sellprice2"==f.field?(b=a.light(b,c.sellprice2Flag),c.sellprice2Flag=
"e"):(b=a.light(b,c.sellvolume2Flag),c.sellvolume2Flag="e");else if("change"==f.field||"changeRate"==f.field)b="change"==f.field?(+b).toFixed(4):(+b).toFixed(2),c["new"]>c.lastclose?b=a.wrapRed(b):c["new"]<c.lastclose&&(b=a.wrapGreen(b)),"change"==f.field?(b=a.light(b,c.changeFlag),c.changeFlag="e"):(b=a.light(b,c.changeRateFlag),c.changeRateFlag="e");else if("change2"==f.field||"changeRate2"==f.field)b="change2"==f.field?(+b).toFixed(4):(+b).toFixed(2),c.new2>c.lastclose2?b=a.wrapRed(b):c.new2<c.lastclose2&&
(b=a.wrapGreen(b)),"change2"==f.field?(b=a.light(b,c.change2Flag),c.change2Flag="e"):(b=a.light(b,c.changeRate2Flag),c.changeRate2Flag="e");return a.wrapCursor(b)};a.defaultValue=function(a){return!a||""==a||"null"==a||"undefined"==typeof a?"-":a};a.isEmptyData=function(a){return!a||""==a||"null"==a||"undefined"==typeof a||"-"==a?!0:!1};a.formatterNew=function(e,d,b,f,c){if(c.titleLimit&&""!=c.titleLimit)return"<div style='background:#333333;height:100%;width:100%;'><font color='#FFCC00'></font></div>";
if(a.isEmptyData(b))return"-";if(0==+c["new"])return"new"==f.field&&0!=(+c.lastclose).toFixed(2)?(+c.lastclose).toFixed(4):"-";b="changeRate"==f.field?(+b).toFixed(2):(+b).toFixed(4);+c["new"]>+c.lastclose?b="<font color='#FF0000'>"+b+"</font>":+c["new"]<+c.lastclose&&(b="<font color='#00FF00'>"+b+"</font>");if("new"==f.field)b=a.light(b,c.newFlag),c.newFlag="e";else if("change"==f.field)b=a.light(b,c.changeFlag),c.changeFlag="e";else if("changeRate"==f.field)b=a.light(b,c.changeRateFlag),c.changeRateFlag=
"e";return a.wrapCursor(b)};a.formatterNew2=function(e,d,b,f,c){if(c.titleLimit&&""!=c.titleLimit)return"<div style='background:#333333;height:100%;width:100%;'><font color='#FFCC00'></font></div>";if(a.isEmptyData(b))return"-";if(0==+b)return 0==(+c.lastclose2).toFixed(2)?"-":(+c.lastclose2).toFixed(4);b=(+b).toFixed(4);+c.new2>+c.lastclose2?b="<font color='#FF0000'>"+b+"</font>":+c.new2<+c.lastclose2&&(b="<font color='#00FF00'>"+b+"</font>");b=a.light(b,c.new2Flag);c.new2Flag="e";return a.wrapCursor(b)};
a.formatterReal1=function(e,d,b,f,c){if(c.titleLimit&&""!=c.titleLimit)return"<div style='background:#333333;height:100%;width:100%;'><font color='#FFCC00'></font></div>";e=dojo.byId("latest").innerText;d="-";!isNaN(e)&&+e>+c.price?d="\u5b9e\u503c":!isNaN(e)&&+e<+c.price&&(d="\u865a\u503c");return a.wrapCursor(d)};a.formatterReal2=function(e,d,b,f,c){if(c.titleLimit&&""!=c.titleLimit)return"<div style='background:#333333;height:100%;width:100%;'><font color='#FFCC00'></font></div>";e=dojo.byId("latest").innerText;
d="-";!isNaN(e)&&+e>+c.price?d="\u865a\u503c":!isNaN(e)&&+e<+c.price&&(d="\u5b9e\u503c");return a.wrapCursor(d)};a.shortCode=function(a){return-1<a.indexOf(".")&&2<a.length?a.substr(2,a.indexOf(".")-2):a};a.formatterDelta=function(e,d,b,f,c){if(c.titleLimit&&""!=c.titleLimit)return"<div style='background:#333333;height:100%;width:100%;'><font color='#FFCC00'></font></div>";if(a.isEmptyData(b))return"-";b=a.lightOnly((+b).toFixed(2),c.DeltaFlag);c.DeltaFlag="e";return a.wrapCursor(b)};a.formatterImpl=
function(e,d,b,f,c){if(c.titleLimit&&""!=c.titleLimit)return"<div style='background:#333333;height:100%;width:100%;'><font color='#FFCC00'></font></div>";if(a.isEmptyData(b))return"-";b=a.lightOnly((100*b).toFixed(2),c.ImplFlag);c.ImplFlag="e";return a.wrapCursor(b)};a.formatterEffectiveGearing=function(e,d,b,f,c){if(c.titleLimit&&""!=c.titleLimit)return"<div style='background:#333333;height:100%;width:100%;'><font color='#FFCC00'></font></div>";if(a.isEmptyData(b))return"-";b=a.lightOnly((+b).toFixed(2),
c.EffectiveGearingFlag);c.EffectiveGearingFlag="e";return a.wrapCursor(b)};a.formatterPremiumRate=function(e,d,b,f,c){if(c.titleLimit&&""!=c.titleLimit)return"<div style='background:#333333;height:100%;width:100%;'><font color='#FFCC00'></font></div>";if(a.isEmptyData(b))return"-";b=a.lightOnly((100*b).toFixed(2),c.PremiumRateFlag);c.PremiumRateFlag="e";return a.wrapCursor(b)};a.formatterLimitDate=function(e,d,b,f,c){if(c.titleLimit&&""!=c.titleLimit)return e=c.titleLimit,"<div class='limit_title pl10' style='background:#333333;height:100%;width:100%;text-align:center;color:#FFCC00;'>"+
e+"</div>";if(a.isEmptyData(b)||0==1*b&&"Delta"!=f.field)return"-";if(!isNaN(b)){if("volume"==f.field)b=(1*b).toFixed(0),b=a.lightOnly(b,c.volumeFlag),c.volumeFlag="e";else if("buyprice2"==f.field)b=(+b).toFixed(4),+c.buyprice2>+c.lastclose2?b="<font color='#FF0000'>"+b+"</font>":+c.buyprice2<+c.lastclose2&&(b="<font color='#00FF00'>"+b+"</font>"),b=a.light(b,c.buyprice2Flag),c.buyprice2Flag="e";return a.wrapCursor(b)}};a.formatterTitleDate=function(e,d,b,f,c){if(c.titleLimit&&""!=c.titleLimit)return e=
c.titleDate.substring(0,4)+"-"+c.titleDate.substring(4,6)+"-"+c.titleDate.substring(6,8),"<div class='limit_title' style='background:#333333;height:100%;width:100%;text-align:center;'><font color='#FFCC00'>"+e+"</font></div>";if(a.isEmptyData(b)||0==1*b&&"Impl"!=f.field)return"-";if(!isNaN(b)){if("buyvolume2"==f.field)b=(+b).toFixed(0),c.buyprice2>c.lastclose2?b="<font color='#FF0000'>"+b+"</font>":c.buyprice2<c.lastclose2&&(b="<font color='#00FF00'>"+b+"</font>"),b=a.light(b,c.buyvolume2Flag),c.buyvolume2Flag=
"e";if("openinterest"==f.field)b=(1*b).toFixed(0),b=a.lightOnly(b,c.openinterestFlag),c.openinterestFlag="e";return a.wrapCursor(b)}return"-"};a.mainColumns=[{id:"openinterest",name:"\u6301\u4ed3\u91cf",field:"openinterest",width:3,headerCssClass:"font-center",cssClass:"font-center z999",formatter:a.formatterTitleDate,sortable:!0},{id:"volume",name:"\u603b\u624b",field:"volume",width:2.5,headerCssClass:"font-center",cssClass:"font-center z998",formatter:a.formatterLimitDate,sortable:!0},{id:"changeRate",
name:"\u6da8\u5e45",field:"changeRate",width:2.5,headerCssClass:"font-center",cssClass:"font-center",formatter:a.formatterBuySellChange,sortable:!0},{id:"new",name:"\u6700\u65b0",field:"new",width:3,cssClass:"font-center",headerCssClass:"font-center",formatter:a.formatterNew,sortable:!0},{id:"sellprice",name:"\u5356\u4e00\u4ef7",field:"sellprice",width:3,headerCssClass:"font-center",cssClass:"font-center",formatter:a.formatterBuySellChange,sortable:!0},{id:"sellvolume",name:"\u5356\u4e00\u91cf",field:"sellvolume",
width:2.5,headerCssClass:"font-center",cssClass:"font-center",formatter:a.formatterBuySellChange,sortable:!0},{id:"buyprice",name:"\u4e70\u4e00\u4ef7",field:"buyprice",width:3,cssClass:"font-center",headerCssClass:"font-center",formatter:a.formatterBuySellChange,sortable:!0},{id:"buyvolume",name:"\u4e70\u4e00\u91cf ",field:"buyvolume",width:2.5,headerCssClass:"font-center",cssClass:"font-center",formatter:a.formatterBuySellChange,sortable:!0},{id:"price",name:"\u884c\u6743\u4ef7",field:"price",width:2.5,
headerCssClass:"font-center",cssClass:"font-center",formatter:a.priceFormatter},{id:"buyvolume2",name:"\u4e70\u4e00\u91cf ",field:"buyvolume2",width:3,headerCssClass:"font-center",cssClass:"font-center z999",formatter:a.formatterTitleDate,sortable:!0},{id:"buyprice2",name:"\u4e70\u4e00\u4ef7",field:"buyprice2",width:3,headerCssClass:"font-center",cssClass:"font-center z998",formatter:a.formatterLimitDate,sortable:!0},{id:"sellvolume2",name:"\u5356\u4e00\u91cf",field:"sellvolume2",width:2.5,headerCssClass:"font-center",
cssClass:"font-center",formatter:a.formatterBuySellChange,sortable:!0},{id:"sellprice2",name:"\u5356\u4e00\u4ef7",field:"sellprice2",width:3,headerCssClass:"font-center",cssClass:"font-center",formatter:a.formatterBuySellChange,sortable:!0},{id:"new2",name:"\u6700\u65b0",field:"new2",width:3,cssClass:"font-center",headerCssClass:"font-center",formatter:a.formatterNew2,sortable:!0},{id:"changeRate2",name:"\u6da8\u5e45",field:"changeRate2",width:2.5,headerCssClass:"font-center",cssClass:"font-center",
formatter:a.formatterBuySellChange,sortable:!0},{id:"volume2",name:"\u603b\u624b",field:"volume2",width:2.5,headerCssClass:"font-center",cssClass:"font-center",formatter:a.formatter0,sortable:!0},{id:"openinterest2",name:"\u6301\u4ed3\u91cf",field:"openinterest2",width:2.5,headerCssClass:"font-center",cssClass:"font-center",formatter:a.formatter0,sortable:!0}];a.mainColumnsIndex={openinterest:0,volume:1,changeRate:2,"new":3,sellprice:4,sellvolume:5,buyprice:6,buyvolume:7,price:8,buyvolume2:9,buyprice2:10,
sellvolume2:11,sellprice2:12,new2:13,changeRate2:14,volume2:15,openinterest2:16};a.buyColumns=[{id:"price",name:"\u884c\u6743\u4ef7",field:"price",width:2.3,headerCssClass:"font-center",cssClass:"font-center z999",formatter:a.formatterPrice,sortable:!0},{id:"buyCode",name:"\u4ee3\u7801",field:"buyCode",width:2.5,headerCssClass:"font-center",cssClass:"font-center option_code z998",formatter:a.formatterCode},{id:"name",name:"\u540d\u79f0",field:"name",width:3.2,headerCssClass:"font-center",cssClass:"font-center option_name",
formatter:a.formatterRealName},{id:"new",name:"\u6700\u65b0",field:"new",width:2,headerCssClass:"font-center",cssClass:"font-right",formatter:a.formatterNew,sortable:!0},{id:"change",name:"\u6da8\u8dcc",field:"change",width:2,headerCssClass:"font-center",cssClass:"font-right",formatter:a.formatterNew,sortable:!0},{id:"changeRate",name:"\u6da8\u5e45",field:"changeRate",width:2,headerCssClass:"font-center",cssClass:"font-right",formatter:a.formatterNew,sortable:!0},{id:"buyvolume",name:"\u4e70\u4e00\u91cf ",
field:"buyvolume",width:2,headerCssClass:"font-center",cssClass:"font-center",formatter:a.formatterBuySellChange,sortable:!0},{id:"buyprice",name:"\u4e70\u4e00\u4ef7",field:"buyprice",width:2,headerCssClass:"font-center",cssClass:"font-center",formatter:a.formatterBuySellChange,sortable:!0},{id:"sellprice",name:"\u5356\u4e00\u4ef7",field:"sellprice",width:2,headerCssClass:"font-center",cssClass:"font-center",formatter:a.formatterBuySellChange,sortable:!0},{id:"sellvolume",name:"\u5356\u4e00\u91cf",
field:"sellvolume",width:2,headerCssClass:"font-center",cssClass:"font-center",formatter:a.formatterBuySellChange,sortable:!0},{id:"volume",name:"\u603b\u624b",field:"volume",width:1.8,headerCssClass:"font-center",cssClass:"font-center",formatter:a.formatter0,sortable:!0},{id:"amount",name:"\u603b\u989d",field:"amount",width:2,headerCssClass:"font-center",cssClass:"font-center",formatter:a.formatter2,sortable:!0},{id:"openinterest",name:"\u6301\u4ed3\u91cf",field:"openinterest",width:1.8,headerCssClass:"font-center",
cssClass:"font-center",formatter:a.formatter0,sortable:!0},{id:"flagRG",name:"\u5b9e\u503c/\u865a\u503c",field:"flagRG",width:2,headerCssClass:"font-center",cssClass:"font-center",formatter:a.formatterReal1}];a.buyColumnsIndex={"new":3,change:4,changeRate:5,buyvolume:6,buyprice:7,sellprice:8,sellvolume:9,volume:10,amount:11,openinterest:12,flagRG:13};a.sellColumns=[{id:"price",name:"\u884c\u6743\u4ef7",field:"price",width:2.3,headerCssClass:"font-center",cssClass:"font-center z999",formatter:a.formatterPrice,
sortable:!0},{id:"sellCode",name:"\u4ee3\u7801",field:"sellCode",width:2.5,headerCssClass:"font-center",cssClass:"font-center option_code z998",formatter:a.formatterCode},{id:"name2",name:"\u540d\u79f0",field:"name2",width:3.2,headerCssClass:"font-center",cssClass:"font-center option_name",formatter:a.formatterRealName},{id:"new2",name:"\u6700\u65b0",field:"new2",width:2,headerCssClass:"font-center",cssClass:"font-right",formatter:a.formatterNew2,sortable:!0},{id:"change2",name:"\u6da8\u8dcc",field:"change2",
width:2,headerCssClass:"font-center",cssClass:"font-right",formatter:a.formatterBuySellChange,sortable:!0},{id:"changeRate2",name:"\u6da8\u5e45",field:"changeRate2",width:2,headerCssClass:"font-center",cssClass:"font-right",formatter:a.formatterBuySellChange,sortable:!0},{id:"buyvolume2",name:"\u4e70\u4e00\u91cf ",field:"buyvolume2",width:2,headerCssClass:"font-center",cssClass:"font-center",formatter:a.formatterBuySellChange,sortable:!0},{id:"buyprice2",name:"\u4e70\u4e00\u4ef7",field:"buyprice2",
width:2,headerCssClass:"font-center",cssClass:"font-center",formatter:a.formatterBuySellChange,sortable:!0},{id:"sellprice2",name:"\u5356\u4e00\u4ef7",field:"sellprice2",width:2,headerCssClass:"font-center",cssClass:"font-center",formatter:a.formatterBuySellChange,sortable:!0},{id:"sellvolume2",name:"\u5356\u4e00\u91cf",field:"sellvolume2",width:2,headerCssClass:"font-center",cssClass:"font-center",formatter:a.formatterBuySellChange,sortable:!0},{id:"volume2",name:"\u603b\u624b",field:"volume2",width:1.8,
headerCssClass:"font-center",cssClass:"font-center",formatter:a.formatter0,sortable:!0},{id:"amount2",name:"\u603b\u989d",field:"amount2",width:2,headerCssClass:"font-center",cssClass:"font-center",formatter:a.formatter2,sortable:!0},{id:"openinterest2",name:"\u6301\u4ed3\u91cf",field:"openinterest2",width:1.8,headerCssClass:"font-center",cssClass:"font-center",formatter:a.formatter0,sortable:!0},{id:"flagRG",name:"\u5b9e\u503c/\u865a\u503c",field:"flagRG",width:2,headerCssClass:"font-center",cssClass:"font-center",
formatter:a.formatterReal2}];a.sellColumnsIndex={new2:3,change2:4,changeRate2:5,buyvolume2:6,buyprice2:7,sellprice2:8,sellvolume2:9,volume2:10,amount2:11,openinterest2:12,flagRG:13};a.updateMainGridCell1=function(e,d,b){"e"!=d.newFlag&&e.updateCell(b,a.mainColumnsIndex["new"]);"e"!=d.changeFlag&&e.updateCell(b,a.mainColumnsIndex.change);"e"!=d.changeRateFlag&&e.updateCell(b,a.mainColumnsIndex.changeRate);"e"!=d.openinterestFlag&&e.updateCell(b,a.mainColumnsIndex.openinterest);"e"!=d.volumeFlag&&e.updateCell(b,
a.mainColumnsIndex.volume);"e"!=d.buyvolumeFlag&&e.updateCell(b,a.mainColumnsIndex.buyvolume);"e"!=d.buypriceFlag&&e.updateCell(b,a.mainColumnsIndex.buyprice);"e"!=d.sellvolumeFlag&&e.updateCell(b,a.mainColumnsIndex.sellvolume);"e"!=d.sellpriceFlag&&e.updateCell(b,a.mainColumnsIndex.sellprice);"e"!=d.amountFlag&&e.updateCell(b,a.mainColumnsIndex.amount)};a.updateMainGridCell2=function(e,d,b){"e"!=d.new2Flag&&e.updateCell(b,a.mainColumnsIndex.new2);"e"!=d.change2Flag&&e.updateCell(b,a.mainColumnsIndex.change2);
"e"!=d.changeRate2Flag&&e.updateCell(b,a.mainColumnsIndex.changeRate2);"e"!=d.openinterest2Flag&&e.updateCell(b,a.mainColumnsIndex.openinterest2);"e"!=d.volume2Flag&&e.updateCell(b,a.mainColumnsIndex.volume2);"e"!=d.buyvolume2Flag&&e.updateCell(b,a.mainColumnsIndex.buyvolume2);"e"!=d.buyprice2Flag&&e.updateCell(b,a.mainColumnsIndex.buyprice2);"e"!=d.sellvolume2Flag&&e.updateCell(b,a.mainColumnsIndex.sellvolume2);"e"!=d.sellprice2Flag&&e.updateCell(b,a.mainColumnsIndex.sellprice2);"e"!=d.amount2Flag&&
e.updateCell(b,a.mainColumnsIndex.amount2)};a.updateBuyGridCell=function(e,d,b){"e"!=d.newFlag&&e.updateCell(b,a.buyColumnsIndex["new"]);"e"!=d.changeFlag&&e.updateCell(b,a.buyColumnsIndex.change);"e"!=d.changeRateFlag&&e.updateCell(b,a.buyColumnsIndex.changeRate);"e"!=d.openinterestFlag&&e.updateCell(b,a.buyColumnsIndex.openinterest);"e"!=d.volumeFlag&&e.updateCell(b,a.buyColumnsIndex.volume);"e"!=d.buyvolumeFlag&&e.updateCell(b,a.buyColumnsIndex.buyvolume);"e"!=d.buypriceFlag&&e.updateCell(b,a.buyColumnsIndex.buyprice);
"e"!=d.sellvolumeFlag&&e.updateCell(b,a.buyColumnsIndex.sellvolume);"e"!=d.sellpriceFlag&&e.updateCell(b,a.buyColumnsIndex.sellprice);"e"!=d.amountFlag&&e.updateCell(b,a.buyColumnsIndex.amount)};a.updateSellGridCell=function(e,d,b){"e"!=d.new2Flag&&e.updateCell(b,a.sellColumnsIndex.new2);"e"!=d.change2Flag&&e.updateCell(b,a.sellColumnsIndex.change2);"e"!=d.changeRate2Flag&&e.updateCell(b,a.sellColumnsIndex.changeRate2);"e"!=d.openinterest2Flag&&e.updateCell(b,a.sellColumnsIndex.openinterest2);"e"!=
d.volume2Flag&&e.updateCell(b,a.sellColumnsIndex.volume2);"e"!=d.buyvolume2Flag&&e.updateCell(b,a.sellColumnsIndex.buyvolume2);"e"!=d.buyprice2Flag&&e.updateCell(b,a.sellColumnsIndex.buyprice2);"e"!=d.sellvolume2Flag&&e.updateCell(b,a.sellColumnsIndex.sellvolume2);"e"!=d.sellprice2Flag&&e.updateCell(b,a.sellColumnsIndex.sellprice2);"e"!=d.amount2Flag&&e.updateCell(b,a.sellColumnsIndex.amount2)};a.options={enableColumnReorder:!1,forceFitColumns:!0,hideBorder:"all",multiColumnSort:!0};a.getBuyData=
function(e){var d={};d.openinterest=e.openinterest;d.volume=e.volume;d["new"]=e["new"];d.buyvolume=e.buyvolume;d.buyprice=e.buyprice;d.sellvolume=e.sellvolume;d.sellprice=e.sellprice;d.lastclose=e.lastclose;d.change=a.getChange(e["new"],e.presettle);d.changeRate=a.getChangeRate(e["new"],e.presettle);d.price=e.price;d.buyCode=e.buyCode;d.titleDate=e.titleDate;d.titleLimit=e.titleLimit;d.name=e.name;d.settle=e.settle;d.presettle=e.presettle;d.amount=e.amount;return d};a.getSellData=function(e,d){d=
{};d.openinterest2=e.openinterest2;d.volume2=e.volume2;d.new2=e.new2;d.buyvolume2=e.buyvolume2;d.buyprice2=e.buyprice2;d.sellvolume2=e.sellvolume2;d.sellprice2=e.sellprice2;d.amount2=e.amount2;d.lastclose2=e.lastclose2;d.change2=a.getChange(e.new2,e.presettle2);d.changeRate2=a.getChangeRate(e.new2,e.presettle2);d.price=e.price;d.sellCode=e.sellCode;d.titleDate=e.titleDate;d.titleLimit=e.titleLimit;d.name2=e.name2;d.settle2=e.settle2;d.presettle2=e.presettle2;return d};a.getStaticJarData=function(a,
d){(new g({serviceUrl:a})).query().then(function(b){d(b)})};a.sorter=function(a,d,b){var f,c,b=b.sortCols;for(f=b.length;0<f;){var g=0;return a.titleDate==d.titleDate?(f=null!=a.titleLimit?"":a[b[0].sortCol.field],c=null!=d.titleLimit?"":d[b[0].sortCol.field],"-"!=f&&0==parseFloat(f)&&("new"==b[0].sortCol.field?f=a.lastclose:"new2"==b[0].sortCol.field&&(f=a.lastclose2)),"-"!=c&&0==parseFloat(c)&&("new"==b[0].sortCol.field?c=d.lastclose:"new2"==b[0].sortCol.field&&(c=d.lastclose2)),!0==b[0].sortAsc?
(!(a.titleLimit&&""!=a.titleLimit)&&"-"==f&&(f=99999999999999),!(d.titleLimit&&""!=d.titleLimit)&&"-"==c&&(c=99999999999999)):(!(a.titleLimit&&""!=a.titleLimit)&&"-"==f&&(f=-99999999999999),!(d.titleLimit&&""!=d.titleLimit)&&"-"==c&&(c=-99999999999999)),f=parseFloat(f),c=parseFloat(c),f!=c&&(!0==b[0].sortAsc?(f=isNaN(f)?-99999999999999:f,c=isNaN(c)?-99999999999999:c,g=f>c?1:-1):(f=isNaN(f)?99999999999999:f,c=isNaN(c)?99999999999999:c,g=c>f?1:-1)),g):g=a.titleDate>d.titleDate?1:-1}};a.sortGrid=function(e){if(0!=
e.length)for(var d=0,b=0,f=e[0].titleDate,c=0;c<e.length;c++){if(e[c].titleDate!=f)b=c-1,a.sortGrid1(e,d+1,b),d=c,f=e[c].titleDate;c==e.length-1&&(b=c,a.sortGrid1(e,d+1,b))}};a.sortGrid1=function(a,d,b){for(var f=d;f<=b;f++)for(var c=f;c>d&&parseFloat(a[c-1].price)>parseFloat(a[c].price);c--){var g=a[c];a[c]=a[c-1];a[c-1]=g}};a.getMonthDate=function(a){return null!=a&&8==a.length?a.substring(0,4)+"\u5e74"+a.substring(4,6)+"\u6708":""};a.getResidueDate=function(a,d){if(null!=a&&null!=d&&8==a.length&&
8<d.length){var b=a.substring(4,6),b=parseInt(b)-1,b=new Date(a.substring(0,4),b,a.substring(6,8)),f=d.substring(4,6),f=parseInt(f)-1,f=new Date(d.substring(0,4),f,d.substring(6,8));return"(\u5269\u4f59"+parseInt(Math.abs(f-b)/1E3/60/60/24)+"\u5929)"}return"\u5269\u4f59?\u5929"};return a})},"fund/ShanghaiOptionDIDHO/view/gridDataShow":function(){define("./util,dojo/store/Memory,dojo/request,dojo/_base/declare,dojo/_base/array,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dijit/layout/_ContentPaneResizeMixin,dojo/_base/lang,dojo/_base/event,dojo/on,dojo/dom-class,dojo/dom-attr,dojo/text!./gridDataShow.html,dojox/slickgrid/slickgrid,dijit/layout/TabContainer,dojox/store/GridWSStore,dojo/io-query,dojo/aspect,dojo/dom,dojo/json,dojo/DeferredList".split(","),
function(g,k,a,e,d,b,f,c,t,h,w,n,x,y,u,q,z,p,A,r){return e("fund.ShanghaiOptionDIDHO.view.gridDataShow",[b,f,c,t],{templateString:u,mainGrid:null,buyGrid:null,sellGrid:null,cache:[],allDynaCode:[],curAllIndex:null,curIndex:null,curIndexData:{},curMonthData:null,mainData:[],soUrl:"/fund/gw/gata/showdata",subjectQuoteStore:null,mainStore:null,isLoadingData:!1,mainDidStore:null,allMainData:[],didDataTime:null,curTab:"btab1",postCreate:function(){var a=this;a.initGrid();a.mainDidStore=new p;a.mainDidStore.query({service:"did",
did:"100036",field:"obj,K,expireDate,option_code,underlyingSymbol,underlying_stock,time",where:"obj=HO",response_times:-1,response_mode:0,fullmarket:1,ds_wait_sync:2}).then(function(b){for(var c=b.length,d="",e=[],f=0;f<c;f++){b[f].obj&&(d+=","+b[f].obj);var g="SH"+b[f].underlying_stock,g=0==b[f].underlying_stock.indexOf("6")?g+".stk":g+".fnd";-1==e.indexOf(g)&&e.push(g)}d=e.join(",")+d;(new p).query({service:"objinfo",type:"getinfo",field:"obj,name,settle,presettle,lastclose",where:"obj="+d,response_times:1,
response_mode:0}).then(function(c){for(var v=c.length,d={},f=0;f<v;f++)if(-1!=e.indexOf(c[f].obj)){var o=c[f].obj,g=o.indexOf(".");-1!=g&&(o=o.substr(0,g));o=o.replace(/SH/i,"");a.curIndexData[o]=c[f]}else d[c[f].obj]=c[f];c=b.length;for(f=0;f<c;f++)if(d[b[f].obj])b[f].name=d[b[f].obj].name,b[f].settle=d[b[f].obj].settle,b[f].presettle=d[b[f].obj].presettle;a.initAllMainData(b);d=a.allMainData[0];a.curMonthData=d.curMonthData;a.mainData=d.data;a.initAll()})});setTimeout(h.hitch(a,function(){a.bindBtnEvent()}),
1E3)},initAllMainData:function(a){if(null==a||0==a.length)this.isLoadingData=!1;else{for(var b=0;b<a.length;b++){for(var c=a[b],d=this.allMainData.length,e=0;e<d;e++){var f=this.allMainData[e];if(c.underlying_stock==f.index){this.initCurIndexMonth(f,c);for(var e=c.K+"_"+c.expireDate,d=f.data,k=d.length,h=0;h<k;h++){var i=d[h];if(i.id==e){if(0<c.option_code.indexOf("C"))i.name=c.name,i.settle=c.settle,i.presettle=c.presettle,i.buyCode=c.obj,i.buyName=c.option_code;else if(0<c.option_code.indexOf("P"))i.name2=
c.name,i.settle2=c.settle,i.presettle2=c.presettle,i.sellCode=c.obj,i.sellName=c.option_code;i.price=c.K;i.titleDate=c.expireDate;break}else if(h==k-1){this.addNewItemData(c,d);break}}if(0==k)f.data=[],d=f.data,this.addNewItemData(c,d);break}else if(e==d-1){this.putInAllMainData(c);this.initAllIndexData(c);break}}if(0==this.allMainData.length)this.putInAllMainData(c),this.didDataTime=c.time,this.initAllIndexData(c)}for(b=0;b<this.allMainData.length;b++){a=this.allMainData[b].data;c=this.allMainData[b].curMonthData;
for(e=0;e<c.length;e++)f=c[e].value,a.push({titleDate:f,titleLimit:g.getResidueDate(f,this.didDataTime),price:-9999999});var l=this.curIndexData[this.allMainData[b].index].lastclose;a.sort(function(a,b){if(a.titleDate<b.titleDate)return-1;if(a.titleDate>b.titleDate)return 1;if(-9999999==a.price)return-1;if(-9999999==b.price)return 1;var c=Math.abs(a.price-l),s=Math.abs(b.price-l);return c<s?-1:c>s?1:a.price<b.price?-1:a.price>b.price?1:0});c.sort(function(a,b){return a.value<b.value?-1:a.value>b.value?
1:0})}}},addNewItemData:function(a,b){var c={id:a.K+"_"+a.expireDate,price:a.K,titleDate:a.expireDate},d=a.option_code;if(0<d.indexOf("C"))c.name=a.name,c.settle=a.settle,c.presettle=a.presettle,c.buyCode=a.obj,c.buyName=a.option_code;else if(0<d.indexOf("P"))c.name2=a.name,c.settle2=a.settle,c.presettle2=a.presettle,c.sellCode=a.obj,c.sellName=a.option_code;b.push(c)},initAllIndexData:function(a){if(null==this.curAllIndex)this.curAllIndex=[];for(var b=0;b<this.curAllIndex.length;b++)if(this.curAllIndex[b].stock==
a.underlying_stock)return!0;b="SH"+a.underlying_stock;b=0==a.underlying_stock.indexOf("6")?b+".stk":b+".fnd";this.curAllIndex.push({stock:a.underlying_stock,id:b,name:a.underlyingSymbol})},initCurIndexMonth:function(a,b){for(var c=a.curMonthData,d=0;d<c.length;d++)if(c[d].value==b.expireDate)return!0;c.push({value:b.expireDate,label:g.getMonthDate(b.expireDate),selected:!0})},putInAllMainData:function(a){var b=[],c={id:a.K+"_"+a.expireDate,price:a.K,titleDate:a.expireDate},d=a.option_code;if(0<d.indexOf("C"))c.name=
a.name,c.settle=a.settle,c.presettle=a.presettle,c.buyCode=a.obj,c.buyName=a.option_code;else if(0<d.indexOf("P"))c.name2=a.name,c.settle2=a.settle,c.presettle2=a.presettle,c.sellCode=a.obj,c.sellName=a.option_code;b.push(c);c=[];c.push({value:a.expireDate,label:g.getMonthDate(a.expireDate),selected:!0});this.allMainData.push({index:a.underlying_stock,data:b,curMonthData:c})},initMainData:function(a){a=g.formatResultData(a);0==a.length&&(this.refreshAllGrid([],[],[]),console.error("\u738b\u4eae\u63a5\u53e3\u8fd4\u56de\u7684\u6807\u7684\u8bc1\u5238"+
this.getSelectedValue()+"\u4e3b\u8868\u6570\u636e\u4e3a\u7a7a\uff01"));this.mainData=[];for(var b=0;b<a.length;b++)this.mainData.push({price:a[b].c1,buyCode:a[b].c2,sellCode:a[b].c3,titleDate:a[b].c4,titleLimit:a[b].c5,buyName:a[b].c6,sellName:a[b].c7,sortValue:a[b].c8})},initAll:function(){this.isLoadingData=!0;this.initIndex();this.startIndexQuote();this.initMonth();this.loadGridData()},initGrid:function(){this.mainGrid=new q({store:new k,columns:g.mainColumns,options:g.options});this.mainGrid.placeAt("container");
this.buyGrid=new q({store:new k,columns:g.buyColumns,options:g.options});this.buyGrid.placeAt("container1");this.sellGrid=new q({store:new k,columns:g.sellColumns,options:g.options});this.sellGrid.placeAt("container2");this.mainGrid.setSorter(g.sorter);this.buyGrid.setSorter(g.sorter);this.sellGrid.setSorter(g.sorter);var a=this;this.mainGrid.on("dblclick",function(b,c){var d=this.getDataItem(c.row),e=null;8>c.cell?e=d.buyCode:8<c.cell&&(e=d.sellCode);e+="";d=e.indexOf(".");-1!=d&&(e=e.substr(0,d));
a.showTimeGraph(e)});this.buyGrid.on("dblclick",function(b,c){var d=this.getDataItem(c.row).buyCode+"",e=d.indexOf(".");-1!=e&&(d=d.substr(0,e));a.showTimeGraph(d)});this.sellGrid.on("dblclick",function(b,c){var d=this.getDataItem(c.row).sellCode+"",e=d.indexOf(".");-1!=e&&(d=d.substr(0,e));a.showTimeGraph(d)});n(a.targetIndexName,"dblclick",function(){a.showTimeGraph(a.getSelectedValue())});n(a.targetIndexLatest,"dblclick",function(){a.showTimeGraph(a.getSelectedValue())});n(a.targetIndexChange,
"dblclick",function(){a.showTimeGraph(a.getSelectedValue())});n(a.targetIndexChangeRate,"dblclick",function(){a.showTimeGraph(a.getSelectedValue())})},showTimeGraph:function(a){if(null==a||""==a||void 0==a||"null"==a||"undefined"==a)return!1;location.href=" DZH://VIEWSTOCK?DATATYPE=DAY&LAYOUT=Level2\u9ed8\u8ba4&PAGE=\u5206\u65f6\u8d70\u52bf&LABEL="+a},bindBtnEvent:function(){var a=this;n(dijit.byId("targetIndex"),"change",function(){a.isLoadingData=!0;dijit.byId("contantNum").setValue("5");a.curIndex=
a.getSelectedValue();a.startIndexQuote();for(var b=0;b<a.allMainData.length;b++)if(0<a.curIndex.indexOf(a.allMainData[b].index)){b=a.allMainData[b];a.curMonthData=b.curMonthData;a.mainData=b.data;a.initMonth();a.loadGridData();break}});n(dijit.byId("contactDate"),"change",function(){if(!a.isLoadingData)a.isLoadingData=!0,a.loadGridData()});n(dijit.byId("contantNum"),"change",function(){if(!a.isLoadingData)a.isLoadingData=!0,a.loadGridData()})},loadGridData:function(){for(var a=this.mainData,b=dijit.byId("contactDate").value,
c=dijit.byId("contantNum").value,d=0,e=0,f=0,h=0,k=[],i=[],l=[],m=0;m<a.length;m++){var j=a[m];if(""!=j.titleLimit&&"null"!=j.titleLimit&&void 0!=j.titleLimit){if(-1==dojo.indexOf(b,j.titleDate)){h=j.titleDate;continue}}else if(h==j.titleDate)continue;if("\u6240\u6709"!=c)if(d!=j.titleDate)d=j.titleDate,e=1;else if(++e,e-1>c)continue;k[f]=a[m];""!=j.titleLimit&&"null"!=j.titleLimit&&void 0!=j.titleLimit?(i[i.length]=g.getBuyData(a[m]),l[l.length]=g.getSellData(a[m])):(j=g.getBuyData(a[m]),j.buyCode&&
"undefined"!=typeof j.buyCode&&(i[i.length]=j),j=g.getSellData(a[m]),j.sellCode&&"undefined"!=typeof j.sellCode&&(l[l.length]=j));++f}this.refreshAllGrid(k,i,l);this.quoteGrid()},refreshAllGrid:function(a,b,c){g.sortGrid(a);this.mainGrid.store.setData(a);this.mainGrid.refresh(a);g.sortGrid(b);this.buyGrid.store.setData(b);this.buyGrid.refresh(b);g.sortGrid(c);this.sellGrid.store.setData(c);this.sellGrid.refresh(c)},quoteGrid:function(){var a=this;a.allDynaCode=[];for(var b=this.mainGrid.store.data,
c="",d=0;d<b.length;d++)b[d].buyCode&&""!=b[d].buyCode&&-1==dojo.indexOf(c,b[d].buyCode)&&(a.allDynaCode.push(b[d].buyCode),c=c+b[d].buyCode+","),b[d].sellCode&&""!=b[d].sellCode&&-1==dojo.indexOf(c,b[d].sellCode)&&(a.allDynaCode.push(b[d].sellCode),c=c+b[d].sellCode+",");c=null;if(null==a.mainStore)a.mainStore=new p,r.after(a.mainStore,"put",function(b,c){a.isLoadingData||a.copyData(c[0])});a.allDynaCode&&0==a.allDynaCode.length?(console.error("\u83b7\u53d6\u4e3b\u52a8\u6001\u884c\u60c5\u7684code\u4e3a\u7a7a\uff0c\u672c\u6b21\u63a8\u9001\u53d6\u6d88\uff01"),
a.isLoadingData=!1):a.mainStore.query({service:"quote",type:"dyna",field:"obj,openinterest,amount,volume,nowvol,new,buyvolume,buyprice,sellvolume,sellprice,lastclose",where:"obj="+a.allDynaCode.join(","),response_times:-1,response_mode:0,ds_wait_sync:1}).then(function(b){if(b.level)console.error("\u83b7\u53d6\u4e3b\u8868\u52a8\u6001\u884c\u60c5\u6570\u636e\u5931\u8d25\uff01"),console.error(b);else for(var c=0;c<b.length;c++)a.copyData(b[c]);a.isLoadingData=!1})},copyData:function(a){for(var b=this.mainGrid.store.data,
c=0;c<b.length;c++)this.copyDataDetail(a,c)},copyDataDetail:function(a,b){var c=this.mainGrid.store.data;if(c.length>=b&&a.obj==c[b].buyCode&&a["new"]){var d=g.isEq(a["new"],c[b]["new"],4);c[b].newFlag=d;c[b].changeFlag=d;c[b].changeRateFlag=d;c[b].openinterestFlag=g.isEq(a.openinterest,c[b].openinterest,0);c[b].volumeFlag=g.isEq(a.volume,c[b].volume,0);c[b].buyvolumeFlag=g.isEq(a.buyvolume[0],c[b].buyvolume,0);c[b].buypriceFlag=g.isEq(a.buyprice[0],c[b].buyprice,4);c[b].sellvolumeFlag=g.isEq(a.sellvolume[0],
c[b].sellvolume,0);c[b].sellpriceFlag=g.isEq(a.sellprice[0],c[b].sellprice,4);c[b].amountFlag=g.isEq(a.amount,c[b].amount,2);c[b].openinterest=a.openinterest;c[b].volume=a.volume;c[b]["new"]=a["new"];c[b].buyvolume=a.buyvolume[0];c[b].buyprice=a.buyprice[0];c[b].sellvolume=a.sellvolume[0];c[b].sellprice=a.sellprice[0];c[b].amount=a.amount;c[b].lastclose=a.lastclose;var e=g.getChangeRate(a["new"],c[b].presettle);c[b].changeRate=e;g.updateMainGridCell1(this.mainGrid,c[b],b)}if(c.length>=b&&a.obj==c[b].sellCode&&
a["new"])e=g.isEq(a["new"],c[b].new2,4),c[b].new2Flag=e,c[b].change2Flag=d,c[b].changeRate2Flag=e,c[b].openinterest2Flag=g.isEq(a.openinterest,c[b].openinterest2,0),c[b].volume2Flag=g.isEq(a.volume,c[b].volume2,0),c[b].buyvolume2Flag=g.isEq(a.buyvolume[0],c[b].buyvolume2,0),c[b].buyprice2Flag=g.isEq(a.buyprice[0],c[b].buyprice2,4),c[b].sellvolume2Flag=g.isEq(a.sellvolume[0],c[b].sellvolume2,0),c[b].sellprice2Flag=g.isEq(a.sellprice[0],c[b].sellprice2,4),c[b].amount2Flag=g.isEq(a.amount,c[b].amount2,
2),c[b].openinterest2=a.openinterest,c[b].volume2=a.volume,c[b].new2=a["new"],c[b].buyvolume2=a.buyvolume[0],c[b].buyprice2=a.buyprice[0],c[b].sellvolume2=a.sellvolume[0],c[b].sellprice2=a.sellprice[0],c[b].amount2=a.amount,c[b].lastclose2=a.lastclose,e=g.getChangeRate(a["new"],c[b].presettle2),c[b].changeRate2=e,g.updateMainGridCell2(this.mainGrid,c[b],b);c=this.buyGrid.store.data;if(0<c.length&&c.length>=b&&a.obj==c[b].buyCode&&a["new"])d=g.isEq(a["new"],c[b]["new"],4),c[b].newFlag=d,c[b].changeFlag=
d,c[b].changeRateFlag=d,c[b].openinterestFlag=g.isEq(a.openinterest,c[b].openinterest,0),c[b].volumeFlag=g.isEq(a.volume,c[b].volume,0),c[b].buyvolumeFlag=g.isEq(a.buyvolume[0],c[b].buyvolume,0),c[b].buypriceFlag=g.isEq(a.buyprice[0],c[b].buyprice,4),c[b].sellvolumeFlag=g.isEq(a.sellvolume[0],c[b].sellvolume,0),c[b].sellpriceFlag=g.isEq(a.sellprice[0],c[b].sellprice,4),c[b].amountFlag=g.isEq(a.amount,c[b].amount,2),c[b]["new"]=a["new"],c[b].openinterest=a.openinterest,c[b].volume=a.volume,c[b].buyvolume=
a.buyvolume[0],c[b].buyprice=a.buyprice[0],c[b].sellvolume=a.sellvolume[0],c[b].sellprice=a.sellprice[0],c[b].amount=a.amount,c[b].lastclose=a.lastclose,c[b].change=g.getChange(a["new"],c[b].presettle),e=g.getChangeRate(a["new"],c[b].presettle),c[b].changeRate=e,g.updateBuyGridCell(this.buyGrid,c[b],b);d=this.sellGrid.store.data;if(0<d.length&&d.length>=b&&a.obj==d[b].sellCode&&a["new"])e=g.isEq(a["new"],d[b].new2,4),d[b].new2Flag=e,d[b].change2Flag=e,d[b].changeRate2Flag=e,d[b].openinterest2Flag=
g.isEq(a.openinterest,d[b].openinterest2,0),d[b].volume2Flag=g.isEq(a.volume,d[b].volume2,0),d[b].buyvolume2Flag=g.isEq(a.buyvolume[0],d[b].buyvolume2,0),d[b].buyprice2Flag=g.isEq(a.buyprice[0],d[b].buyprice2,4),d[b].sellvolume2Flag=g.isEq(a.sellvolume[0],d[b].sellvolume2,0),d[b].sellprice2Flag=g.isEq(a.sellprice[0],d[b].sellprice2,4),d[b].amount2Flag=g.isEq(a.amount,d[b].amount2,2),d[b].openinterest2=a.openinterest,d[b].volume2=a.volume,d[b].new2=a["new"],d[b].buyvolume2=a.buyvolume[0],d[b].buyprice2=
a.buyprice[0],d[b].sellvolume2=a.sellvolume[0],d[b].sellprice2=a.sellprice[0],d[b].amount2=a.amount,d[b].lastclose2=a.lastclose,d[b].change2=g.getChange(a["new"],d[b].presettle2),e=g.getChangeRate(a["new"],d[b].presettle2),d[b].changeRate2=e,g.updateSellGridCell(this.sellGrid,d[b],b)},initIndex:function(){dijit.byId("targetIndex").set("store",new k({data:this.curAllIndex}));dijit.byId("targetIndex").setValue(this.curAllIndex[0].name);this.curIndex=this.curAllIndex[0].id},startIndexQuote:function(){var a=
this;if(null==a.subjectQuoteStore)a.subjectQuoteStore=new p,r.after(a.subjectQuoteStore,"put",function(b,c){a.disposeSubjectQuote(c[0])});a.subjectQuoteStore.query({service:"quote",type:"dyna",field:"obj,new,lastclose",where:"obj="+a.curIndex,response_times:-1,response_mode:0}).then(function(b){a.disposeSubjectQuote(b[0])})},disposeSubjectQuote:function(a){if(a.level)alert("\u83b7\u53d6\u6807\u7684\u8bc1\u5238\u884c\u60c5\u884c\u60c5\u5931\u8d25\uff01");else{dojo.byId("targetIndexName").innerHTML=
"<font color='#FFCC00'>"+g.shortCode(this.getSelectedValue())+"</font>";var b="e";+a["new"]>+a.lastclose?b="g":+a["new"]<+a.lastclose&&(b="l");var c=(1*a["new"]).toFixed(3);if(0==1*c)dojo.byId("latest").innerHTML=(1*a.lastclose).toFixed(3),dojo.byId("change").innerHTML="-",dojo.byId("changeRate").innerHTML="-";else if(dojo.byId("latest").innerText!=c)dojo.byId("latest").innerHTML=g.light(c,b),c=(a["new"]-a.lastclose).toFixed(3),dojo.byId("change").innerHTML=g.light(c,b),a=(100*(a["new"]/a.lastclose-
1)).toFixed(2),dojo.byId("changeRate").innerHTML=g.light(a+"%",b),this.updateFlagRG()}},updateFlagRG:function(){if(!this.isLoadingData){for(var a=this.buyGrid.store.data.length,b=g.buyColumnsIndex.flagRG,c=0;c<a;c++)this.buyGrid.updateCell(c,b);a=this.sellGrid.store.data.length;b=g.sellColumnsIndex.flagRG;for(c=0;c<a;c++)this.sellGrid.updateCell(c,b)}},getSelectedValue:function(){for(var a=dijit.byId("targetIndex"),b=a.store.data,a=a.getValue(),c=0;c<b.length;c++)if(a==b[c].name)return b[c].id;return""},
initMonth:function(){for(var a=this.curMonthData,b=0;b<a.length;b++)a[b].selected=!0;a=new k({data:a});b=dijit.byId("contactDate");a.idProperty="value";b.labelAttr="label";b.sortByLabel=!1;b.setStore(a)},cacheCurData:function(){var a=!1;if(!this.cache)this.cache=[];if(!(null==this.mainData||0==this.mainData.length)){for(var b=0;b<this.cache.length;b++)if(this.curIndex==this.cache[b].index){a=!0;this.cache[b].mainData=h.clone(this.mainData);this.cache[b].curMonthData=h.clone(this.curMonthData);break}a||
this.cache.push({index:h.clone(this.curIndex),mainData:h.clone(this.mainData),curMonthData:h.clone(this.curMonthData)});g.putToCache({id:"shanghaiIndex",data:this.cache,curAllIndex:this.curAllIndex,date:(new Date).getTime()})}}})})},"url:fund/ShanghaiOptionDIDHO/view/gridDataShow.html":'<div data-dojo-attach-point="containerNode" class="no_selected_color vbox" >\r\n\t<div class="title_link hbox " style="padding:3px 0;height:22px;">\r\n\t\t<div style="width:2%"></div>\r\n\t\t<div style="width:14%">\r\n\t\t\t<label><font color="#FFFFFF">\u6807\u7684\u8bc1\u5238</font></label>\r\n\t\t\t<div id="targetIndex" style="width:42%" data-dojo-type="dijit/form/ComboBox"></div>\r\n\t\t</div>\r\n\t\t<div style="width:18%">\r\n\t\t\t<label id="yyy"><font color="#FFFFFF">\u5230\u671f\u6708\u4efd</font></label>\r\n\t\t\t<div class="math_box" id="contactDate" data-dojo-type="dojox/form/CheckedMultiSelect"></div>\r\n\t\t</div>\r\n\t\t<div style="width:15%">\r\n\t\t\t<label id="xxx"><font color="#FFFFFF">\u6240\u6709\u5408\u7ea6</font></label>\r\n\t\t\t<div class="math_box" id="contantNum" data-dojo-type="dijit/form/ComboBox">\r\n\t\t\t\t<\!-- <option>2</option> --\>\r\n\t\t\t\t<option>5</option>\r\n\t\t\t\t<option>10</option>\r\n\t\t\t\t<option>20</option>\r\n\t\t\t\t<option>\u6240\u6709</option>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class="list_box01"  style="width:43%">\r\n\t\t\t<span>\u6807\u7684\u8bc1\u5238\uff1a<span id="targetIndexName" data-dojo-attach-point="targetIndexName" class="subject_quote_span" style="width:56px;cursor:pointer;">-</span></span>\r\n\t\t\t<span>\u6700\u65b0\uff1a<span id="latest" data-dojo-attach-point="targetIndexLatest" class="subject_quote_span" style="width:50px;">-</span></span>\r\n\t\t\t<span>\u6da8\u8dcc\uff1a<span id="change" data-dojo-attach-point="targetIndexChange" class="subject_quote_span" style="width:50px;">-</span></span>\r\n\t\t\t<span>\u6da8\u5e45\uff1a<span id="changeRate" data-dojo-attach-point="targetIndexChangeRate" class="subject_quote_span">-</span></span>\r\n\t\t</div>\r\n\t</div>\r\n\t\t<div data-dojo-type="dijit/layout/TabContainer" id="mainTab" data-dojo-attach-point="mainTab" class="spacer" style="width: 100%; height:100%;" data-dojo-props="tabPosition:\'bottom\', selectedchild:\'btab1\', tabStrip:true" >\r\n\t        <div data-dojo-type="dijit/layout/ContentPane" title="\u8ba4\u8d2d/\u8ba4\u6cbd" id="btab1" style="overflow:hidden;border: #3C3C3C 1px solid;">\r\n\t        \t<div class="vbox" style="height:100%;">\r\n\t\t\t\t\t<div class="list_data_title list_data_title2 hbox" style="color:#fff;">\t\t\r\n\t        \t\t\t<div class="spacer" style="width:48.8%;">\r\n\t        \t\t\t\t\u8ba4\u8d2d\u671f\u6743\r\n\t        \t\t\t</div>\r\n\t\t\t\t\t\t<div class="border_reset" style="width:50.5px; text-align:center;">\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t        \t\t\t<div class="spacer" style="width:50.0%;">\r\n\t\t\t\t\t\t\t\u8ba4\u6cbd\u671f\u6743\r\n\t\t\t\t\t\t</div>\r\n\t        \t\t</div>\r\n\t        \t\t<div class="spacer vbox" style="width:100%;">\r\n\t        \t\t\t <div class="vbox spacer" data-dojo-type="dijit/layout/ContentPane" style="overflow: hidden;width:100%; height:100%; ">\r\n\t\t\t\t\t\t\t<div  class="no_padding" id="container"  data-dojo-type="dijit/layout/ContentPane" ></div>\r\n\t\t\t\t\t\t</div>\r\n\t        \t\t</div>\r\n\t        \t</div>\r\n\t        </div>\r\n\t        <div data-dojo-type="dijit/layout/ContentPane" title="\u8ba4\u8d2d" id="btab2">\r\n\t         \t<div class="vbox" style="height:100%;">\r\n\t        \t\t<div class="spacer vbox" style="width:100%;">\r\n\t        \t\t\t <div class="vbox spacer" data-dojo-type="dijit/layout/ContentPane" style="overflow: hidden;width:100%; height:100%; ">\r\n\t\t\t\t\t\t\t<div  class="no_padding" id="container1"  data-dojo-type="dijit/layout/ContentPane" ></div>\r\n\t\t\t\t\t\t</div>\r\n\t        \t\t</div>\r\n\t        \t</div>\r\n\t        </div>\r\n\t        <div data-dojo-type="dijit/layout/ContentPane" title="\u8ba4\u6cbd" id="btab3">\r\n\t\t\t\t<div class="vbox spacer" data-dojo-type="dijit/layout/ContentPane" style="overflow: hidden;width:100%; height:100%; ">\r\n\t\t\t\t\t<div  class="no_padding" id="container2"  data-dojo-type="dijit/layout/ContentPane" ></div>\r\n\t\t\t\t</div>\r\n\t        </div>\r\n\t    </div>\r\n</div>\r\n'}});
define("fund/ShanghaiOptionDIDHO/src",["dojo/parser","dojox/form/CheckedMultiSelect","fund/ShanghaiOptionDIDHO/view/util","fund/ShanghaiOptionDIDHO/view/gridDataShow"],function(g){return function(){g.parse()}});