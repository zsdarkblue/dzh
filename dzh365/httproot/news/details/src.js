define("views/_base",["view_base","observable"],function(e,t){return e.extend([t],function(){addEventListener("popstate",function(){this.emit("init")}.bind(this))},{init:function(){this.root.find("a[data-size="+(sessionStorage.getItem("font-size")||14)+"]").click()},onChangeSizeBtnClick:function(e){$(e.target).addClass("active").siblings("a").removeClass("active").parents("article").css("font-size",e.target.dataset.size+"px")},render:function(){this.root.removeClass("loading")},renderContent:function(e){this.root.find(">section:eq(1)").html(e)},renderErrorMsg:function(){this.root.removeClass("loading").find(">h1").text("提示：服务器忙请求超时，请稍候重试")},reset:function(){this.root.find(">h1").empty(),this.root.find(">h2>span").empty(),this.root.find(">section:eq(1)").empty(),this.root.addClass("loading")}})}),define("presenters/_base",["presenter_base"],function(e){return e.extend(function(){this.view.on("changeSizeBtnClick",this.onChangeSizeBtnClick.bind(this))},{onChangeSizeBtnClick:function(e){sessionStorage.setItem("font-size",e.size)}})}),define("repositories/news",["repository_base"],function(e){return new(e.extend({getDetail:function(e){return $.send("/rpc",{so:"jso-ui-zhpnews.jar","function":"gw.sh.func.GetNewsContents123Request",paraencode:"base64",parameter:btoa(JSON.stringify({newsId:e}))},{before:function(e){return JSON.parse(JSON.stringify(e).replace(/\bNULL\b/g,""))}})},getReport:function(e){return $.send("/rpc",{so:"jso-ui-webreport.jar","function":"gw.sh.func.WebReportDetailRequest",paraencode:"base64",parameter:btoa(JSON.stringify({bgnm:e}))})},getNotice:function(e,t){return $.send("/rpc",{so:"jso-ui-notice_new.jar","function":"gw.sh.func.NoticeGetDetailRequest",paraencode:"base64",parameter:btoa(JSON.stringify({type:t,noticeid:e}))})}}))}),define("presenters/index",["./_base","../repositories/news"],function(e,t){return e.extend(function(){},{onInit:function(){var e=location.hash.replace(/^#/,"");e&&(this.view.reset(),t.getDetail(e).then(function(e){if(e&&e.length){var t=e[0];t.C13?(t.C13.indexOf("shellexe")>-1&&external.closeDialog&&external.closeDialog(),location.assign(t.C13.replace(/^cmd:/,"dzh:"))):(this.view.render(t),t.TEXT?this.view.renderContent(t.TEXT.replace(/<img[^>]*>/g,"")):$.send(t.C4).then(this.view.renderContent.bind(this.view)))}else this.view.renderErrorMsg()}.bind(this),this.view.renderErrorMsg.bind(this.view)))}})}),define("views/index",["./_base","../presenters/index"],function(e,t){var n=e.extend(function(){},{render:function(e){console.log(e),this.root.find(">h1").text(e.C3),this.root.find(">h2>span:eq(0)").text(e.C8),this.root.find(">h2>span:eq(1)").text(e.C16.replace(/^(\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)/,"$1-$2-$3 $4:$5:$6")),this.root.find(">section:eq(0)>p").html(e.C11?(e.C11.match(/[^,]+/g)||[]).map(function(e,t){var n=e.replace(/^.+\./,"").toLowerCase();return e="dzh://FILEMGR?OPEN=1&SHOWUI=1&LINK="+e+"&FILE="+this.C3+"(附件"+(t+1)+")",'<a href="'+e+'"><i class="icon-'+n+'"></i>附件'+(t+1)+"</a> "},e).join(""):""),e.CC98&&this.footer.prepend(["<a href=\"dzh://shellexe?'",e.CC99,"'\">",'<img src="http://rdfile.gw.com.cn',e.CC98,'"></a>'].join("")).show(),this.base(arguments)}});return n.init=function(){new t(new this({root:$("article"),footer:$("footer")}))},n}),define("presenters/notice",["./_base","../repositories/news"],function(e,t){return e.extend(function(){},{onInit:function(){var e=location.hash.replace(/^#/,"");e&&(e=e.indexOf("-")>-1?e.split("-"):[e.slice(0,e.length-3),e.slice(-3)],e[1]=Number(e[1]),this.view.reset(),t.getNotice(e[0],e[1]).then(function(t){t&&t.length?(t[0].type=e[1],this.view.render(t[0]),this.view.renderContent(t[0].C2)):this.view.renderErrorMsg()}.bind(this),this.view.renderErrorMsg.bind(this.view)))}})}),define("views/notice",["./_base","../presenters/notice"],function(e,t){var n=e.extend(function(){},{render:function(e){this.root.find(">h1").text(e.C2b),this.root.find(">h2>span:eq(1)").text(e.C2a.replace(/^(\d{4})(\d\d)(\d\d).+/,"$1-$2-$3")),this.root.find(">section:eq(0)>p").html(e.C3?(e.C3.match(/[^,]+/g)||[]).map(function(e,t){var n=e.replace(/^.+\./,"").toLowerCase();return e="dzh://FILEMGR?OPEN=1&SHOWUI=1&LINK="+e+"&FILE="+this.C2b+"(附件"+(t+1)+")",e.indexOf("http")>-1&&(external.download?external.download(e)+external.closeDialog():alert(e)),'<a href="'+e+'"><i class="icon-'+n+'"></i>附件'+(t+1)+"</a> "},e).join(""):""),this.base(arguments)}});return n.init=function(){new t(new this({root:$("article")}))},n}),define("presenters/report",["./_base","../repositories/news"],function(e,t){return e.extend(function(){},{onInit:function(){var e=location.hash.replace(/^#/,"");e&&(this.view.reset(),t.getReport(e).then(function(e){e&&e.length?(this.view.render(e[0]),$.send(e[0].C11).then(this.view.renderContent.bind(this.view))):this.view.renderErrorMsg()}.bind(this),this.view.renderErrorMsg.bind(this.view)))}})}),define("views/report",["./_base","../presenters/report"],function(e,t){var n=e.extend(function(){},{render:function(e){this.root.find(">h1").text(e.C1),this.root.find(">h2>span:eq(0)").text(e.C6+"("+e.C7+")"),this.root.find(">h2>span:eq(1)").text(e.C5),this.root.find(">section:eq(0)>p").html("NULL"===e.C13?"":(e.C13.match(/[^,]+/g)||[]).map(function(e,t){var n=e.replace(/^.+\./,"").toLowerCase();return e="dzh://FILEMGR?OPEN=1&SHOWUI=1&LINK="+e+"&FILE="+this.C1+"(附件"+(t+1)+")",'<a href="'+e+'"><i class="icon-'+n+'"></i>附件'+(t+1)+"</a> "},e).join("")),this.base(arguments)}});return n.init=function(){new t(new this({root:$("article")}))},n}),require(["views/index","views/notice","views/report"],function(){require(["views/"+(location.pathname.match(/([^\/]+)\.html/)||[,"index"])[1]],function(){arguments[0]&&arguments[0].init&&arguments[0].init()})}),define("src",function(){});