define("views/_base",["_base","observable","jquery","datetime","dialog","filter","select","splitter","grid","ztree"],function(t,e){return t.extend([e],function(t){$.extend(this,t),this.root.on("click","[data-bind$=Click]",this.handleEvent.bind(this)),this.root.on("change","[data-bind$=Change]",this.handleEvent.bind(this)),setTimeout(function(){"function"==typeof this.init&&this.init(t),this.emit("init")}.bind(this),0)},{handleEvent:function(t){var e=t.currentTarget.dataset.bind;e in this&&"function"==typeof this[e]&&this[e](t),this.emit(e.replace(/^on\w/,function(t){return t.slice(-1).toLowerCase()}),t.currentTarget.value||t.currentTarget.dataset)}})}),define("presenters/_base",["_base"],function(t){return t.extend(function(t){this.view=t})}),define("repositories/_base",["_base","socket"],function(t){return t.extend(function(){},{})}),define("repositories/notice",["./_base"],function(t){return new(t.extend({getParams:function(t){return $.extend(t,{so:"jso-ui-negativenews.jar",paraencode:"base64",request_timeout:15})},getTreeNodesByType:function(){return $.getJSON("resources/tree_stock.json")},getNotice:function(t){return $.send("/rpc",this.getParams({parameter:(external.base64encode||btoa)(JSON.stringify(t)),"function":"gw.sh.func.FindNegativeNewsRequest"}))},getdynaData:function(t){return $.send("/objinfo/getinfo",{field:"new,lastclose",where:"obj="+t,response_times:1,response_mode:0})},gethkexData:function(t){return $.send("/objinfo/getinfo",{field:"new,lastclose",where:"obj="+t,response_times:1,response_mode:0})},getNoticeCount:function(t){return"newsId"in t?$.Deferred():this.getNotice($.extend({count:1},t))},getNoticeContent:function(t){return $.send("/rpc",this.getParams({"function":"gw.sh.func.GetDetailNegativeNewsRequest",parameter:(external.base64encode||btoa)(JSON.stringify({newsId:t}))}))},getFavorites:function(){var t=["$negativeNews","favorites"].join(".");return t in localStorage?JSON.parse(localStorage.getItem(t)):null},setFavorites:function(t){var e=this.getFavorites();e=null==e?{}:e,e[t]?delete e[t]:e[t]=!0,localStorage.setItem(["$negativeNews","favorites"].join("."),JSON.stringify(e))},getSubscriptions:function(t){var e=$.Deferred(),i=["$negativeNews",t,"subscriptions"].join(".");return e.resolve(i in localStorage?JSON.parse(localStorage.getItem(i)):[]),e},setSubscriptions:function(t,e){return e.forEach(function(t){var e=[];(t.keys?t.keys.split(","):[]).forEach(function(t){t in e||(e[t]=!0,e.push(t))}),t.keys=e.join(","),e.length=0,e=void 0}),localStorage.setItem(["$negativeNews",t,"subscriptions"].join("."),JSON.stringify(e)),this.getSubscriptions(t)}}))}),define("repositories/securities",["./_base"],function(t){return new(t.extend({filterReg:{bond:new RegExp("\\.bond$"),financial:new RegExp("^(?:SH|SZ|OF)\\d+\\.fnd$"),fund:new RegExp("^(?:SH|SZ|OF)\\d+\\.fnd$"),stock:new RegExp("^(?:SH|SZ|IB|CO|NT|FI|CP|CO)\\w+\\.(stk|bond)$"),stock_hk:new RegExp("^HK\\d{5}\\.stk$")},getSecurities:function(t,e){return $.send("/keyspirit/search",{key:encodeURI(t),f:0,e:"N5",__encoding:"gbk",l:20})},getTreeNodes:function(t,e,i){return $.send("/rpc",{so:"jso-all-treequery.jar","function":"gw.sh.func.QueryChildTreeRequest",paraencode:"base64",parameter:btoa(JSON.stringify({did:t,node:e,returntype:0,querydepth:i?-1:1,nodetype:0,result:i?1:0})),request_timeout:20})},getBlockInfo:function(t){return $.send({service:"blockinfo",type:t?"leaf":"sub",source:"local",block:t||"自选股",depth:1})},getOptionalSecurities:function(t){var e=$.Deferred();return this.getBlockInfo().then(function(i){var n=i.map(function(t){return t.blockname},this),s=n.map(function(t){return this.getBlockInfo(t)},this);$.when.apply($,s).then(function(){for(var i={},s=[],a=this.filterReg[t],r=0,o=arguments.length;o>r;r++)for(var c=n[r],h=arguments[r],d=0,l=h.length;l>d;d++){var u=h[d];a.test(u.stockid)&&(c in i?!(u.stockid in i[c])&&i[c].push(u.stockid):i[c]=[u.stockid],i[c][u.stockid]=!0)}for(var f in i)s.push({name:f,keys:i[f].join(",")});e.resolve(s)}.bind(this))}.bind(this)),e},getRanges:function(t){switch(t){case"financial":return[["","全部"],["0100000","银行理财产品公告"],["0200000","信托产品公告"],["0300000","保险产品公告"],["0400000","集合理财公告"]];case"fund":return[["","全部"],["105228","股票型基金"],["105233","混合型基金"],["105239","债券型基金"],["105245","货币式基金"],["105246","QDII基金"],["111594","商品基金"],["105200","ETF基金"],["105201","LOF基金"],["105203","指数型基金"],["105210","分级基金"]];case"stock":return[["","全部"],["100088","沪市主板公告"],["100090","深市主板公告"],["100097","中小板公告"],["102689","创业板公告"]];case"stock_hk":return[["100618","全部"],["100620","港股主板"],["100622","港股创业板"],["100619","H股"],["109926","含A股的H股"],["100621","红筹股"],["109927","蓝筹股"],["109928","含认购证的港股"],["100065","待上市港股"]];default:return[["","全部"]]}}}))}),define("presenters/index",["./_base","../repositories/notice","../repositories/securities"],function(t,e,i){return t.extend(function(){this.view.on("init",this.onInit.bind(this)),this.view.on("treeNodesClick",this.onTreeNodesClick.bind(this)),this.view.on("pagerChange",this.onPagerChange.bind(this)),this.view.on("articleLinkClick",this.onArticleLinkClick.bind(this)),this.view.on("prevArticleLinkClick",this.onPrevArticleLinkClick.bind(this)),this.view.on("nextArticleLinkClick",this.onNextArticleLinkClick.bind(this)),this.view.on("attachmentLinkClick",this.onAttachmentLinkClick.bind(this)),this.view.on("filterInput",this.onFilterInput.bind(this)),this.view.on("searchBtnClick",this.onSearchBtnClick.bind(this)),this.view.on("searchBtn1Click",this.onSearchBtn1Click.bind(this)),this.view.on("searchBtn2Click",this.onSearchBtn2Click.bind(this)),this.view.on("advSearchBtnClick",this.onAdvSearchBtnClick.bind(this)),this.view.on("favoritesBtnClick",this.onFavoritesBtnClick.bind(this)),this.view.on("subscribeBtnClick",this.onSubscribeBtnClick.bind(this)),this.view.on("subscribeChange",this.onSubscribeChange.bind(this)),this.view.on("removeFavoritesBtnClick",this.onRemoveFavoritesBtnClick.bind(this)),this.view.on("exportBtnClick",this.onExportBtnClick.bind(this)),this.view.container.on("click",".slick-row",this.onGridRowClick.bind(this))},{onInit:function(){this.obj=(location.search.match(/\bobj=([^&]*)/)||[,""])[1],this.type=(location.search.match(/\btype=([^&]*)/)||[,"stock"])[1],this.pageCount=1,this.dataList=[],this.args={stock:"",key:"",itemId:"",pageNum:1,pageSize:50,bdate:"",edate:"",treeId:"",type:1,instName:""},this.obj&&(this.args.objCode=this.obj,this.args.bdate="",this.args.edate="",this.view.renderSearchCode(this.obj)),this.view.renderGrid([]),e.getTreeNodesByType(this.type).then(this.view.renderTree.bind(this.view)).then(this.updateNoticePageCount.bind(this)).then(this.updateNoticeList.bind(this)).then(this.updateFavorites.bind(this)).then(this.updateSubscriptions.bind(this)).then(this.updateSecurities.bind(this))},onTreeNodesClick:function(t,i,n,s){if(arguments.length)if(this.lock=!1,this.fixArgs({}),t&&"WDSC"==t){var t=[],a=e.getFavorites();if(null==a||$.isEmptyObject(a))this.view.grid.empty();else{for(var r in a)t.push(r);this.args.newsId=t.join(","),this.args.index=i,this.args.type=3,this.updateNoticePageCount(),this.updateNoticeList()}}else t?"navTree_3"==n?(this.view.disableSubscribeBtn(),this.args=JSON.parse(decodeURIComponent((external.base64decode||atob)(t)))):t.indexOf(".")>-1?(this.args.stock=t,this.args.bdate="",this.args.edate=""):(this.args.treeId=t,this.args.bdate="",this.args.edate="",this.treeNodeName=s):(this.args.itemId="",this.args.treeId="",this.args.bdate="",this.args.edate="",this.args.type=1),this.updateNoticePageCount(),this.updateNoticeList();else this.lock=!0,this.view.renderPager(1,1),this.view.grid.empty()},onPagerChange:function(t){this.lock||"pending"===this.listPromise.state()||(t=isNaN(Number(t))?1:Math.ceil(Number(t)),1>t&&(t=1),t>this.pageCount&&(t=this.pageCount),this.args.pageNum=Number(t),this.updateNoticeList()),this.view.renderPager(this.args.pageNum,this.pageCount)},onArticleLinkClick:function(t){this.updateNoticeContent(t.key,function(){this.view.renderArticle(this.article)}.bind(this))},onGridRowClick:function(t){"A"!=t.target.nodeName&&t.currentTarget.childNodes[0].childNodes[0]&&this.onArticleLinkClick({key:t.currentTarget.childNodes[0].childNodes[0].getAttribute("data-key")})},onPrevArticleLinkClick:function(){this.article&&this.onArticleLinkClick({key:this.getNotice(this.article.C1).prev.C1})},onNextArticleLinkClick:function(){this.article&&this.onArticleLinkClick({key:this.getNotice(this.article.C1).next.C1})},onAttachmentLinkClick:function(t){this.updateNoticeContent(t.key,function(){this.view.renderAttachment(this.article,Number(t.index))}.bind(this))},onFilterInput:function(t){i.getSecurities(t,this.type).then(function(t){for(var e=[],i=0,n=t.length;n>i;i++)e.push({id:t[i]["bond"===this.type?"trcode":"obj"],name:t[i].obj.replace(/\..+$/,"　")+t[i].disp});this.view.renderFilterResults(e)}.bind(this))},onSearchBtnClick:function(t){this.fixArgs(t),this.args.bdate=t.bdate?t.bdate.replace(/-/g,"")+"000000":"",this.args.edate=t.edate?t.edate.replace(/-/g,"")+"235959":"",this.args.type=1,this.updateNoticePageCount(),this.updateNoticeList()},onSearchBtn1Click:function(t){this.fixArgs(t),this.args.bdate=t.bdate?t.bdate.replace(/-/g,"")+"000000":"",this.args.edate=t.edate?t.edate.replace(/-/g,"")+"235959":"",this.args.type=1,this.updateNoticePageCount(),this.updateNoticeList()},onSearchBtn2Click:function(t){this.fixArgs(t),this.args.bdate=t.bdate?t.bdate.replace(/-/g,"")+"000000":"",this.args.edate=t.edate?t.edate.replace(/-/g,"")+"235959":"",this.args.type=1,this.updateNoticePageCount(),this.updateNoticeList()},onAdvSearchBtnClick:function(){this.view.renderSearchDialog(i.getRanges(this.type))},onFavoritesBtnClick:function(t){e.setFavorites(t.key)},onRemoveFavoritesBtnClick:function(t){if(t.keys){var i={};t.keys.split(",").forEach(function(t){i[t]=!0},i),e.getFavorites(this.type).then(function(t){if(void 0!==this.args.index){var n=t[this.args.index];if(n){for(var s=n.keys.split(","),a=s.length;a--;)s[a]in i&&s.splice(a,1);n.keys=s.join(","),e.setFavorites(this.type,t),this.view.changeFavoritesNode(this.args.index,n.keys)}}else t.forEach(function(t){for(var e=t.keys.split(","),n=e.length;n--;)e[n]in i&&e.splice(n,1);t.keys=e.join(",")}),e.setFavorites(this.type,t),this.view.changeAllFavoritesNode(t)}.bind(this))}},onSubscribeBtnClick:function(){e.getSubscriptions(this.type).then(function(t){this.view.renderSubscriptionsDialog(t.length?t:[{name:"订阅1"}])}.bind(this))},onSubscribeChange:function(t){e.setSubscriptions(this.type,t).then(function(t){this.view.renderSubscriptionsNode(t)}.bind(this))},onExportBtnClick:function(){if(this.dataList.length){var t="大智慧数据导出",e='<html xmlns:x="urn:schemas-microsoft-com:office:excel"><head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>'+t+'</x:Name><x:WorksheetOptions><x:Panes></x:Panes></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--><meta http-equiv="content-type"content="text/html; charset=gbk"><style>.text{font-family:Arial;font-size:10pt;mso-number-format:"@"}</style></head><body>',i="</body></html>";if(window.external.saveas){var n=[],s="新闻导出"+(new Date).getTime()+parseInt(1e5*Math.random());n.push(e),n.push("<table>"),n.push("<tbody>");for(var a=0;a<this.dataList.length;a++)n.push("<tr>"),n.push("<td>"+this.dataList[a].C3+"</td>"),n.push("<td>"+("NULL"==this.dataList[a].C3A?"--":this.dataList[a].C3A)+"</td>"),n.push("<td>"+this.dataList[a].C8+"</td>"),n.push("<td>"+this.dataList[a].C6.replace(/^(\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)/,"$1-$2-$3 $4:$5")+"</td>"),n.push("</tr>");n.push("</tbody>"),n.push("</table>"),n.push(i),window.external.saveas(n.join(""),s,"xls"),n=[]}}},getDataStocks:function(t){for(var e=/(SH|SZ)\d{4,6}\.\w{3}/g,i=/HK\d{4,6}\.\w{3}/g,n=[],s=[],a=0,r=t.length;r>a;a++){var o=t[a].C3A.match(e),c=t[a].C3A.match(i);o instanceof Array&&o.forEach(function(t){-1==n.indexOf(t)&&n.push(t)}),c instanceof Array&&c.forEach(function(t){-1==s.indexOf(t)&&s.push(t)})}var h={A:n,H:s};return h},findInputStock:function(t){var e="";if(this.treeNodeName&&""!=this.treeNodeName&&(e=this.treeNodeName),this.args.instName&&""!=this.args.instName&&(e=this.args.instName),this.args.stock&&t&&"NULL"!=t&&""!=t)for(var i=t.split(","),n=0,s=i.length;s>n;n++)-1!=this.args.stock.indexOf(i[n].match(/(SH|SZ|HK|IB|CO|NT|FI|CP|CO)\d+\.(stk|bond)/)[0])&&(e=i[n].match(/(SH|SZ|HK|IB|CO|NT|FI|CP|CO)\d+\.(stk|bond)/)[0]);return this.treeNodeName="",e},findF1Stock:function(t){var e="",i=[],n=t.split(",");if(this.args.stock&&t&&"NULL"!=t&&""!=t)for(var s=0,a=n.length;a>s;s++)n[s].match(/(SH|SZ|HK|IB|CO|NT|FI|CP|CO)\d+\.(stk|bond)/)&&-1!=this.args.stock.indexOf(n[s].match(/(SH|SZ|HK|IB|CO|NT|FI|CP|CO)\d+\.(stk|bond)/)[0])&&i.push(n[s].replace(/\.stk/g,"").replace(/\.bond/g,""));else if(t&&"NULL"!=t&&""!=t)for(var s=0,a=n.length;a>s;s++)n[s].match(/(SH|SZ|HK)\d+\.stk/)&&n[s].match(/(SH|SZ|HK)\d+\.stk/)[0]&&i.push(n[s].replace(/\.stk/g,"").replace(/\.bond/g,""));return e=i.join()},changeC3AToFrist:function(t,e){if(t.C3A=t.C3A.replace(/\(/g," ( ").replace(/\)/g," ) "),t.F1=this.findF1Stock(t.C3A),""!=e){var i=t.F1.split(",");t.C3A=i[0];for(var n=0,s=i.length;s>n;n++)-1!=i[n].indexOf(e)&&(t.C3A=i[n])}else t.F1&&""!=t.F1&&(t.C3A=t.F1.split(",")[0]);return t.C3A=t.C3A.replace(".stk",""),t},updateNoticeList:function(){this.listPromise&&this.listPromise.cancel(),this.tips=setTimeout(function(){this.view.grid.loading(),this.view.renderPager(this.args.pageNum,this.pageCount)}.bind(this),100);try{sessionStorage.setItem("subscribeParams",JSON.stringify(this.args)),this.listPromise=e.getNotice(this.args).then(function(t){this.dataList=t,clearTimeout(this.tips),t.length>this.args.pageSize&&(t.pop(),this.view.renderPager(this.args.pageNum,++this.pageCount)),this.noticeList=t;var e=[],i="";t[0]&&(i=this.findInputStock(t[0].C3A));var n=this;t.forEach(function(t,s){t=n.changeC3AToFrist(t,i),s>0&&s%6==0&&e.push({C1:"",C3:"",C3A:"",C6:"",C8:"",F1:""}),e.push(t)}),this.view.renderGrid(e,this.args),0===t.length?this.view.grid.empty():this.onArticleLinkClick({key:this.getNotice().C1}),$("#C3AFtooltips").css("display","none")}.bind(this))}catch(t){throw this.view.grid.error(),t}},updateNoticePageCount:function(){this.pageCount=1,this.args.pageNum=1,this.view.renderPager(this.args.pageNum,this.pageCount)},updateFavorites:function(){},updateSubscriptions:function(){e.getSubscriptions(this.type).then(function(t){this.view.renderSubscriptionsNode(t)}.bind(this))},updateSecurities:function(){"financial"!==this.type&&i.getOptionalSecurities(this.type).then(function(t){this.view.renderSecuritiesNode(t)}.bind(this))},updateNoticeContent:function(t,i,n){this.article=this.getNotice(t).item,this.ContentPomise&&this.ContentPomise.cancel(),this.detailC4&&this.detailC4.cancel(),this.article.favorite=null!=e.getFavorites()&&t in e.getFavorites()?!0:!1,"detail"in this.article?i():this.ContentPomise=e.getNoticeContent(this.article.C1).then(function(t){this.article.detail=t[0],this.article.content="",!t[0]||n?i():"NULL"===this.article.detail.C4?i():this.detailC4=$.send(this.article.detail.C4).then(function(t){this.article.content=t,i()}.bind(this))}.bind(this))},getNotice:function(t){return!t||t+"\f"in this.noticeList||this.noticeList.forEach(function(t,e){this.noticeList[t.C1+"\f"]={item:t,prev:this.noticeList[e-1]||this.noticeList[this.noticeList.length-1],next:this.noticeList[e+1]||this.noticeList[0]}},this),t?this.noticeList[t+"\f"]:this.noticeList[0]},fixArgs:function(t){["instName","newsId","index","itemId","stock","range","key","bdate","edate","type","treeId"].forEach(function(e){t[e]?this.args[e]=t[e]:delete this.args[e]},this),t=void 0},getDate:function(t){var e=new Date,i=parseInt(t);if(!isNaN(i))switch(t.slice(-1)){case"d":e.setDate(e.getDate()+i);break;case"m":e.setMonth(e.getMonth()+i);break;case"y":e.setFullYear(e.getFullYear()+i)}return new Date(e-6e4*e.getTimezoneOffset()).toJSON().replace(/\D/g,"").slice(0,8)+"000000"}})}),define("views/widgets/grid",["grid"],function(t){return t.extend(function(){this.changeHandle()},{options:{forceFitColumns:!1,resizable:!1,resize:!0,cache:!1},formatter:{serial:function(t){return t+1},date:function(t,e,i){var n="",s=new Date;s.setDate(s.getDate());var a=s.getFullYear();n+=a;var r=s.getMonth()+1;10>r&&(n+="0"),n+=r;var o=s.getDate();return 10>o&&(n+="0"),n+=o,i.substr(0,8)==n?'<span class="gray">'+i.replace(/^(\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)/,"$4:$5")+"</span>":'<span class="gray">'+i.replace(/^(\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)/,"$2/$3")+"</span>"},hq:function(t,e,i,n,s){return"NULL"==i?"--":'<span class="tooltipHand">'+i+'</span><div class="tooltips_parent">'+s.F1+"</div>"},from:function(t,e,i){return'<span class="gray">'+i+"</span>"},title:function(t,e,i,n,s){return i?['<a class="articleLink" data-bind="onArticleLinkClick" data-key="',s.C1,'" title="',i,'">',i,"</a>"].join(""):""},favorites:function(t,e,i,n,s){return'<i title="'+(s.favorite?"取消收藏":"点击收藏")+'" class="fav fa fa-star'+(s.favorite?" added":"")+'" data-bind="onFavoriteIconClick"></i><input class="hide checkbox" type="checkbox" value="'+s.C1+'#">'}},getColumns:function(t){var e=[];return 1==t?(e=[{pwidth:"54%",field:"C3",name:"新闻标题",formatter:this.formatter.title},{pwidth:"20%",field:"C3A",name:"相关股票",formatter:this.formatter.hq},{pwidth:"16%",field:"C8",name:"新闻来源",formatter:this.formatter.from},{pwidth:"10%",field:"C6",name:"新闻日期",formatter:this.formatter.date,cssClass:"center"}],e.push()):e=[{pwidth:"74%",field:"C3",name:"新闻标题",formatter:this.formatter.title},{pwidth:"16%",field:"C8",name:"新闻来源",formatter:this.formatter.from},{pwidth:"10%",field:"C6",name:"新闻日期",formatter:this.formatter.date,cssClass:"center"}],e.forEach(function(t,e){t.id=e}),e},render:function(t,e){return t.forEach(function(t,e){t.id=e}),this.base(t,this.getColumns(e)),this.instance.getData().setSerialField(1),this},getFavorites:function(t){var e=["$negativeNews",t,"favorites"].join(".");return e in localStorage?JSON.parse(localStorage.getItem(e)):[]},loading:function(){this.render([]).target.find(">.slick-viewport").addClass("icon-loading")},tips:function(t){this.render([]).target.find(".grid-canvas").html('<div style="margin: 5px;">'+t+"</div>")},empty:function(){this.tips(this.emptyContent)},error:function(){this.tips("提示：服务器忙请求超时，请稍候重试")},getCheckedItems:function(){return this.target.find("input[type=checkbox]:checked").map(function(){return this.value}).toArray()},changeHandle:function(t){if(t){if("WDSC"==t.keys&&0==this.getFavorites().length)return void(this.emptyContent="提示：无收藏记录");this.node=t}else this.node={};this.emptyContent="提示：该品种无此项记录，或在当前筛选条件下无数据"}})}),define("views/widgets/confirm_dialog",["dialog"],function(t){return t.extend(function(){this.target.on("click","[data-bind$=Click]",this.handleEvent.bind(this)),this.target.on("change","[data-bind$=Change]",this.handleEvent.bind(this))},{onConfirmBtnClick:function(){this.emit("confirm"),this.hide()},onCancelBtnClick:function(){this.emit("cancel"),this.hide()},handleEvent:function(t){var e=t.currentTarget.dataset.bind;this.emit(e.replace(/^on\w/,function(t){return t.slice(-1).toLowerCase()}),t.currentTarget.value||t.currentTarget.dataset)}})}),define("views/widgets/search_dialog",["./confirm_dialog"],function(t){return t.extend(function(){var t=this.target.find("select");this.filter=this.target.find("input[type=search]"),this.ranges=this.target.find("input[type=datetime]"),this.dateSelect=t.eq(0),this.rangeSelect=t.eq(1).on("init",function(){this.rangeSelect.widget().menu.on("change","input",this.onRangeSelectChange.bind(this))}.bind(this)),this.onDateSelectChange(),/type=financial/.test(location.search)&&(this.filter.parent().hide(),this.rangeSelect.parent().hide())},{onDateSelectChange:function(){var t=Number(this.dateSelect.val()),e=new Date,i=new Date,n=function(t){return new Date(t-6e4*t.getTimezoneOffset()).toJSON().slice(0,10)};t&&(e.setMonth(i.getMonth()-t),this.ranges.prop("disabled",!1),this.ranges.eq(0).val(n(e)),this.ranges.eq(1).val(n(i))),this.ranges.prop("disabled",!!t)},onRangeSelectChange:function(t){if(t.target.checked){var e=$(t.target.parentNode.parentNode.parentNode).find("input");e.filter(":"+("全部"===t.target.parentNode.children[1].innerText?"gt":"eq")+"(0)").not(t.target).prop("checked",!1),e.toArray().forEach(function(t,e){this.rangeSelect[0].options[e].selected=t.checked}.bind(this))}},onConfirmBtnClick:function(t){var e=this.filter.val(),i=this.ranges.prop("disabled");this.filter.val(this.filter.attr("data-id")||""),this.ranges.prop("disabled",!1),this.params={},this.target.find("form").serializeArray().forEach(function(t){t.value&&(this.params[t.name]=t.name in this.params?this.params[t.name]+","+t.value:t.value)},this),this.filter.val(e),this.ranges.prop("disabled",i),this.emit("change",this.params),this.base(t)},renderRangeSelect:function(t){var e=[];t.forEach(function(t){this.push('<option value="',t[0],'">',t[1],"</option>")},e),this.rangeSelect.html(e.join(""))}})}),define("views/widgets/tree_dialog",["./confirm_dialog"],function(t){return t.extend(function(){this.renderTree(this.cloneNodes())},{onConfirmBtnClick:function(t){var e=[];this.items={},this.value=[],this.tree.getNodesByFilter(function(t){return t.checked&&1!==t.check_Child_State}).forEach(function(t){this.value.push(t.name),t.keys&&t.keys.split(",").forEach(function(t){this[t]=!0},this.items)}.bind(this));for(var i in this.items)e.push(i);this.emit("change",this.value.join(","),e.join(",")),this.base(t)},cloneNodes:function(t,e){return t=t||this.nodes,e=e||[],t.forEach(function(t){var e={name:t.name,keys:t.keys,open:t.open};this[1].push(e),t.children&&(e.children=[],this[0](t.children,e.children))},[arguments.callee,e]),e},renderTree:function(t){this.tree=$.fn.zTree.init(this.target.find(".ztree"),{check:{enable:!0},view:{dblClickExpand:!1,expandSpeed:"",nameIsHTML:!0,selectedMulti:!1,showIcon:!1,showTitle:!1}},t)}})}),define("views/widgets/favorites_dialog",["./confirm_dialog"],function(t){return t.extend(function(){this.list=this.target.find("ul").on("click","li",this.onItemClick.bind(this)).on("blur","input",this.onItemBlur.bind(this)),this.setActiveItem()},{onItemClick:function(t){this.setActiveItem($(t.currentTarget))},onItemBlur:function(){var t=this.activeItem.find("input").remove().val().trim()||this.activeItem.attr("data-name");t?this.activeItem.removeClass("edit").text(t).attr("data-name",this.activeItem.text()):(this.activeItem.remove(),this.setActiveItem())},onAddBtnClick:function(){var t=$("<li></li>");this.list.append(t),this.setActiveItem(t),this.setEditItem()},onEditBtnClick:function(){this.setEditItem()},onRemoveBtnClick:function(){this.activeItem.remove(),this.setActiveItem()},onMoveUpBtnClick:function(){this.activeItem.prev().before(this.activeItem)},onMoveDownBtnClick:function(){this.activeItem.next().after(this.activeItem)},onConfirmBtnClick:function(t){var e=[],i=this.activeItem.attr("data-keys");i=(i?i.split(","):[]).concat(this.keys),this.activeItem.attr("data-keys",i),this.list.children().each(function(){e.push({name:this.dataset.name,keys:this.dataset.keys||""})}),this.emit("change",e),e=void 0,this.base(t)},setActiveItem:function(t){this.activeItem=(t||this.list.children().first()).siblings().removeClass("active").end().addClass("active")},setEditItem:function(t){this.editItem=(t||this.activeItem).addClass("edit"),this.editItem.html('<input type="text">').find("input").val(this.editItem.attr("data-name")||"").focus()},onCancelBtnClick:function(){this.hide(),$(".adding").removeClass("adding"),$(".checkbox").prop("checked",!1)},render:function(t){var e=[];return t.forEach(function(t,i){e.push("<li",i?"":' class="active"',' data-name="',t.name,'" data-keys="',t.keys,'">',t.name,"</li>")},e),this.list.html(e.join("")),this.setActiveItem(),this}})}),define("views/widgets/subscribe_dialog",["./confirm_dialog"],function(t){return t.extend(function(){this.list=this.target.find("ul").on("click","li",this.onItemClick.bind(this)).on("blur","input",this.onItemBlur.bind(this)),this.setActiveItem()},{onItemClick:function(t){this.setActiveItem($(t.currentTarget))},isExist:function(){for(var t=!1,e=this.list.find("li"),i=0,n=e.length;n>i;i++)for(var s=0;n>s;s++)e[i].dataset.name==e[s].dataset.name&&i!=s&&(t=!0);return t},onItemBlur:function(){var t=this.activeItem.find("input"),e=t.remove().val().trim()||this.activeItem.attr("data-name");e?this.activeItem.removeClass("edit").text(e).attr("data-name",this.activeItem.text()):(this.activeItem.remove(),this.setActiveItem())},onAddBtnClick:function(){var t=$("<li></li>");this.list.append(t),this.setActiveItem(t),this.setEditItem()},onEditBtnClick:function(){this.setEditItem()},onRemoveBtnClick:function(){this.activeItem.remove(),this.setActiveItem()},onMoveUpBtnClick:function(){this.activeItem.prev().before(this.activeItem)},onMoveDownBtnClick:function(){this.activeItem.next().after(this.activeItem)},onConfirmBtnClick:function(t){if(this.isExist())return event.stopPropagation(),event.stopPropagation(),$("#diyuetishi").widget("dialog").show(),!1;var e=[],i=[].concat(this.keys);this.activeItem.attr("data-keys",btoa(encodeURIComponent(i))),this.list.children().each(function(){e.push({name:this.dataset.name,keys:this.dataset.keys||""})}),this.emit("change",e),e=void 0,this.base(t)},setActiveItem:function(t){this.activeItem=(t||this.list.children().first()).siblings().removeClass("active").end().addClass("active")},setEditItem:function(t){this.editItem=(t||this.activeItem).addClass("edit"),this.editItem.html('<input type="text">').find("input").val(this.editItem.attr("data-name")||"").focus()},render:function(t){var e=[];return t.forEach(function(t,i){e.push("<li",i?"":' class="active"',' data-name="',t.name,'" data-keys="',t.keys,'">',t.name,"</li>")},e),this.list.html(e.join("")),this.setActiveItem(),this}})}),define("views/index",["./_base","../presenters/index","./widgets/grid","./widgets/confirm_dialog","./widgets/search_dialog","./widgets/tree_dialog","./widgets/favorites_dialog","./widgets/subscribe_dialog"],function(t,e,i,n,s,a,r,o){var c=t.extend(function(){this.root.on("init","input[type=search]",this.onFilterInit.bind(this)),$(window).bind("keypress",function(t){if("13"==t.keyCode){var e=$("#searchType").val();switch(e){case"2":$('a[data-bind="onSearchBtn1Click"]').click();break;case"3":$('a[data-bind="onSearchBtn2Click"]').click();break;case"1":default:$('a[data-bind="onSearchBtnClick"]').click()}}}),this.onSearchSelectChange(),this.container.on("mouseenter",".l1",this.toolTipMousemove),this.container.on("mouseleave",".l1",this.toolTipMouseout),this.searchAreaIfa.on("click",this.searchAreaIfaClick),this.container.on("click",".slick-row",this.onGridRowClick.bind(this)),this.on("click",this.onbondMoreClick),this.poinContentSure.on("click",function(){$("#diyuetishi").widget("dialog").hide()})},{onSearchSelectChange:function(){var t=this.searchSelect.val();switch(t){case"1":this.searchType.attr("value",1),this.searchStock.show(),this.searchKey.hide(),this.searchOrg.hide();break;case"2":this.searchType.attr("value",2),this.searchKey.show(),this.searchStock.hide(),this.searchOrg.hide();break;case"3":this.searchType.attr("value",3),this.searchOrg.show(),this.searchKey.hide(),this.searchStock.hide()}},onTreeNodesClick:function(t,e,i){this.enableSubscribeBtn(),this.grid.changeHandle(i),i.keys||i.name.indexOf("最新负面新闻")>-1?this.emit("treeNodesClick",i.keys,i.index,i.parentTId,i.name):i.children?this.tree.expandNode(i):this.emit("treeNodesClick"),this.form.find('input:not("#searchType")').val("").removeAttr("data-id")},onFirstBtnClick:function(){this.emit("pagerChange",1)},onLastBtnClick:function(){this.emit("pagerChange",this.pager.find("input").attr("max"))},onPrevBtnClick:function(){this.emit("pagerChange",Number(this.pager.find("input").val())-1)},onNextBtnClick:function(){this.emit("pagerChange",Number(this.pager.find("input").val())+1)},setDatamlLess:function(){for(var t=$("div[data-ml]"),e=0,i=t.length;i>e;e++)$(t[e].parentNode).css("height","20px")},onArticleLinkClick:function(){this.loadingArticle(),this.contentSplitter.is(":visible")?(this.contentSplitter.removeClass("flex-splitter-hide").show(),this.contentPanel.removeClass("flex-none-hide")):this.articleDialog.show(),this.setDatamlLess()},onGridRowClick:function(t){"A"!=t.target.nodeName&&t.currentTarget.childNodes[0].childNodes[0]&&this.onArticleLinkClick(t)},onPrevArticleLinkClick:function(){this.loadingArticle()},onNextArticleLinkClick:function(){this.loadingArticle()},onChangeSizeBtnClick:function(t){$(t.target).addClass("active").siblings("a").removeClass("active").parents("article").css("font-size",t.target.dataset.size+"px")},onChangeViewBtnClick:function(t){this.contentSplitter.is(":visible")?(this.contentSplitter.hide().addClass("flex-splitter-hide"),this.contentPanel.addClass("flex-none-hide"),this.articleDialog.target.find(">.dialog-body").append(this.articlePanel),this.articleDialog.show(),$(t.target).find(">.fa").removeClass("fa-d003").addClass("fa-d004")):(this.contentSplitter.removeClass("flex-splitter-hide").show(),this.contentPanel.append(this.articlePanel).removeClass("flex-none-hide"),this.articleDialog.hide(),$(t.target).find(">.fa").removeClass("fa-d004").addClass("fa-d003"))},onSearchBtnClick:function(t){this.enableSubscribeBtn(),t.target.dataset.stock=$(t.target.parentNode).find("input").attr("data-id")||"",this.tree.cancelSelectedNode()},onSearchBtn1Click:function(t){this.enableSubscribeBtn(),t.target.dataset.key=$(t.target.parentNode).find("input").val()||"",this.tree.cancelSelectedNode()},onSearchBtn2Click:function(t){this.enableSubscribeBtn(),t.target.dataset.instName=$(t.target.parentNode).find("input").val()||"",this.tree.cancelSelectedNode()},onAdvSearchBtnClick:function(){this.searchDialog instanceof Element&&(this.searchDialog=new s(this.searchDialog,{onChange:function(t){this.enableSubscribeBtn();var e=this.searchDialog.target.find("input[name=stock]");this.emit("searchBtnClick",t),this.tree.cancelSelectedNode(),this.form.find("input:eq(0)").val(e.val()).attr("data-id",e.attr("data-id"))}.bind(this),onHide:function(){this.treeDialog.hide&&this.treeDialog.hide()}.bind(this)}))},onChooseBtnClick:function(){if(this.treeDialog instanceof Element){var t=this.tree.getNodes();this.treeDialog=new a(this.treeDialog,{nodes:[].concat(t[4]).concat(t[5]).concat(t[6]).concat(t[7]),onChange:function(t,e){this.searchDialog.target.find("#treeId").val(t),this.searchDialog.target.find("input[name=treeId]").val(e)}.bind(this)})}this.treeDialog.show()},onFavoritesBtnClick:function(){var t=this.articlePanel.find(">h2>a[data-bind=onFavoritesBtnClick]")[0];"true"==t.dataset.collected?(t.dataset.collected="false",this.articlePanel.find("b.normal").text("收藏").parent().removeClass("orange")):(t.dataset.collected="true",this.articlePanel.find("b.normal").text("取消收藏").parent().addClass("orange"))},onSubscribeBtnClick:function(t){this.subscribeDialog instanceof Element&&(this.subscribeDialog=new o(this.subscribeDialog,{onChange:function(t){this.emit("subscribeChange",t)}.bind(this)})),this.subscribeDialog.keys=t.target.dataset.key?[t.target.dataset.key]:sessionStorage.getItem("subscribeParams")},onRemoveFavoritesBtnClick:function(){this.grid.getCheckedItems().length&&this.emit("removeFavoritesBtnClick",{keys:this.grid.getCheckedItems().join(",")})},onFilterInit:function(t){var e=t.target.widget,i=e.target;e.on("select",function(t){this.target.val(t.innerText.replace(/^(\S+)\s(.+)/,"$2 $1")).attr("data-id",t.dataset.id)}),i.on({focus:function(){this.val("").attr("data-id","")}.bind(i),blur:function(){!this.attr("data-id")&&this.val("")}.bind(i),keyup:function(t){13===t.which&&this.blur().parent().find(">a:eq(0)").click()}.bind(i),input:function(t){var e=t.target.value.trim();e&&(this.emit("filterInput",e.toUpperCase()),this.activeFilter=t.target.widget)}.bind(this)})},onCloseBtnClick:function(t){$(t.target).parents(".dialog").widget().hide()},onFavoriteIconClick:function(t){$(".checkbox").prop("checked",!1),$(t.target).next().prop("checked",!0),$(t.target).hasClass("added")||$(t.target).hasClass("adding")?($(t.target).removeClass("adding").removeClass("added"),$('button[data-bind="onRemoveFavoritesBtnClick"]').click()):($(t.target).addClass("adding"),$('button[data-bind="onFavoritesBtnClick"]').click())
},renderTree:function(t){this.tree=$.fn.zTree.init(this.nav,{callback:{onClick:this.onTreeNodesClick.bind(this)},view:{dblClickExpand:!1,expandSpeed:"",nameIsHTML:!0,selectedMulti:!1,showIcon:!1,showTitle:!1}},t);var t=this.tree.getNodes();t.length>0&&this.tree.selectNode(t[0])},renderLatestCount:function(t){var e=this.tree.getNodes()[0];e.name=e.name.replace(/<b>[^<]*<\/b>/,"")+"<b>["+t+"]</b>",this.tree.updateNode(e)},renderSearchCode:function(t){this.form.find("input").val(t.replace(/\..+/,""))},renderFavoritesNode:function(t){var e=this.tree.getNodes()[1],i=e.open;this.tree.removeChildNodes(e),this.tree.addNodes(e,t.map(function(t,e){return t.index=e,t}),!i)},renderSubscriptionsNode:function(t){var e=this.tree.getNodes()[2],i=e.open;this.tree.removeChildNodes(e),this.tree.addNodes(e,t.map(function(t,e){return t.index=e,t}),!i)},renderSecuritiesNode:function(t){var e=this.tree.getNodes()[3],i=e.open;this.tree.removeChildNodes(e),this.tree.addNodes(e,t,!i)},renderGrid:function(t,e){var n=0;e&&(e.stock||"FLJD_00000003000c0000"==e.treeId)&&(n=1),this.grid=this.grid||new i({target:this.container}),this.grid.render(t,n)},renderPager:function(t,e){this.pager.find("input").attr("max",e).val(t),this.pager.find("label").text("/ "+e),this.pager.find("a").eq(1)[1===t?"addClass":"removeClass"]("btn-disable"),this.pager.find("a").eq(2)[t===e?"addClass":"removeClass"]("btn-disable")},renderFilterResults:function(t){this.activeFilter.render(t)},markSpanHtmlStr:function(t,e,i){for(var n="",s=0,a=t.length;a>s;s++)if(-1!=t[s].indexOf(e)){t[s]=t[s].replace(e,"");var r=t[s].split(","),o=/(SH|SZ|HK)\d{4,6}\.\w{3}/g;if(n+='<div class ="details-box" data-ml="less">',"相关股票:"==e)for(var c=0,h=r.length;h>c;c++)n+='<a href="dzh://VIEWSTOCK?DATATYPE=DAY&LAYOUT=level2默认&PAGE=分时走势&LABEL='+r[c].match(o)[0]+'" class="partition"><span class="'+i+'">'+r[c].replace(".stk","").replace("(",'</span>(<span class="'+i+'">').replace(")","</span>)")+"</span></a>";else for(var c=0,h=r.length;h>c;c++)n+='<span class="partition"><span class="'+i+'">'+r[c]+"</span></span>";n+="</div>",n.match(/"partition"/g).length>3&&(n+='<a  data-bind="onbondMoreClick" class="morelessA"><span class="fa fa-bm0"></span></a>')}return n},findStockBondArray:function(t,e){var i=e.split("<br/><br/>"),n="",s="",a="",r="",o="";n=this.markSpanHtmlStr(i,"相关股票:","emerald_green"),a=this.markSpanHtmlStr(i,"相关金融同业:","gray"),r=this.markSpanHtmlStr(i,"相关行业:","gray"),o=this.markSpanHtmlStr(i,"相关宏观:","gray");for(var c=0,h=i.length;h>c;c++)if(-1!=i[c].indexOf("相关债券品种:")){i[c]=i[c].replace("相关债券品种:","");var d=i[c].split(";");s+='<div class ="details-box" data-ml="less">';for(var l=0,u=d.length;u>l;l++){var f=d[l].split("-")[1];financialBondArray=f.split(",");for(var g=0,p=financialBondArray.length;p>g;g++)s+='<a href="DZH://VIEWSTOCK?LABEL='+financialBondArray[g].match(/\(\w+\.bond/)[0].substr(1)+'&DATATYPE=DAY&LAYOUT=Level2默认&PAGE=分时走势" class="partition"><span class="emerald_green">'+financialBondArray[g].replace(".bond","")+"</span></a>"}s+="</div>",s.match(/"partition"/g).length>3&&(s+='<a  data-bind="onbondMoreClick" class="morelessA" id="bondA"><span class="fa fa-bm0"></span></a>')}return{stocks:n,bond:s,financial:a,industry:r,agency:o}},renderArticle:function(t){if(this.articlePanel.find("b.normal").parent().removeClass("orange"),t.favorite?this.articlePanel.find("b.normal").text("取消收藏").parent().addClass("orange"):this.articlePanel.find("b.normal").text("收藏"),this.articlePanel.find(">h1").text(t.C3),this.articlePanel.find(">h2>span").text(t.C6.substr(0,8).replace(/^(\d{4})(\d\d)(\d\d)/,"$1-$2-$3")),this.articlePanel.find(">h2>a[data-bind=onFavoritesBtnClick]").attr("data-key",t.C1),this.articlePanel.find(">h2>a[data-bind=onFavoritesBtnClick]").attr("data-collected",t.favorite),t.F1,!t.detail)return $("#articlePanetishi").css("display","block"),!1;$("#articlePanetishi").css("display","none");var e=this.findStockBondArray(t.F1,t.detail.C3A),i=$("#aboutStocks"),n=$("#aboutBonds"),s=$("#aboutindustrys"),a=$("#aboutfinancials"),r=$("#aboutagency");i.html("<span>相关股票: </span>"),n.html("<span>相关债券: </span>"),s.html("<span>相关行业: </span>"),a.html("<span>相关机构: </span>"),r.html("<span>相关宏观: </span>"),""==e.stocks?i.css("display","none"):(i.append(e.stocks),i.css("display","block")),""==e.bond?n.css("display","none"):(n.append(e.bond),n.css("display","block")),""==e.financial?a.css("display","none"):(a.append(e.financial),a.css("display","block")),""==e.industry?s.css("display","none"):(s.append(e.industry),s.css("display","block")),""==e.agency?r.css("display","none"):(r.append(e.agency),r.css("display","block")),this.articlePanel.find("section").eq(1).html(t.content.replace(/<\/?body>/g,"")),this.articlePanel.show()},loadingArticle:function(){this.articlePanel.hide()},renderAttachment:function(t,e){if(t.detail&&"NULL"!==t.detail.C3){var i=(t.detail.C3.match(/[^,]+/g)||[]).map(function(t,e){return"dzh://FILEMGR?OPEN=1&SHOWUI=1&LINK=http://pdf.gw.com.cn/pdf/pdfPath/MRGG"+(location.search.indexOf("_hk")>-1?"_HK":"")+"/"+t+"&FILE="+this.C3+"(附件"+(e+1)+")"}.bind(t)).filter(function(t,e){return isNaN(this)||e==this}.bind(e)),n=function(){if(this.i<this.length){var t=this[this.i++];external.download?external.download(t):alert(t)}else clearInterval(this.id),this.length=0}.bind(i);i.i=0,i.id=setInterval(n,500),n()}},renderSearchDialog:function(t){this.searchDialog.renderRangeSelect(t),this.searchDialog.show()},renderFavoritesDialog:function(t){this.favoritesDialog.keys.length&&this.favoritesDialog.render(t).show()},changeFavoritesNode:function(t,e){var i=this.tree.getNodes()[1].children[t];i.keys=e,this.tree.updateNode(i),$("#"+i.tId+"_a").click()},changeAllFavoritesNode:function(t){var e=this;t.forEach(function(t,i){var n=e.tree.getNodes()[1].children[i];n.keys=t.keys,e.tree.updateNode(n)})},renderSubscriptionsDialog:function(t){this.subscribeDialog.render(t).show()},changeSubscriptionsNode:function(t,e){var i=this.tree.getNodes()[2].children[t];i.keys=e,this.tree.updateNode(i),$("#"+i.tId+"_a").click()},disableSubscribeBtn:function(){this.subscribeBtn.attr("data-bind","").addClass("btn-disable")},enableSubscribeBtn:function(){this.subscribeBtn.attr("data-bind","onSubscribeBtnClick").removeClass("btn-disable")},toolTipMousemove:function(){var t,e;"tooltipHand"==event.target.className?(t=event.target.parentNode.children[1].innerHTML.split(","),e=event.target.parentNode.offsetLeft+230):(t=event.target.children[1].innerHTML.split(","),e=event.target.offsetLeft+230);for(var i="",n=event.clientY+document.body.scrollTop+"px",s=0,a=t.length;a>s;s++)i+="<div>"+t[s]+"</div>";t.length>1&&t[0]&&""!=t[0]?($("#C3AFtooltips").html(i),$("#C3AFtooltips").css("top",n),$("#C3AFtooltips").css("left",e),$("#C3AFtooltips").css("display","block")):$("#C3AFtooltips").css("display","none")},toolTipMouseout:function(){$("#C3AFtooltips").css("display","none")},searchAreaIfaClick:function(t){var e=$("#searchType").val();switch(e){case"2":$('a[data-bind="onSearchBtn1Click"]').click();break;case"3":$('a[data-bind="onSearchBtn2Click"]').click();break;case"1":default:$('a[data-bind="onSearchBtnClick"]').click()}t.stopPropagation()},onbondMoreClick:function(t){var e=t.target.parentNode.parentNode.id,i=$("#"+e),n=$("#"+e+" div"),s=$(t.target);if("more"==n.attr("data-ml"))n.css("height","20px"),i.css("height","20px"),n.css("overflow","hidden"),s.css("background-position","0% 35%"),n.attr("data-ml","less");else{n.css("overflow","visible");var a=n[0].scrollHeight+"px";i.css("height",a),s.css("background-position","0% 0%"),n.attr("data-ml","more")}}});return c.init=function(){new e(new this({root:$(document),nav:$("#navTree"),form:$("form.flex-none"),container:$(".grid"),pager:$(".pager"),articlePanel:$("#articlePanel"),contentPanel:$("#contentPanel"),contentSplitter:$(".flex-splitter-bottom"),searchDialog:document.querySelector("#searchDialog"),favoritesDialog:document.querySelector("#favoritesDialog"),subscribeDialog:document.querySelector("#subscribeDialog"),alertDialog:document.querySelector("#alertDialog"),exportDialog:document.querySelector("#exportDialog"),treeDialog:document.querySelector("#treeDialog"),articleDialog:$("#articleDialog").widget("dialog"),subscribeBtn:$("#subscribeBtn"),searchSelect:$("#searchSelect"),searchStock:$("#searchStock"),searchKey:$("#searchKey"),searchOrg:$("#searchOrg"),searchType:$("#searchType"),searchAreaIfa:$("i.fa-search"),poinContentSure:$("#poinContentSure")}))},c}),require(["views/index"],function(){require(["views/"+(location.pathname.match(/([^\/]+)\.html/)||[,"index"])[1]],function(){arguments[0]&&arguments[0].init&&arguments[0].init()})}),define("src",function(){});