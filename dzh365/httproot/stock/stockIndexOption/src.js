/*
	Copyright (c) 2012-2013,   To get sources and documentation, please visit:

		http://dms.gw.com.cn
*/

//>>built
require({cache:{"stock/stockIndexOption/view/gridDataShow":function(){define("./util/util,dojo/store/Memory,dojo/request,dojo/_base/declare,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dijit/layout/_ContentPaneResizeMixin,dojo/_base/lang,dojo/_base/event,dojo/on,dojo/dom-class,dojo/dom-attr,dojo/text!./gridDataShow.html,dojox/slickgrid/slickgrid,dijit/layout/TabContainer,dojox/store/GridWSStore,dojo/io-query,dojo/aspect,dojo/dom,dojo/_base/array,dojo/number,dojo/json".split(","),
function(h,q,v,s,u,j,o,n,m,t,p,k,f,g,i,d,e,x,w,r,y,l){return s("stock.stockIndexOption.view.gridDataShow",[u,j,o,n],{templateString:g,dealGrid:new i({store:new q,columns:h.columns,options:h.options,columnDefaults:h.columnDefaults}),buyGrid:new i({store:new q,columns:h.columnsI,options:h.options,columnDefaults:h.columnDefaults}),sellGrid:new i({store:new q,columns:h.columnsII,options:h.options,columnDefaults:h.columnDefaults}),cacheAllDatas:[],hs300:{},curMonthData:null,curAllIndex:null,cache:[],soUrl:"/fund/gw/gata/showdata_io",
isLoadingData:!1,dealGridDataTemp:[],postCreate:function(){(new Date).getTime();var a=this;a.isCache(null)?(a.initAll(),a.bindTargetIndexEvent()):h.getStaticJarData(a.soUrl,function(c){a.curAllIndex=h.formatResultData(c[0].tablelist);a.curMonthData=h.formatResultData(c[1].tablelist);a.splitDatas(c[2].tablelist.datas);a.initAll();a.bindTargetIndexEvent()});this.searchData()},isCache:function(a){var c=h.getFromCache("stockIndex");if(c&&null!=c){var b=(new Date).getTime(),b=Math.floor((b-c.date)/6E4);
if(5<=b||0>b)h.removeFromCache("stockIndex");else if(c&&null!=c){this.cache=c.data;b=0;if(a&&null!=a){for(var b=-1,d=0;d<this.cache.length;d++)if(this.cache[d].index==a){b=d;break}if(-1==b)return!1}this.curAllIndex=c.curAllIndex;this.curIndex=this.cache[b].index;this.targetIndexName.innerText=h.shortCode(this.curIndex);this.curMonthData=this.cache[b].curMonthData;this.cacheAllDatas=this.cache[b].cacheAllDatas;return!0}}return!1},initAll:function(){this.isLoadingData=!0;this.initIndex();this.initMonth();
this.dealGrid.placeAt("container");dijit.byId("container").resize();this.buyGrid.placeAt("container1");this.sellGrid.placeAt("container2");this.dealGrid.setSorter(h.sorter);this.buyGrid.setSorter(h.sorter);this.sellGrid.setSorter(h.sorter);this.loadGridData()},getQuotesDatas:function(){for(var a=this,c=[],b=0;b<a.dealGridDataTemp.length;b++)a.dealGridDataTemp[b].dsymbol_C&&c.push(a.dealGridDataTemp[b].dsymbol_C),a.dealGridDataTemp[b].dsymbol_P&&c.push(a.dealGridDataTemp[b].dsymbol_P);c.push(this.curIndex);
b=new e;w.after(b,"put",function(b,c){a.isLoadingData||a.dealQuotes(a.dealGridDataTemp,c[0])});b.query({service:"quote",type:"dyna",field:"obj,openinterest,amount,new,buyvolume,buyprice,sellvolume,sellprice,volume,lastclose",where:"obj="+c.join(","),response_times:-1,response_mode:0,ds_wait_sync:1}).then(function(b){if(b.level)a.isLoadingData=!1,console.error("\u83b7\u53d6\u4e3b\u8868\u52a8\u6001\u884c\u60c5\u6570\u636e\u5931\u8d25\uff01"),console.error(b);else{if(b&&b.length)for(var c=0;c<b.length;c++)a.dealQuotes(a.dealGridDataTemp,
b[c]);a.refreshAllGrid(a.dealGridDataTemp);a.isLoadingData=!1;a.cacheCurData()}})},refreshAllGrid:function(a){this.dealGrid.store.setData(a);this.dealGrid.refresh(a);this.buyGrid.store.setData(a);this.buyGrid.refresh(a);this.sellGrid.store.setData(a);this.sellGrid.refresh(a)},dealDeriveQuotes:function(a,c){for(var b=0;b<a.length;b++)if(2==a[b].flag)if(0<=c.obj.indexOf(a[b].dsymbol_P)){a[b].ImplRG=c.Impl;a[b].DeltaRG=c.Delta;a[b].EffectiveGearingRG=c.EffectiveGearing;a[b].PremiumRateRG=c.PremiumRate;
isNaN(a[b].DeltaRG)||(a[b].DeltaRG=l.format(a[b].DeltaRG,{pattern:"#.00"}));isNaN(a[b].EffectiveGearingRG)||(a[b].EffectiveGearingRG=l.format(a[b].EffectiveGearingRG,{pattern:"#.00"}));isNaN(a[b].ImplRG)||(a[b].ImplRG=l.format(100*a[b].ImplRG,{pattern:"#.00"}));isNaN(a[b].PremiumRateRG)||(a[b].PremiumRateRG=l.format(100*a[b].PremiumRateRG,{pattern:"#.00"}));_this.dealGrid.updateRow(b);_this.sellGrid.updateRow(b);break}else if(0<=c.obj.indexOf(a[b].dsymbol_C)){a[b].DeltaRK=c.Delta;a[b].EffectiveGearingRK=
c.EffectiveGearing;a[b].ImplRK=c.Impl;a[b].PremiumRateRK=c.PremiumRate;isNaN(a[b].DeltaRK)||(a[b].DeltaRK=l.format(a[b].DeltaRK,{pattern:"#.00"}));isNaN(a[b].EffectiveGearingRK)||(a[b].EffectiveGearingRK=l.format(a[b].EffectiveGearingRK,{pattern:"#.00"}));isNaN(a[b].ImplRK)||(a[b].ImplRK=l.format(100*a[b].ImplRK,{pattern:"#.00"}));isNaN(a[b].PremiumRateRK)||(a[b].PremiumRateRK=l.format(100*a[b].PremiumRateRK,{pattern:"#.00"}));_this.dealGrid.updateRow(b);_this.buyGrid.updateRow(b);break}},dealQuotes:function(a,
c){if(c&&""!=c){if(0<=c.obj.indexOf(this.curIndex)){this.hs300.price=l.format(c["new"],{pattern:"#.00"});this.hs300.lastclose=l.format(c.lastclose,{pattern:"#.00"});this.setHs300Dom();for(var b=0;b<a.length;b++)if("2"==a[b].flag)a[b].flagRG=this.countPZhi(a[b].price,this.hs300.price),a[b].flagRK=this.countCZhi(a[b].price,this.hs300.price),this.buyGrid.updateCell(b,"flagRK"),this.sellGrid.updateCell(b,"flagRG");return}for(b=0;b<a.length;b++)if(2==a[b].flag)if(0<=c.obj.indexOf(a[b].c6_P)){a[b].old_holdRG=
a[b].holdRG;a[b].old_totalHandRG=a[b].totalHandRG;a[b].old_latestRG=a[b].latestRG;a[b].old_buyRG=a[b].buyRG;a[b].old_callBuyRG=a[b].callBuyRG;a[b].old_callSellRG=a[b].callSellRG;a[b].old_sellRG=a[b].sellRG;a[b].old_totalRG=a[b].totalRG;a[b].old_changeRG=a[b].changeRG;a[b].old_changeRateRG=a[b].changeRateRG;a[b].old_lastcloseRG=a[b].lastcloseRG;a[b].holdRG=c.openinterest;a[b].totalHandRG=c.volume;a[b].latestRG=c["new"];a[b].buyRG=c.buyvolume[0];a[b].callBuyRG=c.buyprice[0];a[b].callSellRG=c.sellvolume[0];
a[b].sellRG=c.sellprice[0];a[b].totalRG=c.amount/1E4;c["new"]&&0!=1*c["new"]?(a[b].changeRG=c["new"]-c.lastclose,a[b].changeRateRG=100*(c["new"]-c.lastclose)/c.lastclose,a[b].lastcloseRG=c.lastclose):(a[b].changeRG="-",a[b].changeRateRG="-",a[b].lastcloseRG="-");if(0<this.hs300.price)a[b].flagRG=this.countPZhi(a[b].price,this.hs300.price);a[b]=this.numberFormatRG(a[b]);this.updateCells(a[b],b);break}else if(0<=c.obj.indexOf(a[b].c6_C)){a[b].old_holdRK=a[b].holdRK;a[b].old_totalHandRK=a[b].totalHandRK;
a[b].old_latestRK=a[b].latestRK;a[b].old_buyRK=a[b].buyRK;a[b].old_callBuyRK=a[b].callBuyRK;a[b].old_callSellRK=a[b].callSellRK;a[b].old_sellRK=a[b].sellRK;a[b].old_totalRK=a[b].totalRK;a[b].old_changeRK=a[b].changeRK;a[b].old_changeRateRK=a[b].changeRateRK;a[b].old_lastcloseRK=a[b].lastcloseRK;a[b].holdRK=c.openinterest;a[b].totalHandRK=c.volume;a[b].latestRK=c["new"];a[b].buyRK=c.buyvolume[0];a[b].callBuyRK=c.buyprice[0];a[b].callSellRK=c.sellvolume[0];a[b].sellRK=c.sellprice[0];a[b].totalRK=c.amount/
1E4;c["new"]&&0!=1*c["new"]?(a[b].changeRK=c["new"]-c.lastclose,a[b].changeRateRK=100*(c["new"]-c.lastclose)/c.lastclose,a[b].lastcloseRK=c.lastclose):(a[b].changeRK="-",a[b].changeRateRK="-",a[b].lastcloseRK="-");a[b].dsymbol_P=a[b].dsymbol_P;if(0<this.hs300.price)a[b].flagRK=this.countCZhi(a[b].price,this.hs300.price);a[b]=this.numberFormatRK(a[b]);this.updateCells(a[b],b);break}}return a},updateCells:function(a,c){a.old_holdRK!=a.holdRK&&(this.dealGrid.updateCell(c,h.columnsSeq.holdRK),this.buyGrid.updateCell(c,
h.columnsISeq.holdRK));a.old_totalHandRK!=a.totalHandRK&&(this.dealGrid.updateCell(c,h.columnsSeq.totalHandRK),this.buyGrid.updateCell(c,h.columnsISeq.totalHandRK));a.old_changeRateRK!=a.changeRateRK&&(this.dealGrid.updateCell(c,h.columnsSeq.changeRateRK),this.buyGrid.updateCell(c,h.columnsISeq.changeRateRK));a.old_latestRK!=a.latestRK&&(this.dealGrid.updateCell(c,h.columnsSeq.latestRK),this.buyGrid.updateCell(c,h.columnsISeq.latestRK));a.old_buyRK!=a.buyRK&&(this.dealGrid.updateCell(c,h.columnsSeq.buyRK),
this.buyGrid.updateCell(c,h.columnsISeq.buyRK));a.old_callBuyRK!=a.callBuyRK&&(this.dealGrid.updateCell(c,h.columnsSeq.callBuyRK),this.buyGrid.updateCell(c,h.columnsISeq.callBuyRK));a.old_callSellRK!=a.callSellRK&&(this.dealGrid.updateCell(c,h.columnsSeq.callSellRK),this.buyGrid.updateCell(c,h.columnsISeq.callSellRK));a.old_sellRK!=a.sellRK&&(this.dealGrid.updateCell(c,h.columnsSeq.sellRK),this.buyGrid.updateCell(c,h.columnsISeq.sellRK));a.old_totalRK!=a.totalRK&&this.buyGrid.updateCell(c,h.columnsISeq.totalRK);
a.old_sellRG!=a.sellRG&&(this.dealGrid.updateCell(c,h.columnsSeq.sellRG),this.sellGrid.updateCell(c,h.columnsIISeq.sellRG));a.old_callSellRG!=a.callSellRG&&(this.dealGrid.updateCell(c,h.columnsSeq.callSellRG),this.sellGrid.updateCell(c,h.columnsIISeq.callSellRG));a.old_callBuyRG!=a.callBuyRG&&(this.dealGrid.updateCell(c,h.columnsSeq.callBuyRG),this.sellGrid.updateCell(c,h.columnsIISeq.callBuyRG));a.old_buyRG!=a.buyRG&&(this.dealGrid.updateCell(c,h.columnsSeq.buyRG),this.sellGrid.updateCell(c,h.columnsIISeq.buyRG));
a.old_latestRG!=a.latestRG&&(this.dealGrid.updateCell(c,h.columnsSeq.latestRG),this.sellGrid.updateCell(c,h.columnsIISeq.latestRG));a.old_changeRateRG!=a.changeRateRG&&(this.dealGrid.updateCell(c,h.columnsSeq.changeRateRG),this.sellGrid.updateCell(c,h.columnsIISeq.changeRateRG));a.old_totalHandRG!=a.totalHandRG&&(this.dealGrid.updateCell(c,h.columnsSeq.totalHandRG),this.sellGrid.updateCell(c,h.columnsIISeq.totalHandRG));a.old_holdRG!=a.holdRG&&(this.dealGrid.updateCell(c,h.columnsSeq.holdRG),this.sellGrid.updateCell(c,
h.columnsIISeq.holdRG));a.old_totalRG!=a.totalRG&&this.sellGrid.updateCell(c,h.columnsIISeq.totalRG)},numberFormatRG:function(a){if(!isNaN(a.holdRG))a.holdRG=l.format(a.holdRG,{pattern:"#"});if(!isNaN(a.totalHandRG))a.totalHandRG=l.format(a.totalHandRG,{pattern:"#"});if(!isNaN(a.changeRateRG))a.changeRateRG=l.format(a.changeRateRG,{pattern:"#.00"});if(!isNaN(a.latestRG))a.latestRG=l.format(a.latestRG,{pattern:"#.0"});if(!isNaN(a.buyRG))a.buyRG=l.format(a.buyRG,{pattern:"#"});if(!isNaN(a.callBuyRG))a.callBuyRG=
l.format(a.callBuyRG,{pattern:"#.0"});if(!isNaN(a.callSellRG))a.callSellRG=l.format(a.callSellRG,{pattern:"#"});if(!isNaN(a.sellRG))a.sellRG=l.format(a.sellRG,{pattern:"#.0"});return a},numberFormatRK:function(a){if(!isNaN(a.holdRK))a.holdRK=l.format(a.holdRK,{pattern:"#"});if(!isNaN(a.totalHandRK))a.totalHandRK=l.format(a.totalHandRK,{pattern:"#"});if(!isNaN(a.changeRateRK))a.changeRateRK=l.format(a.changeRateRK,{pattern:"#.00"});if(!isNaN(a.latestRK))a.latestRK=l.format(a.latestRK,{pattern:"#.0"});
if(!isNaN(a.buyRK))a.buyRK=l.format(a.buyRK,{pattern:"#"});if(!isNaN(a.callBuyRK))a.callBuyRK=l.format(a.callBuyRK,{pattern:"#.0"});if(!isNaN(a.callSellRK))a.callSellRK=l.format(a.callSellRK,{pattern:"#"});if(!isNaN(a.sellRK))a.sellRK=l.format(a.sellRK,{pattern:"#.0"});return a},setHs300Dom:function(){var a=this.hs300;if(void 0==this.hs300.oldPrice||this.hs300.oldPrice!=this.hs300.price){var c="",c=a.price<a.lastclose?"#00FF00":a.price>a.lastclose?"#FF0000":"#ABABAB";a.price&&!isNaN(a.price)&&0!=
1*a.price?(r.byId("latest").innerHTML=h.getColorData(l.format(a.price,{pattern:"#.00"}),c),r.byId("change").innerHTML=h.getColorData(l.format(a.price-a.lastclose,{pattern:"#.00"}),c),r.byId("changeRate").innerHTML=h.getColorData(l.format(100*(a.price-a.lastclose)/a.lastclose,{pattern:"#.00"})+"%",c)):(r.byId("latest").innerHTML="-",r.byId("change").innerHTML="-",r.byId("changeRate").innerHTML="-")}this.hs300.oldPrice=this.hs300.price},countPZhi:function(a,c){return a==c?"\u5e73\u503c":a>c?"\u5b9e\u503c":
a<c?"\u865a\u503c":""},countCZhi:function(a,c){return a==c?"\u5e73\u503c":a>c?"\u865a\u503c":a<c?"\u5b9e\u503c":""},searchData:function(){var a=this;p(dijit.byId("contantNum"),"change",function(){if(!a.isLoadingData)a.isLoadingData=!0,a.cacheCurData(),a.loadGridData()});p(dijit.byId("contactDate"),"change",function(){if(!a.isLoadingData)a.isLoadingData=!0,a.cacheCurData(),a.loadGridData()});p(a.targetIndexName,"dblclick",function(){location.href="DZH://VIEWSTOCK?DATATYPE=DAY&LAYOUT=Level2\u9ed8\u8ba4&PAGE=\u5206\u65f6\u8d70\u52bf&LABEL="+
a.curIndex});a.dealGrid.on("dblclick",function(c,b){a.jump(a.dealGrid,b,1)});a.buyGrid.on("dblclick",function(c,b){a.jump(a.buyGrid,b,2)});a.sellGrid.on("dblclick",function(c,b){a.jump(a.sellGrid,b,3)})},loadGridData:function(){var a=dijit.byId("contactDate").value,c=dijit.byId("contantNum").value;this.dealGridDataTemp=[];for(var b=this.cacheAllDatas,d=0;d<b.length;d++){var e=b[d].date;if(this.containsDate(b[d].date,a)){this.dealGridDataTemp.push({date:e,lastDate:b[d].lastDate,flag:"1",month:b[d].month});
for(var e=[],f=c<b[d].list.length||"\u5168\u90e8"==c?c:b[d].list.length,g=0;g<f;g++)e.push(b[d].list[g]);e=this.sortPrice(e);for(g=0;g<e.length;g++)this.dealGridDataTemp.push(e[g])}}this.refreshAllGrid(this.dealGridDataTemp);this.getQuotesDatas()},jump:function(a,c,b){a=a.getDataItem(c.row);if(1!=a.flag){var d=null;1==b?8>c.cell?d=a.c6_C:8<c.cell&&(d=a.c6_P):2==b?d=a.c6_C:3==b&&(d=a.c6_P);if(d&&0<d.length)location.href="DZH://VIEWSTOCK?DATATYPE=DAY&LAYOUT=Level2\u9ed8\u8ba4&PAGE=\u5206\u65f6\u8d70\u52bf&LABEL="+
d}},containsDate:function(a,c){a&&7<a.length&&(a=a.substr(0,7));if(c)for(var b=0;b<c.length;b++)if(0<=c.indexOf(a))return!0;return!1},getData:function(a,c){for(var b=0;b<a.length;b++)if(a[b].month==c)return b},splitDatas:function(a){for(var c=[],b=0;b<a.length;b++){var d=h.getShortMonth(a[b][3]);if(""!=a[b][4]){var e={};e.month=d;e.list=[];e.date=h.getTitleDate(a[b][4]);e.lastDate=h.getTitleLimit(a[b][4]);c.push(e)}else e=this.getData(c,d),c[e].list.push({c6_P:a[b][6],dsymbol_P:a[b][2],c6_C:a[b][5],
dsymbol_C:a[b][1],flag:"2",sortCol:"0.0",month:d,price:a[b][0]})}this.cacheAllDatas=c},sortPrice:function(a){if(a&&0<a.length)for(var c=0;c<a.length;c++)for(var b=0;b<a.length-c-1;b++)if(parseFloat(a[b].price)>parseFloat(a[b+1].price)){var d=a[b];a[b]=a[b+1];a[b+1]=d}return a},initIndex:function(){dijit.byId("targetIndex").set("store",new q({data:this.curAllIndex}));dijit.byId("targetIndex").setValue(this.curAllIndex[0].name);this.curIndex=this.curAllIndex[0].co;this.targetIndexName.innerText=h.shortCode(this.curIndex)},
initMonth:function(){for(var a=this.curMonthData,c=0;c<a.length;c++)a[c].selected=!0;a=new q({data:a});c=dijit.byId("contactDate");a.idProperty="value";c.labelAttr="label";c.sortByLabel=!1;c.setStore(a)},cacheCurData:function(){var a=!1;if(!this.cache)this.cache=[];if(!(null==this.curMonthData||0==this.curMonthData.length)){for(var c=0;c<this.cache.length;c++)if(this.curIndex==this.cache[c].index){a=!0;this.cache[c].cacheAllDatas=m.clone(this.cacheAllDatas);this.cache[c].curMonthData=m.clone(this.curMonthData);
break}a||this.cache.push({index:m.clone(this.curIndex),cacheAllDatas:m.clone(this.cacheAllDatas),curMonthData:m.clone(this.curMonthData)});h.putToCache({id:"stockIndex",data:this.cache,curAllIndex:this.curAllIndex,date:(new Date).getTime()})}},getSelectedIndex:function(a){for(var c=dijit.byId("targetIndex"),b=c.store.data,c=c.getValue(),d=0;d<b.length;d++)if(c==b[d].name)return"co"==a?b[d].co:b[d].id;return""},bindTargetIndexEvent:function(){var a=this;(new Date).getTime();a.cacheCurData();setTimeout(m.hitch(a,
function(){p(dijit.byId("targetIndex"),"change",function(){a.curIndex=a.getSelectedIndex("co");a.targetIndexName.innerText=h.shortCode(a.curIndex);a.isLoadingData=!0;dijit.byId("contantNum").setValue("5");if(a.isCache(a.curIndex))a.initMonth(),a.loadGridData();else{var c=a.soUrl+"?co="+a.getSelectedIndex("id")+"&t="+(new Date).getTime();h.getStaticJarData(c,function(b){b.level?(a.isLoadingData=!1,a.refreshAllGrid([]),a.cacheAllDatas=[],a.curMonthData=null,console.error("\u6807\u7684\u6307\u6570\u6539\u53d8\u6210"+
a.curIndex+"\uff0c\u4ece\u738b\u4eae\u63a5\u53e3\u83b7\u53d6\u57fa\u7840\u6570\u636e\u5931\u8d25\uff01")):(a.cacheAllDatas=[],a.curMonthData=h.formatResultData(b[1].tablelist),a.initMonth(),a.splitDatas(b[2].tablelist.datas),a.loadGridData())})}})}),1500)}})})},"stock/stockIndexOption/view/util/util":function(){define(["dojo/number","dojo/dom","dojox/store/GridWSStore","dojox/store/LocalStorage"],function(h,q,v,s){function u(f,g,i,d,e){return 1==e.flag?p(e,g):k.isEmptyData(i)||0==1*i?"-":isNaN(i)?
i:"sortCol"==d.id?h.format(e.price,{pattern:"#"}):i}function j(f,g,i,d,e){f=d.field;if(1==e.flag)return 0==g?"<div class='dateDiv'>"+e.date+"</div>":1==g?"<div class='dateDiv lastdate'>"+e.lastDate+"</div>":"<div class='dateDiv'></div>";if(k.isEmptyData(i)||0==1*i)return"-";if("c6_P"==d.id||"c6_C"==d.id)return"<span style='height:100%;width:100%;padding-top:4px;cursor:pointer;' title='\u53cc\u51fb\u8fdb\u5165\u5206\u65f6'><font sytle='cursor:pointer;' color='#40FFEF'>"+i+"</font></span>";if(isNaN(i))return i;
if("flagRK"==d.id||"flagRG"==d.id)return""==i?"-":i;if("latestRG"==d.id)return g=e.latestRG-e.lastcloseRG,t(g,"#.0",d,e,f);if("latestRK"==d.id)return g=e.latestRK-e.lastcloseRK,t(g,"#.0",d,e,f);if("buyRG"==d.id)return g=e.buyRG-e.lastcloseRG,o(g,"#",d,e,f);if("sellRG"==d.id)return g=e.sellRG-e.lastcloseRG,o(g,"#.0",d,e,f);if("callBuyRG"==d.id)return g=e.buyRG-e.lastcloseRG,o(g,"#.0",d,e,f);if("callSellRG"==d.id)return g=e.sellRG-e.lastcloseRG,o(g,"#",d,e,f);if("buyRK"==d.id)return g=e.buyRK-e.lastcloseRK,
o(g,"#",d,e,f);if("sellRK"==d.id)return g=e.sellRK-e.lastcloseRK,o(g,"#.0",d,e,f);if("callBuyRK"==d.id)return g=e.buyRK-e.lastcloseRK,o(g,"#.0",d,e,f);if("callSellRK"==d.id)return g=e.sellRK-e.lastcloseRK,o(g,"#",d,e,f);if("changeRateRG"==d.id)return g=e.latestRG-e.lastcloseRG,o(g,"#.00",d,e,f);if("changeRG"==d.id)return g=e.latestRG-e.lastcloseRG,o(g,"#.0",d,e,f);if("changeRateRK"==d.id)return g=e.latestRK-e.lastcloseRK,o(g,"#.00",d,e,f);return"changeRK"==d.id?(g=e.latestRK-e.lastcloseRK,o(g,"#.0",
d,e,f)):"price"==d.id?"<div class='priceDiv'>"+h.format(e.price,{pattern:"#"})+"</div>":"holdRK"==d.id||"totalHandRK"==d.id||"holdRG"==d.id||"totalHandRG"==d.id||"totalRK"==d.id||"totalRG"==d.id?o(0,"#",d,e,f):h.format(i,{pattern:"#.00"})}function o(f,g,i,d,e){if(void 0!=i){var i="old_"+e,e=h.format(d[e],{pattern:g}),g=h.format(d[i],{pattern:g}),j="",j=0<f?"#FF0000":0>f?"#00FF00":"";return void 0==d[i]||"undefined"==d[i]||""==d[i]||" "==d[i]||g==e?"<font color='"+j+"'>"+e+"</font>":'<span style="color: '+
j+';background-color:#0000FF">'+e+k.getImgStr()+"</span>"}}function n(f,g,i,d,e){f=d.field;if(1==e.flag)return p(e,g);if(k.isEmptyData(i)||0==1*i)return"-";if(isNaN(i))return"<span style='height:100%;width:auto;padding-top:4px;' title='\u53cc\u51fb\u8fdb\u5165\u5206\u65f6'><font sytle='cursor:pointer;'>"+i+"</font></span>";if("flagRK"==d.id||"flagRG"==d.id)return""==i?"-":"<span style='height:100%;width:100%;padding-top:4px;' title='\u53cc\u51fb\u8fdb\u5165\u5206\u65f6'><font sytle='cursor:pointer;'>"+
i+"</font></span>";if("latestRG"==d.id)return g=e.latestRG-e.lastcloseRG,t(g,"#.0",d,e,f);if("latestRK"==d.id)return g=e.latestRK-e.lastcloseRK,t(g,"#.0",d,e,f);if("buyRG"==d.id)return g=e.buyRG-e.lastcloseRG,m(g,"#",d,e,f);if("sellRG"==d.id)return g=e.sellRG-e.lastcloseRG,m(g,"#.0",d,e,f);if("callBuyRG"==d.id)return g=e.buyRG-e.lastcloseRG,m(g,"#.0",d,e,f);if("callSellRG"==d.id)return g=e.sellRG-e.lastcloseRG,m(g,"#",d,e,f);if("buyRK"==d.id)return g=e.buyRK-e.lastcloseRK,m(g,"#",d,e,f);if("sellRK"==
d.id)return g=e.sellRK-e.lastcloseRK,m(g,"#.0",d,e,f);if("callBuyRK"==d.id)return g=e.buyRK-e.lastcloseRK,m(g,"#.0",d,e,f);if("callSellRK"==d.id)return g=e.sellRK-e.lastcloseRK,m(g,"#",d,e,f);if("changeRateRG"==d.id)return g=e.latestRG-e.lastcloseRG,m(g,"#.00",d,e,f);if("changeRG"==d.id)return g=e.latestRG-e.lastcloseRG,m(g,"#.0",d,e,f);if("changeRateRK"==d.id)return g=e.latestRK-e.lastcloseRK,m(g,"#.00",d,e,f);return"changeRK"==d.id?(g=e.latestRK-e.lastcloseRK,m(g,"#.0",d,e,f)):"price"==d.id?"<div style='border-left:2px solid #BEBEBE;border-right:2px solid #BEBEBE;height:100%;width:-webkit-calc(100%-4px) !important; text-align:center;color:#FFFFFF;line-height:25px;'>"+
h.format(e.price,{pattern:"#"})+"</div>":"holdRK"==d.id||"totalHandRK"==d.id||"holdRG"==d.id||"totalHandRG"==d.id?m(0,"#",d,e,f):"DeltaRG"==d.id||"DeltaRK"==d.id||"EffectiveGearingRG"==d.id||"EffectiveGearingRK"==d.id||"ImplRG"==d.id||"ImplRK"==d.id||"PremiumRateRG"==d.id||"PremiumRateRK"==d.id?i:"<span style='height:100%;width:100%;padding-top:4px;cursor:pointer;' title='\u53cc\u51fb\u8fdb\u5165\u5206\u65f6'>"+h.format(i,{pattern:"#.00"})+"</span>"}function m(f,g,i,d,e){var j="old_"+e,e=h.format(d[e],
{pattern:g}),g=h.format(d[j],{pattern:g});if(void 0!=i)return i="",i=0<f?"#FF0000":0>f?"#00FF00":"",void 0==d[j]||"undefined"==d[j]||""==d[j]||" "==d[j]||g==e?"<span style='padding-top:4px;cursor:pointer;' title='\u53cc\u51fb\u8fdb\u5165\u5206\u65f6'><font sytle='cursor:pointer;' color='"+i+"'>"+e+"</font></span>":"<span style='height:100%;width:100%;cursor:pointer;padding-top:4px;background-color:#0000FF;color:"+i+"' title='\u53cc\u51fb\u8fdb\u5165\u5206\u65f6'>"+e+k.getImgStr()+"</font></span>"}
function t(f,g,i,d,e){var j="old_"+e,m=h.format(d[e],{pattern:g}),g=h.format(d[j],{pattern:g});if(void 0!=i){i="";i=0<f?"#FF0000":0>f?"#00FF00":"";if("latestRK"==e){if(1*d.latestRK==1*d.lastcloseRK)return"<span style='padding-top:4px;cursor:pointer;' title='\u53cc\u51fb\u8fdb\u5165\u5206\u65f6'><font sytle='cursor:pointer;'>"+m+"</font></span>"}else if("latestRG"==e&&1*d.latestRG==1*d.lastcloseRG)return"<span style='padding-top:4px;cursor:pointer;' title='\u53cc\u51fb\u8fdb\u5165\u5206\u65f6'><font sytle='cursor:pointer;'>"+
m+"</font></span>";return void 0==d[j]||"undefined"==d[j]||""==d[j]||" "==d[j]||g==m?"<span style='padding-top:4px;cursor:pointer;' title='\u53cc\u51fb\u8fdb\u5165\u5206\u65f6'><font sytle='cursor:pointer;' color='"+i+"'>"+m+"</font></span>":"<span style='height:100%;width:100%;cursor:pointer;padding-top:4px;background-color:#0000FF;color:"+i+"' title='\u53cc\u51fb\u8fdb\u5165\u5206\u65f6'>"+m+k.getImgStr()+"</font></span>"}}function p(f,g){return 0==g||9==g?"<div class='dateDiv'>"+f.date+"</div>":
1==g||10==g?"<div class='dateDiv lastdate'>"+f.lastDate+"</div>":"<div class='dateDiv'></div>"}var k={sortercol:"",columnDefaults:{headerCssClass:"font-center header-css",cssClass:"font-center",sortable:!0},isEmptyData:function(f){return!f||""==f||"null"==f||"undefined"==typeof f||"-"==f?!0:!1},columnsSeq:{holdRK:0,totalHandRK:1,changeRateRK:2,latestRK:3,buyRK:4,callBuyRK:5,callSellRK:6,sellRK:7,price:8,sellRG:9,callSellRG:10,callBuyRG:11,buyRG:12,latestRG:13,changeRateRG:14,totalHandRG:15,holdRG:16}};
k.columns=[{id:"holdRK",name:"\u6301\u4ed3\u91cf",field:"holdRK",width:3.5,formatter:n,cssClass:"font-center z999"},{id:"totalHandRK",name:"\u603b\u624b",field:"totalHandRK",width:3,formatter:n,cssClass:"font-center z998"},{id:"changeRateRK",name:"\u6da8\u5e45",field:"changeRateRK",width:3,formatter:n},{id:"latestRK",name:"\u6700\u65b0",field:"latestRK",width:3,formatter:n},{id:"buyRK",name:"\u4e70\u4e00\u91cf",field:"buyRK",width:3,formatter:n,cssClass:"font-center"},{id:"callBuyRK",name:"\u4e70\u4e00\u4ef7",
field:"callBuyRK",width:3,headerCssClass:"font-center",formatter:n,cssClass:"font-center"},{id:"callSellRK",name:"\u5356\u4e00\u91cf",field:"callSellRK",width:3,formatter:n,cssClass:"font-center"},{id:"sellRK",name:"\u5356\u4e00\u4ef7",field:"sellRK",width:3,formatter:n,cssClass:"font-center"},{id:"price",name:"\u884c\u6743\u4ef7",field:"price",width:3,formatter:n,cssClass:"font-center",headerCssClass:"header-css font-center"},{id:"sellRG",name:"\u5356\u4e00\u4ef7",field:"sellRG",width:3.5,formatter:n,
cssClass:"font-center z999",headerCssClass:"header-css font-center"},{id:"callSellRG",name:"\u5356\u4e00\u91cf",field:"callSellRG",width:3,formatter:n,cssClass:"font-center z998"},{id:"callBuyRG",name:"\u4e70\u4e00\u4ef7",field:"callBuyRG",width:3,formatter:n,cssClass:"font-center"},{id:"buyRG",name:"\u4e70\u4e00\u91cf",field:"buyRG",width:3,formatter:n,cssClass:"font-center"},{id:"latestRG",name:"\u6700\u65b0",field:"latestRG",width:3,formatter:n,cssClass:"font-center"},{id:"changeRateRG",name:"\u6da8\u5e45",
field:"changeRateRG",width:3,formatter:n,cssClass:"font-center"},{id:"totalHandRG",name:"\u603b\u624b",field:"totalHandRG",width:3,formatter:n,cssClass:"font-center"},{id:"holdRG",name:"\u6301\u4ed3\u91cf",field:"holdRG",width:3,formatter:n}];k.columnsIISeq={price:0,c6_P:1,latestRG:2,changeRG:3,changeRateRG:4,buyRG:5,callBuyRG:6,sellRG:7,callSellRG:8,totalHandRG:9,totalRG:10,holdRG:11,flagRG:12};k.columnsII=[{id:"price",name:"\u884c\u6743\u4ef7",field:"price",width:3,formatter:u},{id:"c6_P",name:"\u4ee3\u7801",
field:"c6_P",sortable:!1,width:4,formatter:j},{id:"latestRG",name:"\u6700\u65b0",field:"latestRG",width:3,formatter:j},{id:"changeRG",name:"\u6da8\u8dcc",field:"changeRG",width:3,formatter:j},{id:"changeRateRG",name:"\u6da8\u5e45",field:"changeRateRG",width:3,formatter:j},{id:"buyRG",name:"\u4e70\u4e00\u91cf",field:"buyRG",width:3,formatter:j},{id:"callBuyRG",name:"\u4e70\u4e00\u4ef7",field:"callBuyRG",width:3,formatter:j},{id:"sellRG",name:"\u5356\u4e00\u4ef7",field:"sellRG",width:3,formatter:j},
{id:"callSellRG",name:"\u5356\u4e00\u91cf",field:"callSellRG",width:3,formatter:j},{id:"totalHandRG",name:"\u603b\u624b",field:"totalHandRG",width:3,formatter:j},{id:"totalRG",name:"\u603b\u989d(\u4e07)",field:"totalRG",width:3,formatter:j},{id:"holdRG",name:"\u6301\u4ed3\u91cf",field:"holdRG",width:3,formatter:j},{id:"flagRG",name:"\u5b9e\u503c/\u865a\u503c",field:"flagRG",width:3,sortable:!1,formatter:j}];k.columnsISeq={price:0,c6_C:1,latestRK:2,changeRK:3,changeRateRK:4,buyRK:5,callBuyRK:6,sellRK:7,
callSellRK:8,totalHandRK:9,totalRK:10,holdRK:11,flagRK:12};k.columnsI=[{id:"price",name:"\u884c\u6743\u4ef7",field:"price",width:3,formatter:u},{id:"c6_C",name:"\u4ee3\u7801",field:"c6_C",sortable:!1,width:4,formatter:j},{id:"latestRK",name:"\u6700\u65b0",field:"latestRK",width:3,formatter:j},{id:"changeRK",name:"\u6da8\u8dcc",field:"changeRK",width:3,formatter:j},{id:"changeRateRK",name:"\u6da8\u5e45",field:"changeRateRK",width:3,formatter:j},{id:"buyRK",name:"\u4e70\u4e00\u91cf",field:"buyRK",width:3,
formatter:j},{id:"callBuyRK",name:"\u4e70\u4e00\u4ef7",field:"callBuyRK",width:3,formatter:j},{id:"sellRK",name:"\u5356\u4e00\u4ef7",field:"sellRK",width:3,formatter:j},{id:"callSellRK",name:"\u5356\u4e00\u91cf",field:"callSellRK",width:3,formatter:j},{id:"totalHandRK",name:"\u603b\u624b",field:"totalHandRK",width:3,formatter:j},{id:"totalRK",name:"\u603b\u989d(\u4e07)",field:"totalRK",width:3,formatter:j},{id:"holdRK",name:"\u6301\u4ed3\u91cf",field:"holdRK",width:3,formatter:j},{id:"flagRK",name:"\u5b9e\u503c/\u865a\u503c",
field:"flagRK",width:3,sortable:!1,formatter:j}];k.options={enableColumnReorder:!1,forceFitColumns:!0,hideBorder:"all"};k.sorter=function(f,g,h){var d=h.sortCols[0].sortCol.field;if(f.month==g.month){if(f.flag>g.flag)return 1;if(f.flag<g.flag)return-1;f=parseFloat(f[d]);g=parseFloat(g[d]);return f!=g?!0==h.sortCols[0].sortAsc?f>g?1:-1:g>f?1:-1:0}return f.month>g.month?1:-1};k.getImgStr=function(){var f="";return'<img src="" style="display:none"  onerror= "  var img=this;   setTimeout(function(){    \tif(img.parentNode){    \t\timg.parentNode.style.backgroundColor=\'transparent\' ;    \t}     },1000);  " />'};
k.getColorData=function(f,g){return'<span style="color: '+g+';background-color: #0000FF;">'+f+k.getImgStr()+"</span>"};k.getCellDiv=function(f){return'<span style="background-color:#0000FF">'+f+k.getImgStr()+"</span>"};k.getStaticJarData=function(f,g){(new v({serviceUrl:f})).query().then(function(f){g(f)})};k.formatResultData=function(f){if(f&&f.datas&&f.head){for(var g=f.datas,f=f.head,h=[],d=0,e=g.length;d<e;d++){for(var j={},k=0,m=f.length;k<m;k++)j[f[k]]=g[d][k];h.push(j)}obj=h}else obj=[];return obj};
k.getShortMonth=function(f){f&&4<f.length&&(f=f.substr(2,4));return f};k.getTitleDate=function(f){f&&10<f.length&&(f=f.substr(0,10));return f};k.getTitleLimit=function(f){f&&10<f.length&&(f=f.substr(10));return f};k.putToCache=function(f){(new s({idProperty:"id",namespace:"stockIndexOption"})).put(f)};k.getFromCache=function(f){return(new s({idProperty:"id",namespace:"stockIndexOption"})).get(f)};k.removeFromCache=function(f){return(new s({idProperty:"id",namespace:"stockIndexOption"})).remove(f)};
k.shortCode=function(f){return!f||null==f||""==f?"":-1<f.indexOf(".")&&2<f.length?f.substr(2,f.indexOf(".")-2):f};return k})},"url:stock/stockIndexOption/view/gridDataShow.html":'<div data-dojo-attach-point="containerNode" class="no_selected_color vbox">\r\n\t<div class="title_link hbox " style="padding: 3px 0;height:22px;">\r\n\t<div style="width:2%"></div>\r\n\t\t<div style="width:14%">\r\n\t\t\t<label><font color="#FFFFFF">\u6807\u7684\u6307\u6570</font></label>\r\n\t\t\t<div id="targetIndex" style="width:42%" data-dojo-type="dijit/form/ComboBox">\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div style="width:18%">\r\n\t\t\t<label id="yyy"><font color="#FFFFFF">\u5230\u671f\u6708\u4efd</font></label>\r\n\t\t\t<div class="math_box" id="contactDate" data-dojo-type="dojox/form/CheckedMultiSelect"></div>\r\n\t\t</div>\r\n\t\t<div style="width:15%">\r\n\t\t\t<label id="xxx"><font color="#FFFFFF">\u6240\u6709\u5408\u7ea6</font></label>\r\n\t\t\t<div class="math_box" id="contantNum" data-dojo-type="dijit/form/ComboBox">\r\n\t\t\t\t<option>5</option>\r\n\t\t\t\t<option>10</option>\r\n\t\t\t\t<option>20</option>\r\n\t\t\t\t<option>\u6240\u6709</option>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class="list_box01"  style="width:43%">\r\n\t\t\t<span>\r\n\t\t\t\t\u6807\u7684\u6307\u6570\uff1a\r\n\t\t\t\t<span id="targetIndexName" data-dojo-attach-point="targetIndexName" class="subject_quote_span" \r\n\t\t\t\t\tstyle="width:60px;cursor:pointer;color:#40FFEF;" title="\u53cc\u51fb\u67e5\u770b\u5206\u65f6\u8d70\u52bf"></span>\r\n\t\t\t</span>\r\n\t\t\t<span>\u6700\u65b0\uff1a<span id="latest" class="subject_quote_span" style="width:62px;">-</span></span>\r\n\t\t\t<span>\u6da8\u8dcc\uff1a<span id="change" class="subject_quote_span" style="width:42px;">-</span></span>\r\n\t\t\t<span>\u6da8\u5e45\uff1a<span id="changeRate" class="subject_quote_span">-</span></span>\r\n\t\t</div>\r\n\t</div>\r\n\t<div data-dojo-type="dijit/layout/TabContainer" class="spacer" style="width: 100%; height: 100%;"\r\n\t\tdata-dojo-props="tabPosition:\'bottom\', selectedchild:\'btab1\', tabStrip:true">\r\n\t\t\r\n\t\t<div data-dojo-type="dijit/layout/ContentPane" title="\u770b\u6da8/\u770b\u8dcc" id="btab1" style="overflow:hidden;border: #3C3C3C 1px solid;">\r\n        \t<div class="vbox" style="height:100%;">\r\n\t\t\t\t<div class="list_data_title list_data_title2 hbox" style="color:#fff;">\t\t\r\n        \t\t\t<div class="spacer" style="width:48.8%;line-height:22px;">\r\n        \t\t\t\t\u770b\u6da8\u671f\u6743\r\n        \t\t\t</div>\r\n\t\t\t\t\t<div class="border_reset" style="width:50.5px; text-align:center;">\r\n\t\t\t\t\t</div>\r\n        \t\t\t<div class="spacer" style="width:50.0%;line-height:22px;">\r\n\t\t\t\t\t\t\u770b\u8dcc\u671f\u6743\r\n\t\t\t\t\t</div>\r\n        \t\t</div>\r\n        \t\t<div class="spacer vbox" style="width:100%;">\r\n        \t\t\t <div class="vbox spacer" data-dojo-type="dijit/layout/ContentPane" style="overflow: hidden;width:100%; height:100%; ">\r\n\t\t\t\t\t\t<div  class="no_padding" id="container"  data-dojo-type="dijit/layout/ContentPane" ></div>\r\n\t\t\t\t\t</div>\r\n        \t\t</div>\r\n        \t</div>\r\n        </div>\r\n\t\t\r\n\t\t<div data-dojo-type="dijit/layout/ContentPane" title="\u770b\u6da8" id="btab2">\r\n\t\t\t<div class="vbox spacer" data-dojo-type="dijit/layout/ContentPane"\r\n\t\t\t\tstyle="overflow: hidden; width: 100%; height: 100%;">\r\n\t\t\t\t<div class="no_padding" id="container1" data-dojo-type="dijit/layout/ContentPane"></div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div data-dojo-type="dijit/layout/ContentPane" title="\u770b\u8dcc" id="btab3">\r\n\t\t\t<div class="vbox spacer" data-dojo-type="dijit/layout/ContentPane"\r\n\t\t\t\tstyle="overflow: hidden; width: 100%; height: 100%;">\r\n\t\t\t\t<div class="no_padding" id="container2" data-dojo-type="dijit/layout/ContentPane"></div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n'}});
define("stock/stockIndexOption/src",["dojo/parser","stock/stockIndexOption/view/gridDataShow","dojox/form/CheckedMultiSelect"],function(h){return function(){h.parse().then(function(){})}});