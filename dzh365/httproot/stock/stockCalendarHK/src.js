/*
	Copyright (c) 2012-2013,   To get sources and documentation, please visit:

		http://dms.gw.com.cn
*/

//>>built
require({cache:{"stock/stockCalendarHK/view/Calendar":function(){define("dojo/_base/declare,dijit/registry,dojo/dom-construct,dojo/dom-style,dojo/query,dojo/text!./Calendar.html,dojo/store/Memory,dojox/slickgrid/slickgrid,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dojo/_base/array,./DayView,./WeekView,./MonthView,./Header,dojo/date/locale,dojo/date,dojo/_base/lang,dojo/data/ItemFileReadStore,dojo/dom-class".split(","),function(G,n,w,d,g,D,K,M,f,u,A,i,b,E,Q,a,c,x,J){return G("stock.stockCalendarHK.view.Calendar",
[f,u,A],{templateString:D,views:[],currentViewIndex:0,renderData:{},savedParma:null,savedSelfStockParma:null,self:null,installView:function(){this.monthView=new Q({calendar:this});this.weekView=new E;this.dayView=new b;this.views=[this.monthView,this.weekView,this.dayView];this.header=new a({calendar:this,dayView:this.dayView},this.header)},postCreate:function(){this.inherited(arguments);var b=this;this.installView();i.forEach(this.views,function(a){w.place(a.domNode,b.viewContainer.domNode)});this.self=
window.location.search;"?self=1"==this.self?this.switchToView("monthView",null,"monthView"):(this.self=void 0,this.switchToView("dayView",null,null))},getCurrentView:function(){return this.views[this.currentViewIndex]},switchToView:function(b,a,f){var k=a,e=this,j=RegExp(b+"$","i"),L=this.header.getSerachTerm(),q=this,y=this.renderData={dataModule:x,dateLocaleModule:c};J.mixin(y,L);if(this.self)L=J.clone(y),this.savedParma=this.createDefaultPrama(k,L),y.isSelfShow=!0,this.header.subclassPage="9",
this.header.flag="monthView",this.header.isSelfstock.set("checked",!0),this.header.dayButton.setAttribute("class","dateButton"),this.header.monthButton.setAttribute("class","btn_group_select"),this.header.monthButton.setAttribute("disabled",!0),this.header.dayButton.setAttribute("disabled",!1),this.header.inputStockCode.setAttribute("disabled",!0),this.header.stockBt.setAttribute("disabled",!0),this.header.a.set("value","\u5e02\u573a\u5206\u7c7b"),this.header.b.set("value","\u5206\u7c7b\u57fa\u51c6"),
this.header.c.set("value","\u884c\u4e1a\u5206\u7c7b"),this.header.searchBt.setAttribute("disabled",!0),this.header.a.setAttribute("disabled",!0),this.header.b.setAttribute("disabled",!0),this.header.c.setAttribute("disabled",!0),this.self=void 0;null==b?(9!=this.header.subclassPage?this.savedParma=a:this.savedSelfStockParma=a,this.getCurrentView().buildGrid(a)):i.forEach(this.views,function(b,a){j.test(b.declaredClass)?("stock_stockCalendarHK_view_DayView_0"==b.domNode.id?d.set(dojo.byId("dayView"),
"display",""):d.set(b.domNode,"display",""),null==k&&(k=e.createDefaultPrama(k,y)),9!=e.header.subclassPage?e.savedParma=k:(e.savedSelfStockParma=k,e.savedSelfStockParma.id="9"),b.buildGrid(k),q.currentViewIndex=a):"stock_stockCalendarHK_view_DayView_0"==b.domNode.id?d.set(dojo.byId("dayView"),"display","none"):d.set(b.domNode,"display","none")});if(/dayView/i.test(f)||null==f)d.set(this.header.dheader.domNode,"display",""),d.set(this.header.dateChooser.domNode,"display",""),d.set(this.header.isWeekShow.domNode,
"display","none"),d.set(this.header.isSelfstock.domNode,"display","none"),document.getElementById("weekLabel").style.display="none",document.getElementById("selfstock").style.display="none";else if(/weekView/i.test(f))d.set(this.header.dheader.domNode,"display","none"),d.set(this.header.dateChooser.domNode,"display","none"),d.set(this.header.isWeekShow.domNode,"display",""),d.set(this.header.isSelfstock.domNode,"display",""),document.getElementById("weekLabel").style.display="",document.getElementById("selfstock").style.display=
"";else if(/monthView/i.test(f))d.set(this.header.dheader.domNode,"display","none"),d.set(this.header.dateChooser.domNode,"display",""),d.set(this.header.isWeekShow.domNode,"display",""),d.set(this.header.isSelfstock.domNode,"display",""),document.getElementById("weekLabel").style.display="",document.getElementById("selfstock").style.display=""},createDefaultPrama:function(b,a){var c=dojo.date.locale.format(this.header.dateChooser.get("value"),{datePattern:"yyyyMMdd",timePattern:"000000"}).replace(" ",
"");a.isWeekShow=this.header.isWeekShow.checked;b={renderData:a,theDate:c,id:"0",marketType:void 0,industryBasis:"",industryType:"",marketTypeValue:"\u5e02\u573a\u5206\u7c7b",industryBasisValue:"\u5206\u7c7b\u57fa\u51c6",industryTypeValue:"\u884c\u4e1a\u5206\u7c7b"};this.header.a.set("value","\u5e02\u573a\u5206\u7c7b");this.header.b.set("value","\u5206\u7c7b\u57fa\u51c6");this.header.c.set("store",new K({name:"\u884c\u4e1a\u5206\u7c7b",id:""}));this.header.c.set("value","\u884c\u4e1a\u5206\u7c7b");
this.header.dateChooser.set("value",a.sDate);return b}})})},"url:stock/stockCalendarHK/view/Calendar.html":'<div id="main" data-dojo-type="dijit/layout/ContentPane" class="vbox" style="height:100%;">\n\t<div data-dojo-attach-point="header"></div>\n\t<div data-dojo-type="dijit/layout/ContentPane" data-dojo-attach-point="viewContainer"  class="spacer vbox" >\n\t</div>\n</div>\n\n\n\n\n\n\n\n',"stock/stockCalendarHK/view/DayView":function(){define("dojo/_base/declare,dojo/_base/lang,dojo/dom-style,dojo/on,dojo/date,dijit/registry,dojo/store/Memory,dojo/text!./DayView.html,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dojox/slickgrid/slickgrid,dojox/store/GridSOStore,dojo/query,dojo/NodeList-data,dijit/Dialog,dojo/dom-attr,dojox/widget/Standby,dojox/slickgrid/sogrid,./CommonMethod".split(","),
function(G,n,w,d,g,D,K,M,f,u,A,i,b,E,Q,a,c,x,J,o){return G("stock.stockCalendarHK.view.DayView",[f,u,A],{templateString:M,isDefault:!0,buildGrid:function(b){dijit.byId("basicStandby")._underlayNode.style.background="none";dijit.byId("basicStandby").show();var a=[{id:"no",name:"\u5e8f\u53f7",field:"no",width:4,headerCssClass:"font-center",cssClass:"font-center",formatter:function(e){return e+1}},{id:"stockCode",name:"\u8bc1\u5238\u4ee3\u7801",field:"stockCode",width:8,sortable:!0,headerCssClass:"font-center",
cssClass:"font-left hand_pointer"},{id:"stockName",name:"\u8bc1\u5238\u540d\u79f0",field:"stockName",width:8,sortable:!0,headerCssClass:"font-center",cssClass:"font-center"},{id:"memoName",name:"\u4e8b\u4ef6\u7c7b\u578b",field:"memoName",width:15,sortable:!0,headerCssClass:"font-center"},{id:"memoTitle",name:"\u5185\u5bb9",field:"memoTitle",width:60,sortable:!0,headerCssClass:"font-center",cssClass:"font-left",formatter:function(e,j,b,a,c){return void 0==c.id?"<span data-is-tip-cell=true id='"+c[0]+
"'>"+b+"</span>":"<span data-is-tip-cell=true id='"+c.id+"'>"+b+"</span>"}}],c={forceFitColumns:!0,enableColumnReorder:!1};"9"==b.id?this.getSelfStockDate(b,a,c):this.getSubclassData(b,a,c)},getSubclassGrid:function(b,a,c,e){a=new J({id:"dayGrid",columns:a,store:e,options:c});a.placeAt("dayView");a.startup();E("#saveData").data(b.id,e.data[0].result.datas);return a},pushData:function(b,a,c){b.push({stockCode:a.data[0].result.datas[c][0],stockName:a.data[0].result.datas[c][1],memoName:a.data[0].result.datas[c][2],
memoTitle:a.data[0].result.datas[c][3]})},createHomePageGrid:function(b,a,c,e,j,f,q,y){j=new dijit.layout.ContentPane({content:'<div class="SuspensionTitle"><a href="#"> </a><span>'+j+"</span></div>"});dijit.byId("dayView").addChild(j);j=new K({data:b});b=new J({id:e,columns:a,store:j,style:"height:"+25*(b.length+1)+"px",options:c});1==y&&dijit.byId("basicStandby").hide();b.placeAt("dayView");this.bindEvent(b,!0);o.showTitle(b);return b},createHomePageView:function(b,a,c,e){for(var j=b.data[0].result.datas,
f=[],q=[],y=[],d=[],g=[],C=[],S=[],h=[],l=[],m=0;m<j.length;m++)"478"==j[m][4]||"484"==j[m][4]||"486"==j[m][4]||"489"==j[m][4]||"490"==j[m][4]?this.pushData(f,b,m):"491"==j[m][4]||"492"==j[m][4]||"493"==j[m][4]||"494"==j[m][4]||"495"==j[m][4]?this.pushData(q,b,m):"497"==j[m][4]||"498"==j[m][4]||"499"==j[m][4]||"500"==j[m][4]||"501"==j[m][4]||"502"==j[m][4]?this.pushData(y,b,m):"542"==j[m][4]||"547"==j[m][4]||"549"==j[m][4]||"550"==j[m][4]||"551"==j[m][4]||"552"==j[m][4]?this.pushData(d,b,m):"553"==
j[m][4]||"554"==j[m][4]||"555"==j[m][4]||"556"==j[m][4]||"557"==j[m][4]||"558"==j[m][4]?this.pushData(g,b,m):"687"==j[m][5]?this.pushData(C,b,m):"565"==j[m][4]?this.pushData(S,b,m):"567"==j[m][4]?this.pushData(h,b,m):"568"==j[m][5]&&this.pushData(l,b,m);var u=this,t=1,r=[],j=0,m=[];0<f.length&&r.push(this.createHomePageGrid(f,a,c,"grid541_1","\u73b0\u91d1\u5206\u7ea2",b,e,t++));0<q.length&&(f=setTimeout(function(){r.push(u.createHomePageGrid(q,a,c,"grid541_2","\u4f9b\u80a1",b,e,t++))},j+=1E3),m.push(f));
0<y.length&&(f=setTimeout(function(){r.push(u.createHomePageGrid(y,a,c,"grid541_3","\u9001\u80a1",b,e,t++))},j+=1E3),m.push(f));0<d.length&&(f=setTimeout(function(){r.push(u.createHomePageGrid(d,a,c,"grid569_1","\u62c6\u80a1",b,e,t++))},j+=1E3),m.push(f));0<g.length&&(f=setTimeout(function(){r.push(u.createHomePageGrid(g,a,c,"grid569_2","\u5e76\u80a1",b,e,t++))},j+=1E3),m.push(f));0<C.length&&(f=setTimeout(function(){r.push(u.createHomePageGrid(C,a,c,"grid687","\u505c\u590d\u724c",b,e,t++))},j+=1E3),
m.push(f));0<S.length&&(f=setTimeout(function(){r.push(u.createHomePageGrid(S,a,c,"grid570_1","\u4e1a\u7ee9\u9884\u544a",b,e,t++))},j+=1E3),m.push(f));0<h.length&&(f=setTimeout(function(){r.push(u.createHomePageGrid(h,a,c,"grid570_2","\u8d22\u52a1\u516c\u544a",b,e,t++))},j+=1E3),m.push(f));0<l.length&&(f=setTimeout(function(){r.push(u.createHomePageGrid(l,a,c,"grid568","\u65b0\u80a1",b,e,t++))},j+=1E3),m.push(f));n.setObject("timerArray",m);return r},getSubclassData:function(a,c,f){dijit.byId("dayView").getChildren().forEach(function(e){e.destroyRecursive()});
var e=this,j=new b({}),d=o.createQid(a,a.theDate,a.id);""==a.stockCode?(dijit.byId("nullMsgHomePage").domNode.style.display="block",dijit.byId("basicStandby").hide(),E("#saveData").data(a.id,[])):o.getData(j,d).then(function(b){if(-1>=b.res_type||"error"==b.level)dijit.byId("nullData").domNode.style.display="block",dijit.byId("basicStandby").hide(),E("#saveData").data(a.id,[]);else if("0"!=d.tabType)if(void 0==b.result)dijit.byId("nullMsg").domNode.style.display="block",dijit.byId("basicStandby").hide(),
E("#saveData").data(a.id,[]);else{var y=e.getSubclassGrid(a,c,f,j);0==b.result.datas.length?(dijit.byId("nullMsg").domNode.style.display="block",dijit.byId("basicStandby").hide()):(dijit.byId("basicStandby").hide(),e.bindEvent(y),o.showTitle(y))}else void 0==b.result?(dijit.byId("nullMsgHomePage").domNode.style.display="block",dijit.byId("basicStandby").hide(),E("#saveData").data(a.id,[])):(e.createHomePageView(j,c,f,a,d.tabType),0==b.result.datas.length?(dijit.byId("nullMsgHomePage").domNode.style.display=
"block",dijit.byId("basicStandby").hide(),E("#saveData").data(a.id,[])):E("#saveData").data(a.id,j.data[0].result.datas))})},getSelfStockDate:function(a,c,f){dijit.byId("dayView").getChildren().forEach(function(e){e.destroyRecursive()});var e=this,j=new b({}),d=o.createQid(a,a.theDate,a.id),q="",j=new b({});o.getMyselfBlockData(j).then(function(j){for(var g="",j=j.result.datas,u=1;u<j.length;u++)g+=","+j[u][1];g=g.substring(1);j=new b({});o.getMyselfStockData(j,g).then(function(j){j=j.result.datas;
if(0==j.length)dijit.byId("nullSelfStock").domNode.style.display="block",dijit.byId("basicStandby").hide();else{for(var y=0;y<j.length;y++)/^HK{1}/.test(j[y][0])&&(q+=" "+j[y][0].substring(2,j[y][0].indexOf(".")));if(""==q)dijit.byId("nullSelfStock").domNode.style.display="block",dijit.byId("basicStandby").hide();else{d.stockCode="'"+q.substring(1)+"'";var h=new b({});o.getData(h,d).then(function(j){if(-1>=j.res_type||"error"==j.level)dijit.byId("nullSelfMsg").domNode.style.display="block",dijit.byId("basicStandby").hide(),
E("#saveData").data(a.id,[]);else if(void 0==j.result)dijit.byId("nullSelfMsg").domNode.style.display="block",dijit.byId("basicStandby").hide(),E("#saveData").data(a.id,[]);else{var b=e.getSubclassGrid(a,c,f,h);0==j.result.datas.length?(dijit.byId("nullSelfMsg").domNode.style.display="block",dijit.byId("basicStandby").hide()):(dijit.byId("basicStandby").hide(),e.bindEvent(b),o.showTitle(b))}})}}})})},bindEvent:function(b,a){b.on("dblclick",function(c,e){if(1==e.cell){var j="",j=a?b.data[e.row].stockCode:
b.data.result.datas[e.row][0];location.href="dzh://VIEWSTOCK?DATATYPE=DAY&LAYOUT=Level2\u9ed8\u8ba4&LABEL="+("HK"+j+".stk")+"&page=\u6280\u672f\u5206\u6790"}})},getDetailsData:function(a,c){dijit.byId("basicStandby")._underlayNode.style.background="none";dijit.byId("basicStandby").show();var f=null,e=new b({});o.getData(e,{__qid:"stockcalendar_day_note",code:a,id:c}).then(function(e){if(-1>=e.res_type||"error"==e.level)dojo.byId("detaildata").innerHTML="\u63d0\u53d6\u6570\u636e\u5931\u8d25,\u8bf7\u91cd\u65b0\u63d0\u53d6",
dijit.byId("basicStandby").hide();else return void 0!=e.result?0<e.result.datas.length&&(f=null==e.result.datas[0][0]||""==e.result.datas[0][0]||"NULL"==e.result.datas[0][0]?"\u65e0\u8be6\u7ec6\u4fe1\u606f":e.result.datas[0][0]):f="\u65e0\u8be6\u7ec6\u4fe1\u606f",f=f.replace("<pre>","").replace("<pre>",""),dojo.byId("detaildata").innerHTML=f,dijit.byId("basicStandby").hide(),f})},detailsClick:function(b,c){if(4==c.cell){new a({id:"detaildialog",title:"\u8be6\u7ec6\u5185\u5bb9",href:"resources/dialog/detailDialog.html",
onHide:function(){this.destroyRecursive()},onDownloadEnd:function(){dojo.connect(dijit.byId("detailbtnOk"),"onClick",function(){dijit.byId("detaildialog").onCancel()});var b=e[0];-1==b.indexOf(".stk")&&(b+=".stk");f.getDetailsData(b,e[1])}});var f=this,e=(""==b.target.id?b.target.firstChild.id:b.target.id).split("_");dijit.byId("detaildialog").show();dijit.byId("detaildialog").resize()}}})})},"url:stock/stockCalendarHK/view/DayView.html":'<div data-dojo-attach-point="containerNode" class="spacer vbox">\r\n\t<\!-- \u7528\u6765\u50a8\u5b58\u7f13\u5b58\u6570\u636e --\>\r\n\t<div data-dojo-type="dijit/layout/ContentPane" id="saveData" style="display:none">\r\n \t</div>\r\n \t<div data-dojo-type="dijit/layout/ContentPane" class="spacer vbox">\r\n \t\t<div data-dojo-type="dijit/layout/ContentPane" id="dayView" style="overflow: auto;" class="spacer"></div>\r\n \t</div>\r\n \t<div id="nullMsg" data-dojo-type="dijit/layout/ContentPane" class="dojoxFloatingPane dijitContentPane dojoxFloatingPaneFg tc" title="" role="group" style="display:none;position: absolute; visibility: visible; left: 50%; top:50%;margin-left:-160px;margin-top:-60px;width:280px; height: 100px; z-index: 104;">\r\n\t\t<div tabindex="0" role="button" class="dojoxFloatingPaneTitle" dojoattachpoint="focusNode" draggable="false">\t\t\r\n\t\t\t<span dojoattachpoint="titleNode" class="dijitInline dijitTitleNode">\u63d0\u793a</span>\r\n\t\t</div>\r\n\t\t<div class="tc_text" style="text-align:center;padding:20px;">\u8be5\u4e8b\u4ef6\u7c7b\u578b\u65e0\u4fe1\u606f\u62ab\u9732</div>\r\n\t</div>\r\n\t<div id="nullMsgHomePage" data-dojo-type="dijit/layout/ContentPane" class="dojoxFloatingPane dijitContentPane dojoxFloatingPaneFg tc" title="" role="group" style="display:none;position: absolute; visibility: visible; left: 50%; top:50%;margin-left:-160px;margin-top:-60px;width:280px; height: 100px; z-index: 104;">\r\n\t\t<div tabindex="0" role="button" class="dojoxFloatingPaneTitle" dojoattachpoint="focusNode" draggable="false">\t\t\r\n\t\t\t<span dojoattachpoint="titleNode" class="dijitInline dijitTitleNode">\u63d0\u793a</span>\r\n\t\t</div>\r\n\t\t<div class="tc_text" style="text-align:center;padding:20px;">\u8be5\u65e5\u65e0\u4fe1\u606f\u62ab\u9732</div>\r\n\t</div>\r\n\t<div id="nullData" data-dojo-type="dijit/layout/ContentPane" class="dojoxFloatingPane dijitContentPane dojoxFloatingPaneFg tc" title="" role="group" style="display:none;position: absolute; visibility: visible; left: 50%; top:50%;margin-left:-160px;margin-top:-60px;width:280px; height: 100px; z-index: 104;">\r\n\t\t<div tabindex="0" role="button" class="dojoxFloatingPaneTitle" dojoattachpoint="focusNode" draggable="false">\t\t\r\n\t\t\t<span dojoattachpoint="titleNode" class="dijitInline dijitTitleNode">\u63d0\u793a</span>\r\n\t\t</div>\r\n\t\t<div class="tc_text" style="text-align:center;padding:20px;">\u63d0\u53d6\u6570\u636e\u5931\u8d25,\u8bf7\u91cd\u65b0\u63d0\u53d6</div>\r\n\t</div>\r\n\t<div id="nullSelfStock" data-dojo-type="dijit/layout/ContentPane" class="dojoxFloatingPane dijitContentPane dojoxFloatingPaneFg tc" title="" role="group" style="display:none;position: absolute; visibility: visible; left: 50%; top:50%;margin-left:-160px;margin-top:-60px;width:280px; height: 100px; z-index: 104;">\r\n\t\t<div tabindex="0" role="button" class="dojoxFloatingPaneTitle" dojoattachpoint="focusNode" draggable="false">\t\t\r\n\t\t\t<span dojoattachpoint="titleNode" class="dijitInline dijitTitleNode">\u63d0\u793a</span>\r\n\t\t</div>\r\n\t\t<div class="tc_text" style="text-align:center;padding:20px;">\u6682\u65e0\u81ea\u9009\u80a1</div>\r\n\t</div>\r\n\t<div id="nullSelfMsg" data-dojo-type="dijit/layout/ContentPane" class="dojoxFloatingPane dijitContentPane dojoxFloatingPaneFg tc" title="" role="group" style="display:none;position: absolute; visibility: visible; left: 50%; top:50%;margin-left:-160px;margin-top:-60px;width:280px; height: 100px; z-index: 104;">\r\n\t\t<div tabindex="0" role="button" class="dojoxFloatingPaneTitle" dojoattachpoint="focusNode" draggable="false">\t\t\r\n\t\t\t<span dojoattachpoint="titleNode" class="dijitInline dijitTitleNode">\u63d0\u793a</span>\r\n\t\t</div>\r\n\t\t<div class="tc_text" style="text-align:center;padding:20px;">\u81ea\u9009\u80a1\u65e0\u4fe1\u606f\u62ab\u9732</div>\r\n\t</div>\r\n \t<div id ="basicStandby" target="bodyId" data-dojo-type="dojox/widget/Standby" zIndex="1000"></div>\r\n</div>',
"stock/stockCalendarHK/view/CommonMethod":function(){define(["stock/stockCalendarHK/view/_CommonMethod"],function(G){return new G})},"stock/stockCalendarHK/view/_CommonMethod":function(){define("dojo/_base/declare,dojo/_base/lang,dojo/on,dojo/dom-geometry,dijit/TooltipDialog,dijit/popup,dojo/date,dojo/io-query,dojox/store/GridSOStore".split(","),function(G,n,w,d,g,D,K,M){return G("stock.stockCalendarHK.view._CommonMethod",null,{showTitle:function(f){f.on("mouseover",function(f){f.target.title="";
if(f.target.dataset.isTipCell&&d.getMarginBox(f.target).w>d.getContentBox(f.target.parentElement).w){f.target.parentElement.title="";if(!this.detailTip)this.detailTip=new g({className:"kks",style:"width: 300px;"});this.detailTip.set("content",f.target.innerHTML);D.open({popup:this.detailTip,around:f.target})}});f.on("mouseout",function(){D.close(this.detailTip)})},createWeeks:function(f,d,g,i){f=null!=f?f:d.sDate;f=K.add(f,"day",g);return result=i?d.dateLocaleModule.format(f,{selector:"date",datePattern:"EEEE"}):
d.dateLocaleModule.format(f,{selector:"date",datePattern:"yyyy-MM-dd"})},selectDate:function(f,d,g,i,b,n,w){var a=null;if("stockcalendar_week_2_sl"==d||"stockcalendar_week_3_sl"==d||"stockcalendar_week_4_sl"==d)var c=f.result.datas[7*(g-2)+i][3].split("-");else if("stockcalendar_month_2_sl"==d||"stockcalendar_month_3_sl"==d||"stockcalendar_month_4_sl"==d)c=f.result.datas[g][3].split("-");if(void 0==b.stockCode&&void 0==w)if("stockcalendar_week_1_sl"==d)a=f.result.datas[7*(g-2)+i][3];else if("stockcalendar_month_1_sl"==
d)a=f.result.datas[g][3];else if("stockcalendar_week_2_sl"==d||"stockcalendar_month_2_sl"==d)"100088"==b.marketType?a=c[0]:"100089"==b.marketType?a=c[1]:"100090"==b.marketType?a=c[2]:"100091"==b.marketType?a=c[3]:"100092"==b.marketType?a=c[4]:"100093"==b.marketType?a=c[5]:"100094"==b.marketType?a=c[6]:"100095"==b.marketType?a=c[7]:"100097"==b.marketType?a=c[8]:"100098"==b.marketType?a=c[9]:"102689"==b.marketType&&(a=c[10]);else if("stockcalendar_week_3_sl"==d||"stockcalendar_month_3_sl"==d)"100704"==
b.industryType?a=c[0]:"100705"==b.industryType?a=c[1]:"100706"==b.industryType?a=c[2]:"100707"==b.industryType?a=c[3]:"100708"==b.industryType?a=c[4]:"100709"==b.industryType?a=c[5]:"100710"==b.industryType?a=c[6]:"100711"==b.industryType?a=c[7]:"100712"==b.industryType?a=c[8]:"100713"==b.industryType?a=c[9]:"100714"==b.industryType?a=c[10]:"100715"==b.industryType?a=c[11]:"100716"==b.industryType?a=c[12]:"101105"==b.industryType?a=c[13]:"101106"==b.industryType?a=c[14]:"101107"==b.industryType?a=
c[15]:"101108"==b.industryType?a=c[16]:"101109"==b.industryType?a=c[17]:"101110"==b.industryType?a=c[18]:"101111"==b.industryType?a=c[19]:"101112"==b.industryType?a=c[20]:"101113"==b.industryType?a=c[21]:"101114"==b.industryType?a=c[22]:"101140"==b.industryType?a=c[23]:"101141"==b.industryType?a=c[24]:"101142"==b.industryType?a=c[25]:"101143"==b.industryType?a=c[26]:"101144"==b.industryType?a=c[27]:"101145"==b.industryType?a=c[28]:"101146"==b.industryType?a=c[29]:"101147"==b.industryType?a=c[30]:
"101148"==b.industryType?a=c[31]:"101149"==b.industryType?a=c[32]:"101396"==b.industryType?a=c[33]:"101397"==b.industryType?a=c[34]:"101398"==b.industryType?a=c[35]:"101399"==b.industryType?a=c[36]:"101400"==b.industryType?a=c[37]:"101401"==b.industryType?a=c[38]:"101402"==b.industryType?a=c[39]:"101403"==b.industryType?a=c[40]:"101404"==b.industryType?a=c[41]:"101405"==b.industryType?a=c[42]:"101406"==b.industryType?a=c[43]:"101407"==b.industryType?a=c[44]:"101408"==b.industryType?a=c[45]:"101409"==
b.industryType?a=c[46]:"101410"==b.industryType?a=c[47]:"101411"==b.industryType?a=c[48]:"101412"==b.industryType?a=c[49]:"101413"==b.industryType?a=c[50]:"101414"==b.industryType?a=c[51]:"101415"==b.industryType?a=c[52]:"101416"==b.industryType?a=c[53]:"101417"==b.industryType?a=c[54]:"101418"==b.industryType&&(a=c[55]);else{if("stockcalendar_week_4_sl"==d||"stockcalendar_month_4_sl"==d)"100704"==b.industryType?a=c[0]:"100705"==b.industryType?a=c[1]:"100706"==b.industryType?a=c[2]:"100707"==b.industryType?
a=c[3]:"100708"==b.industryType?a=c[4]:"100709"==b.industryType?a=c[5]:"100710"==b.industryType?a=c[6]:"100711"==b.industryType?a=c[7]:"100712"==b.industryType?a=c[8]:"100713"==b.industryType?a=c[9]:"100714"==b.industryType?a=c[10]:"100715"==b.industryType?a=c[11]:"100716"==b.industryType?a=c[12]:"101105"==b.industryType?a=c[13]:"101106"==b.industryType?a=c[14]:"101107"==b.industryType?a=c[15]:"101108"==b.industryType?a=c[16]:"101109"==b.industryType?a=c[17]:"101110"==b.industryType?a=c[18]:"101111"==
b.industryType?a=c[19]:"101112"==b.industryType?a=c[20]:"101113"==b.industryType?a=c[21]:"101114"==b.industryType?a=c[22]:"101140"==b.industryType?a=c[23]:"101141"==b.industryType?a=c[24]:"101142"==b.industryType?a=c[25]:"101143"==b.industryType?a=c[26]:"101144"==b.industryType?a=c[27]:"101145"==b.industryType?a=c[28]:"101146"==b.industryType?a=c[29]:"101147"==b.industryType?a=c[30]:"101148"==b.industryType?a=c[31]:"101149"==b.industryType?a=c[32]:"101396"==b.industryType?a=c[33]:"101397"==b.industryType?
a=c[34]:"101398"==b.industryType?a=c[35]:"101399"==b.industryType?a=c[36]:"101400"==b.industryType?a=c[37]:"101401"==b.industryType?a=c[38]:"101402"==b.industryType?a=c[39]:"101403"==b.industryType?a=c[40]:"101404"==b.industryType?a=c[41]:"101405"==b.industryType?a=c[42]:"101406"==b.industryType?a=c[43]:"101407"==b.industryType?a=c[44]:"101408"==b.industryType?a=c[45]:"101409"==b.industryType?a=c[46]:"101410"==b.industryType?a=c[47]:"101411"==b.industryType?a=c[48]:"101412"==b.industryType?a=c[49]:
"101413"==b.industryType?a=c[50]:"101414"==b.industryType?a=c[51]:"101415"==b.industryType?a=c[52]:"101416"==b.industryType?a=c[53]:"101417"==b.industryType?a=c[54]:"101418"==b.industryType&&(a=c[55])}else a="week"==n?f.result.datas[i][g-1]:f.result.datas[g][i+1];return a},getData:function(f,d){return f.query({service:"rpc",so:"javadataproxy.jar","function":"gw/UIMain",paraencode:"base64",parameter:"Z2V0,"+(window.external.base64encode||btoa)("/webquery/common?"+M.objectToQuery(d)),response_times:1,
response_mode:0,cache_timeout:0},{})},getMyselfBlockData:function(f){return f.query({service:"blockinfo",type:"sub",source:"local",block:"\u81ea\u9009\u80a1",depth:"-1",response_times:1,response_mode:0,cache_timeout:0},{})},getMyselfStockData:function(f,d){return f.query({service:"blockinfo",type:"leaf",source:"local",block:d,depth:"-1",response_times:1,response_mode:0,cache_timeout:0},{})},clearTimer:function(){var f=n.getObject("timerArray");if(f)for(;0<f.length;){var d=f.shift();clearTimeout(d);
console.error(" timerid="+d)}},createQid:function(f,d,g){var i=void 0==f.marketType?"":f.marketType;if(void 0==f.stockCode)if(""!=f.industryType&&""!=f.industryBasis&&""!=i)var b="109929"==f.industryBasis?{__qid:"stockcalendar_hk_day_sl",pDate:d,tabType:g,gics:f.industryType,scfl:i}:{__qid:"stockcalendar_hk_day_sl",pDate:d,tabType:g,hs:f.industryType,scfl:i};else""!=f.industryType&&""!=f.industryBasis&&""==i?b="109929"==f.industryBasis?{__qid:"stockcalendar_hk_day_sl",pDate:d,tabType:g,gics:f.industryType}:
{__qid:"stockcalendar_hk_day_sl",pDate:d,tabType:g,hs:f.industryType}:""==f.industryType&&""!=f.industryBasis&&""==i?b={__qid:"stockcalendar_hk_day_sl",pDate:d,tabType:g,fljz:f.industryBasis}:""==f.industryType&&""==f.industryBasis&&""==i?b={__qid:"stockcalendar_hk_day_sl",pDate:d,tabType:g}:""==f.industryType&&""!=i&&(b={__qid:"stockcalendar_hk_day_sl",pDate:d,tabType:g,scfl:i});else{var n="";f.stockCode=f.stockCode.replace(/([a-z]+)(.*?)([A-Z]*)/g,function(b,a,c,f){return a.toUpperCase()+c+f.toLowerCase()});
if(/^(HK){1}(\d{4}|\d{5}|\d{4}.STK|\d{5}.STK)$/.test(f.stockCode))f.stockCode=-1==f.stockCode.indexOf(".")?f.stockCode.substring(2):f.stockCode.substring(2,f.stockCode.indexOf("."));if(4==f.stockCode.length)f.stockCode="0"+f.stockCode;n="'"+f.stockCode+"'";""!=f.industryType&&""!=f.industryBasis&&""!=i?b={__qid:"stockcalendar_hk_day_sl",pDate:d,tabType:g,hybk:f.industryType,fljz:f.industryBasis,scfl:i,stockCode:n}:""!=f.industryType&&""!=f.industryBasis&&""==i?b={__qid:"stockcalendar_hk_day_sl",pDate:d,
tabType:g,hybk:f.industryType,fljz:f.industryBasis,stockCode:n}:""==f.industryType&&""!=f.industryBasis&&""==i?b={__qid:"stockcalendar_hk_day_sl",pDate:d,tabType:g,fljz:f.industryBasis,stockCode:n}:""==f.industryType&&""==f.industryBasis&&""==i?b={__qid:"stockcalendar_hk_day_sl",pDate:d,tabType:g,stockCode:n}:""==f.industryType&&""!=i&&(b={__qid:"stockcalendar_hk_day_sl",pDate:d,tabType:g,scfl:i,stockCode:n})}return b}})})},"stock/stockCalendarHK/view/WeekView":function(){define("dojo/_base/declare,dojo/_base/lang,dojo/on,dojo/dom-construct,dojo/dom-style,dojo/dom-class,dojo/dom-geometry,dojo/query,dojo/date,dijit/registry,dojo/store/Memory,dojo/text!./WeekView.html,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dojox/slickgrid/slickgrid,dojox/slickgrid/sogrid,dojo/html,dojox/store/GridSOStore,dojo/NodeList-data,dijit/Dialog,dojo/dom-attr,./CommonMethod".split(","),
function(G,n,w,d,g,D,K,M,f,u,A,i,b,E,Q,a,c,x,J,o,p,v,k){return G("stock.stockCalendarHK.view.WeekView",[b,E,Q],{templateString:i,parma:null,getWeekData:function(e){var b=this,a=dojo.date.locale.format(f.add(e.renderData.sDate,"day",6),{datePattern:"yyyyMMdd",timePattern:"000000"}).replace(" ",""),c=new J({}),a={__qid:"stockcalendar_hk_week_month",begDate:e.theDate,endDate:a};if(void 0==e.stockCode)if(""!=e.industryType&&void 0!=e.marketType)a.scfl=e.marketType,"109929"==e.industryBasis?a.gics=e.industryType:
a.hs=e.industryType;else if(""!=e.industryType&&void 0==e.marketType)"109929"==e.industryBasis?a.gics=e.industryType:a.hs=e.industryType;else{if(void 0!=e.marketType&&""==e.industryType)a.scfl=e.marketType}else{e.stockCode=e.stockCode.replace(/([a-z]+)(.*?)([A-Z]*)/g,function(e,b,j,a){return b.toUpperCase()+j+a.toLowerCase()});if(/^(HK){1}(\d{4}|\d{5}|\d{4}.STK|\d{5}.STK)$/.test(e.stockCode))e.stockCode=-1==e.stockCode.indexOf(".")?e.stockCode.substring(2):e.stockCode.substring(2,e.stockCode.indexOf("."));
if(4==e.stockCode.length)e.stockCode="0"+e.stockCode;a.stockCode="'"+e.stockCode+"'"}if(""==e.stockCode){c={result:{datas:[]}};for(a=0;7>a;a++)c.result.datas.push(",0,0,0,0,0".split(","));b.createWeekDate(c,e,"stockcalendar_hk_week_month")}else k.getData(c,a).then(function(a){if(-1>=a.res_type)dijit.byId("basicStandby").hide(),g.set(dojo.byId("weekView"),"display","none"),dijit.byId("nullData").domNode.style.display="block";else if("error"==a.level)dijit.byId("basicStandby").hide(),g.set(dojo.byId("weekView"),
"display","none"),dijit.byId("nullData").domNode.style.display="block";else{if(void 0==a.result)for(var a={result:{datas:[]}},c=0;7>c;c++)a.result.datas.push(",0,0,0,0,0".split(","));else{var d=a.result.datas;a.result.datas=[];for(var q=[],c=0;7>c;c++)q.push(dojo.date.locale.format(f.add(e.renderData.sDate,"day",c),{datePattern:"yyyyMMdd",timePattern:"000000"}).replace(" ",""));for(var k=0;k<q.length;k++){for(var h=0,l=0,m=0,L=0,t=0,c=0;c<d.length;c++){var r=d[c];r[0]==q[k]&&("541"==r[1]?h+=1:"569"==
r[1]?l+=1:"587"==r[1]?m+=1:"570"==r[1]?L+=1:"568"==r[1]&&(t+=1))}c=[];c.push(q[k]);c.push(h+"");c.push(l+"");c.push(m+"");c.push(L+"");c.push(t+"");a.result.datas.push(c)}}b.createWeekDate(a,e,"stockcalendar_hk_week_month",!0)}})},getSelfWeekDate:function(e){var b=this,a=dojo.date.locale.format(f.add(e.renderData.sDate,"day",6),{datePattern:"yyyyMMdd",timePattern:"000000"}).replace(" ",""),c=new J({}),d=null,p,d="stockcalendar_hk_week_month";p={__qid:d,begDate:e.theDate,endDate:a};var R="";k.getMyselfBlockData(c).then(function(a){for(var c=
"",a=a.result.datas,q=1;q<a.length;q++)c+=","+a[q][1];c=c.substring(1);a=new J({});k.getMyselfStockData(a,c).then(function(a){a=a.result.datas;if(0==a.length){for(var c=[],c={datas:c},a={result:c},c=0;7>c;c++)a.result.datas.push(",0,0,0,0,0".split(","));b.createWeekDate(a,e,d,!0)}else{for(c=0;c<a.length;c++)/^HK{1}/.test(a[c][0])&&(R+=" "+a[c][0].substring(2,a[c][0].indexOf(".")));if(""==R){c=[];c={datas:c};a={result:c};for(c=0;7>c;c++)a.result.datas.push(",0,0,0,0,0".split(","));b.createWeekDate(a,
e,d,!0)}else R="'"+R.substring(1)+"'",p.stockCode=R,c=new J({}),k.getData(c,p).then(function(a){if(-1>=a.res_type)dijit.byId("basicStandby").hide(),g.set(dojo.byId("weekView"),"display","none"),dijit.byId("nullData").domNode.style.display="block";else if("error"==a.level)dijit.byId("basicStandby").hide(),g.set(dojo.byId("weekView"),"display","none"),dijit.byId("nullData").domNode.style.display="block";else if(void 0==a.result){for(var a={result:{datas:[]}},c=0;7>c;c++)a.result.datas.push(",0,0,0,0,0".split(","));
b.createWeekDate(a,e,d,!0)}else{var q=a.result.datas;a.result.datas=[];for(var h=[],c=0;7>c;c++)h.push(dojo.date.locale.format(f.add(e.renderData.sDate,"day",c),{datePattern:"yyyyMMdd",timePattern:"000000"}).replace(" ",""));for(var k=0;k<h.length;k++){for(var l=0,m=0,C=0,p=0,L=0,c=0;c<q.length;c++){var v=q[c];v[0]==h[k]&&("541"==v[1]?l+=1:"569"==v[1]?m+=1:"587"==v[1]?C+=1:"570"==v[1]?p+=1:"568"==v[1]&&(L+=1))}c=[];c.push(h[k]);c.push(l+"");c.push(m+"");c.push(C+"");c.push(p+"");c.push(L+"");a.result.datas.push(c)}b.createWeekDate(a,
e,d,!0,R)}})}})})},buildGrid:function(e){dijit.byId("basicStandby")._underlayNode.style.background="none";dijit.byId("basicStandby").show();this.parma=e;!1==e.renderData.isSelfShow?this.getWeekData(e):this.getSelfWeekDate(e)},createWeekDate:function(e,a,c,b,f){var p=this,v=this.weekView,C=M("table",v)[0];C&&d.destroy(C);C=d.create("table",null,v);C.setAttribute("border","0");C.setAttribute("cellpadding","0");C.setAttribute("cellspacing","0");C.setAttribute("class","monthTable monthTable_calender");
C.setAttribute("id","myMonthTable");C.setAttribute("width","100%");thead=d.create("thead",null,C);tbody=d.create("tbody",null,C);for(v=0;2>v;v++)if(0==v){var S=d.create("tr",null,thead);thead.setAttribute("class","slick-header");for(var h=0;7>h;h++){var l=d.create("td",null,S);x.set(l,k.createWeeks(null,a.renderData,h,"Weeks"));a.renderData.isWeekShow||("\u661f\u671f\u516d"==k.createWeeks(null,a.renderData,h,"Weeks")||"\u661f\u671f\u65e5"==k.createWeeks(null,a.renderData,h,"Weeks"))&&g.set(l,"display",
"none")}}else for(var S=d.create("tr",null,tbody),m=0,h=0;7>h;h++){var m=2,l=d.create("td",null,S),i=d.create("dl",null,l);i.setAttribute("class","monthCell");i.setAttribute("data-dojo-attach-point","monthUnit");i.setAttribute("id","stock_stockCalendarHK_view_Cell_0");i.setAttribute("widgetid","stock_stockCalendarHK_view_Cell_0");for(var t=0;2>t;t++)if(0==t){var r=d.create("dt",null,i),s=d.create("span",null,r);s.setAttribute("data-dojo-attach-point","longDate");x.set(s,k.createWeeks(null,a.renderData,
h));0==h&&g.set(r,"background","-webkit-linear-gradient(top, #abd8ff, #87bdec)")}else{var H=d.create("dd",null,i),o=d.create("dd",null,i),n=d.create("dd",null,i),u=d.create("dd",null,i),B=d.create("dd",null,i),r=d.create("span",null,H),s=d.create("span",null,o),z=d.create("span",null,n),F=d.create("span",null,u),I=d.create("span",null,B);H.setAttribute("class","even");o.setAttribute("class","odd");n.setAttribute("class","even");u.setAttribute("class","odd");B.setAttribute("class","even");x.set(r,
"\u73b0\u91d1\u5206\u7ea2/\u4f9b\u80a1/\u9001\u80a1");x.set(s,"\u62c6\u80a1/\u5e76\u80a1");x.set(z,"\u505c\u590d\u724c");x.set(F,"\u4e1a\u7ee9\u9884\u544a/\u8d22\u52a1\u516c\u544a");x.set(I,"\u65b0\u80a1");H=d.create("i",null,r);o=d.create("i",null,s);n=d.create("i",null,z);u=d.create("i",null,F);B=d.create("i",null,I);void 0==b?(H.setAttribute("id",e.result.datas[h][1]+"_1_\u516c\u544a/\u505c\u590d\u724c"),o.setAttribute("id",e.result.datas[h][1]+"_2_\u56de\u8d2d/\u589e\u51cf\u6301"),n.setAttribute("id",
e.result.datas[h][1]+"_3_\u65b0\u80a1/\u589e\u53d1/\u914d\u80a1/\u5206\u7ea2"),u.setAttribute("id",e.result.datas[h][1]+"_4_\u8d22\u62a5\u62ab\u9732"),B.setAttribute("id",e.result.datas[h][1]+"_5_\u6536\u8d2d\u517c\u5e76"),i6.setAttribute("id",e.result.datas[h][1]+"_6_\u80a1\u4e1c\u5927\u4f1a"),i7.setAttribute("id",e.result.datas[h][1]+"_7_\u5176\u4ed6"),r.setAttribute("class","weekCell-cell"),r.setAttribute("id",e.result.datas[h][1]+"_1"),s.setAttribute("class","weekCell-cell"),s.setAttribute("id",
e.result.datas[h][1]+"_2"),z.setAttribute("class","weekCell-cell"),z.setAttribute("id",e.result.datas[h][1]+"_3"),F.setAttribute("class","weekCell-cell"),F.setAttribute("id",e.result.datas[h][1]+"_4"),I.setAttribute("class","weekCell-cell"),I.setAttribute("id",e.result.datas[h][1]+"_5"),span6.setAttribute("class","weekCell-cell"),span6.setAttribute("id",e.result.datas[h][1]+"_6"),span7.setAttribute("class","weekCell-cell"),span7.setAttribute("id",e.result.datas[h][1]+"_7")):(H.setAttribute("id",e.result.datas[h][0]+
"_1_\u73b0\u91d1\u5206\u7ea2/\u4f9b\u80a1/\u9001\u80a1"),o.setAttribute("id",e.result.datas[h][0]+"_2_\u62c6\u80a1/\u5e76\u80a1"),n.setAttribute("id",e.result.datas[h][0]+"_3_\u505c\u590d\u724c"),u.setAttribute("id",e.result.datas[h][0]+"_4_\u4e1a\u7ee9\u9884\u544a/\u8d22\u52a1\u516c\u544a"),B.setAttribute("id",e.result.datas[h][0]+"_5_\u65b0\u80a1"),r.setAttribute("class","weekCell-cell"),r.setAttribute("id",e.result.datas[h][0]+"_1"),s.setAttribute("class","weekCell-cell"),s.setAttribute("id",e.result.datas[h][0]+
"_2"),z.setAttribute("class","weekCell-cell"),z.setAttribute("id",e.result.datas[h][0]+"_3"),F.setAttribute("class","weekCell-cell"),F.setAttribute("id",e.result.datas[h][0]+"_4"),I.setAttribute("class","weekCell-cell"),I.setAttribute("id",e.result.datas[h][0]+"_5"));x.set(H,k.selectDate(e,c,m,h,a,"week",b));x.set(o,k.selectDate(e,c,++m,h,a,"week",b));x.set(n,k.selectDate(e,c,++m,h,a,"week",b));x.set(u,k.selectDate(e,c,++m,h,a,"week",b));x.set(B,k.selectDate(e,c,++m,h,a,"week",b));void 0==b?(1<=dojo.byId(e.result.datas[h][1]+
"_1_\u516c\u544a/\u505c\u590d\u724c").innerHTML&&(g.set(H,"color","#0000FF"),g.set(r,"color","#0000FF")),1<=dojo.byId(e.result.datas[h][1]+"_2_\u56de\u8d2d/\u589e\u51cf\u6301").innerHTML&&(g.set(o,"color","#0000FF"),g.set(s,"color","#0000FF")),1<=dojo.byId(e.result.datas[h][1]+"_3_\u65b0\u80a1/\u589e\u53d1/\u914d\u80a1/\u5206\u7ea2").innerHTML&&(g.set(n,"color","#0000FF"),g.set(z,"color","#0000FF")),1<=dojo.byId(e.result.datas[h][1]+"_4_\u8d22\u62a5\u62ab\u9732").innerHTML&&(g.set(u,"color","#0000FF"),
g.set(F,"color","#0000FF")),1<=dojo.byId(e.result.datas[h][1]+"_5_\u6536\u8d2d\u517c\u5e76").innerHTML&&(g.set(B,"color","#0000FF"),g.set(I,"color","#0000FF")),1<=dojo.byId(e.result.datas[h][1]+"_6_\u80a1\u4e1c\u5927\u4f1a").innerHTML&&(g.set(i6,"color","#0000FF"),g.set(span6,"color","#0000FF")),1<=dojo.byId(e.result.datas[h][1]+"_7_\u5176\u4ed6").innerHTML&&(g.set(i7,"color","#0000FF"),g.set(span7,"color","#0000FF"))):(1<=dojo.byId(e.result.datas[h][0]+"_1_\u73b0\u91d1\u5206\u7ea2/\u4f9b\u80a1/\u9001\u80a1").innerHTML&&
(g.set(H,"color","#0000FF"),g.set(r,"color","#0000FF")),1<=dojo.byId(e.result.datas[h][0]+"_2_\u62c6\u80a1/\u5e76\u80a1").innerHTML&&(g.set(o,"color","#0000FF"),g.set(s,"color","#0000FF")),1<=dojo.byId(e.result.datas[h][0]+"_3_\u505c\u590d\u724c").innerHTML&&(g.set(n,"color","#0000FF"),g.set(z,"color","#0000FF")),1<=dojo.byId(e.result.datas[h][0]+"_4_\u4e1a\u7ee9\u9884\u544a/\u8d22\u52a1\u516c\u544a").innerHTML&&(g.set(u,"color","#0000FF"),g.set(F,"color","#0000FF")),1<=dojo.byId(e.result.datas[h][0]+
"_5_\u65b0\u80a1").innerHTML&&(g.set(B,"color","#0000FF"),g.set(I,"color","#0000FF")))}a.renderData.isWeekShow||("\u661f\u671f\u516d"==k.createWeeks(null,a.renderData,h,"Weeks")||"\u661f\u671f\u65e5"==k.createWeeks(null,a.renderData,h,"Weeks"))&&g.set(l,"display","none")}w(C,"click",function(e){var a=e.target.id,b=null,c=null;if(""!=e.target.id)1==e.target.childNodes.length?(b=e.target.innerHTML,c=e.target.id.split("_")[2]):(b=e.target.childNodes[1].innerHTML,c=e.target.firstChild.data),"0"!=b&&p.mainWeekClick(a,
c,b,f)});if("none"==dojo.byId("weekView").style.display)dojo.byId("weekView").style.display="block";dijit.byId("basicStandby").hide()},mainWeekClick:function(e,a,b,c){var f=this;if("0"==b)return!1;dlg=new p({id:"mainWeekdialog",title:a,refreshOnShow:!0,href:"resources/dialog/mainWeekDialog.html",style:{width:"900px"},onHide:function(){this.destroyRecursive()},onDownloadEnd:function(){dijit.byId("mainWeekbtnOk").on("click",function(){dijit.byId("mainWeekdialog").onCancel()});f.setDialogData(e,c)}});
dlg.show()},setDialogData:function(e,a){function b(e,a,c){return"<a data-is-tip-cell=true>"+c+"</a>"}dijit.byId("basicStandby")._underlayNode.style.background="none";dijit.byId("basicStandby").show();var c=[{id:"stockCode",name:"\u80a1\u7968\u4ee3\u7801",field:"stockCode",width:80,headerCssClass:"font-center",sortable:!0,cssClass:"font-center"},{id:"stockName",name:"\u80a1\u7968\u7b80\u79f0",field:"stockName",width:80,sortable:!0,headerCssClass:"font-center"},{id:"date",name:"\u53d1\u751f\u65e5\u671f",
field:"date",width:90,headerCssClass:"font-center",sortable:!0,cssClass:"font-center"},{id:"mType",name:"\u4e8b\u4ef6\u7c7b\u578b",field:"mType",width:120,headerCssClass:"font-center",sortable:!0,formatter:b},{id:"mTitle",name:"\u5185\u5bb9",field:"mTitle",width:400,headerCssClass:"font-center",sortable:!0,formatter:b}];options={forceFitColumns:!0,enableColumnReorder:!1};this.getClassificationData(e,c,options,a)},getClassificationData:function(e,a,b,f){var d=this,g=new J({}),p=k.createQid(this.parma,
e.split("_")[0],e.split("_")[1]);if(void 0!=f)p.stockCode=f;k.getData(g,p).then(function(f){var q=e.split("_")[0],q=d.pushDetailData(f,q);if(0>f.res_type||"error"==f.level)dojo.byId("mainWeekdata").innerHTML="\u63d0\u53d6\u6570\u636e\u5931\u8d25,\u8bf7\u91cd\u65b0\u63d0\u53d6";else{var f=new A({data:q}),h;h?(h.set("store",new A({data:q})),h.refresh(g.data[0])):h=new c({store:f,columns:a,options:b},"mainWeekdata");h.startup();k.showTitle(h)}dijit.byId("basicStandby").hide()})},pushDetailData:function(e,
a){for(var b=[],c=0;c<e.result.datas.length;c++)b.push({stockCode:e.result.datas[c][0],stockName:e.result.datas[c][1],date:a.substring(0,4)+"-"+a.substring(4,6)+"-"+a.substring(6,8),mType:e.result.datas[c][2],mTitle:e.result.datas[c][3]});return b}})})},"url:stock/stockCalendarHK/view/WeekView.html":'<div style="width:100%;height:98%;">\n    <div id="weekView" data-dojo-attach-point="weekView"></div>\n    <div id="nullMsgWeek" data-dojo-type="dijit/layout/ContentPane" class="dojoxFloatingPane dijitContentPane dojoxFloatingPaneFg tc" title="" role="group" style="display:none;position: absolute; visibility: visible; left: 50%; top:50%;margin-left:-160px;margin-top:-60px;width:280px; height: 100px; z-index: 104;">\n\t\t<div tabindex="0" role="button" class="dojoxFloatingPaneTitle" dojoattachpoint="focusNode" draggable="false">\t\t\n\t\t\t<span dojoattachpoint="titleNode" class="dijitInline dijitTitleNode">\u63d0\u793a</span>\n\t\t</div>\n\t\t<div class="tc_text" style="text-align:center;padding:20px;">\u6682\u65e0\u672c\u5468\u4fe1\u606f</div>\n\t</div>\n</div>',
"stock/stockCalendarHK/view/MonthView":function(){define("dojo/_base/declare,dojo/_base/lang,dojo/on,dojo/dom-construct,dojo/dom-style,dojo/dom-class,dojo/dom-geometry,dojo/query,dojo/date,dijit/registry,dojo/store/Memory,dojo/text!./MonthView.html,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dojox/slickgrid/slickgrid,dojox/calendar/time,dojox/store/GridSOStore,dojo/NodeList-data,dojo/html,dijit/Dialog,dojo/dom-attr,./CommonMethod".split(","),function(G,n,w,d,g,D,K,M,f,u,
A,i,b,E,Q,a,c,x,J,o,p,v,k){return G("stock.stockCalendarHK.view.MonthView",[b,E,Q],{templateString:i,parma:null,createMonthParma:function(e){var a={},e=c.floorToMonth(e.renderData.sDate),b=f.add(e,"month",1),d=c.floorToWeek(e),g=c.floorToWeek(b);0!=f.compare(g,b)&&(g=f.add(g,"week",1));g=f.difference(d,g,"day");a.rowCount=Math.ceil(g/7);a.columnCount=7;a.beginDate=d;a.beginDateOfMonth=e;a.endDateOfMonth=f.add(b,"day",-1);return a},getMonthData:function(e){var a=this.createMonthParma(e),b=this,c=dojo.date.locale.format(a.beginDateOfMonth,
{datePattern:"yyyyMMdd",timePattern:"000000"}).replace(" ",""),d=dojo.date.locale.format(a.endDateOfMonth,{datePattern:"yyyyMMdd",timePattern:"000000"}).replace(" ",""),p=new x({}),c={__qid:"stockcalendar_hk_week_month",begDate:c,endDate:d};if(void 0==e.stockCode)if(""!=e.industryType&&void 0!=e.marketType)c.scfl=e.marketType,"109929"==e.industryBasis?c.gics=e.industryType:c.hs=e.industryType;else if(""!=e.industryType&&void 0==e.marketType)"109929"==e.industryBasis?c.gics=e.industryType:c.hs=e.industryType;
else{if(void 0!=e.marketType&&""==e.industryType)c.scfl=e.marketType}else{e.stockCode=e.stockCode.replace(/([a-z]+)(.*?)([A-Z]*)/g,function(e,a,c,b){return a.toUpperCase()+c+b.toLowerCase()});if(/^(HK){1}(\d{4}|\d{5}|\d{4}.STK|\d{5}.STK)$/.test(e.stockCode))e.stockCode=-1==e.stockCode.indexOf(".")?e.stockCode.substring(2):e.stockCode.substring(2,e.stockCode.indexOf("."));if(4==e.stockCode.length)e.stockCode="0"+e.stockCode;c.stockCode="'"+e.stockCode+"'"}if(""==e.stockCode){p=e.renderData.sDate;p=
(new Date(p.getFullYear(),p.getMonth()+1,0)).getDate();c={result:{datas:[]}};for(d=0;d<p;d++)c.result.datas.push(",0,0,0,0,0".split(","));b.createMonthDate(c,e,a,"stockcalendar_hk_week_month",!0)}else k.getData(p,c).then(function(c){var d;if(-1>=c.res_type)dijit.byId("basicStandby").hide(),g.set(dojo.byId("monthView"),"display","none"),dijit.byId("nullData").domNode.style.display="block";else if("error"==c.level)dijit.byId("basicStandby").hide(),g.set(dojo.byId("monthView"),"display","none"),dijit.byId("nullData").domNode.style.display=
"block";else{d=e.renderData.sDate;var k=(new Date(d.getFullYear(),d.getMonth()+1,0)).getDate();if(void 0==c.result){c=[];c={datas:c};c={result:c};for(d=0;d<k;d++)c.result.datas.push(",0,0,0,0,0".split(","))}else{var h=c.result.datas;c.result.datas=[];var q=[];for(d=0;d<k;d++)q.push(dojo.date.locale.format(f.add(a.beginDateOfMonth,"day",d),{datePattern:"yyyyMMdd",timePattern:"000000"}).replace(" ",""));for(k=0;k<q.length;k++){var m=0,p=0,v=0,r=0,y=0;for(d=0;d<h.length;d++){var i=h[d];i[0]==q[k]&&("687"==
i[1]?m+=1:"568"==i[1]?p+=1:"569"==i[1]?v+=1:"541"==i[1]?r+=1:"570"==i[1]&&(y+=1))}d=[];d.push(q[k]);d.push(m+"");d.push(p+"");d.push(v+"");d.push(r+"");d.push(y+"");c.result.datas.push(d)}}b.createMonthDate(c,e,a,"stockcalendar_hk_week_month",!0)}})},getSelfMonthDate:function(e){var a=this.createMonthParma(e),c=this,b=dojo.date.locale.format(a.beginDateOfMonth,{datePattern:"yyyyMMdd",timePattern:"000000"}).replace(" ",""),d=dojo.date.locale.format(a.endDateOfMonth,{datePattern:"yyyyMMdd",timePattern:"000000"}).replace(" ",
""),p=new x({}),v=null,i,v="stockcalendar_hk_week_month";i={__qid:v,begDate:b,endDate:d};var o="";k.getMyselfBlockData(p).then(function(b){for(var d="",b=b.result.datas,q=1;q<b.length;q++)d+=","+b[q][1];var d=d.substring(1),b=new x({}),q=e.renderData.sDate,p=(new Date(q.getFullYear(),q.getMonth()+1,0)).getDate();k.getMyselfStockData(b,d).then(function(b){b=b.result.datas;if(0==b.length){for(var d=[],d={datas:d},b={result:d},d=0;d<p;d++)b.result.datas.push(",0,0,0,0,0".split(","));c.createMonthDate(b,
e,a,v,!0)}else{for(d=0;d<b.length;d++)/^HK{1}/.test(b[d][0])&&(o+=" "+b[d][0].substring(2,b[d][0].indexOf(".")));if(""==o){d=[];d={datas:d};b={result:d};for(d=0;d<p;d++)b.result.datas.push(",0,0,0,0,0".split(","));c.createMonthDate(b,e,a,v,!0)}else o="'"+o.substring(1)+"'",i.stockCode=o,d=new x({}),k.getData(d,i).then(function(b){if(-1>=b.res_type)dijit.byId("basicStandby").hide(),g.set(dojo.byId("weekView"),"display","none"),dijit.byId("nullData").domNode.style.display="block";else if("error"==b.level)dijit.byId("basicStandby").hide(),
g.set(dojo.byId("weekView"),"display","none"),dijit.byId("nullData").domNode.style.display="block";else if(void 0==b.result){for(var b={result:{datas:[]}},d=0;d<p;d++)b.result.datas.push(",0,0,0,0,0".split(","));c.createMonthDate(b,e,a,v,!0)}else{var k=b.result.datas;b.result.datas=[];for(var q=[],d=0;d<p;d++)q.push(dojo.date.locale.format(f.add(a.beginDateOfMonth,"day",d),{datePattern:"yyyyMMdd",timePattern:"000000"}).replace(" ",""));for(var h=0;h<q.length;h++){for(var l=0,m=0,i=0,y=0,n=0,d=0;d<
k.length;d++){var r=k[d];r[0]==q[h]&&("687"==r[1]?l+=1:"568"==r[1]?m+=1:"569"==r[1]?i+=1:"541"==r[1]?y+=1:"570"==r[1]&&(n+=1))}d=[];d.push(q[h]);d.push(l+"");d.push(m+"");d.push(i+"");d.push(y+"");d.push(n+"");b.result.datas.push(d)}c.createMonthDate(b,e,a,v,!0,o)}})}})})},createMonthDate:function(a,b,c,f,p,v){var i=c.rowCount+1,n=this.monthView,u=this,h=M("table",n)[0];h&&d.destroy(h);h=d.create("table",null,n);h.setAttribute("border","0");h.setAttribute("cellpadding","0");h.setAttribute("cellspacing",
"0");h.setAttribute("class","monthTable monthTable_calender");h.setAttribute("id","myMonthTable");h.setAttribute("width","100%");thead=d.create("thead",null,h);tbody=d.create("tbody",null,h);for(var l=n=0,m=0;m<i;m++)if(0==m){var x=d.create("tr",null,thead);thead.setAttribute("class","slick-header");for(var t=0;7>t;t++){var r=d.create("td",null,x);o.set(r,k.createWeeks(c.beginDate,b.renderData,t,"Weeks"));b.renderData.isWeekShow||("\u661f\u671f\u516d"==k.createWeeks(c.beginDate,b.renderData,t,"Weeks")||
"\u661f\u671f\u65e5"==k.createWeeks(c.beginDate,b.renderData,t,"Weeks"))&&g.set(r,"display","none")}}else{x=d.create("tr",null,tbody);for(t=0;7>t;t++){var s=0,r=d.create("td",null,x),H=d.create("dl",null,r);H.setAttribute("class","monthCell");H.setAttribute("data-dojo-attach-point","monthUnit");H.setAttribute("id","stock_stockCalendarHK_view_Cell_0");H.setAttribute("widgetid","stock_stockCalendarHK_view_Cell_0");for(var E=u.styleDate(c.beginDate,n),G=b.renderData.dateLocaleModule.format(E,{selector:"date",
datePattern:"yyyy-MM-dd"}),J=0;2>J;J++)if(0==J){var B=d.create("dt",null,H),z=d.create("span",null,B);z.setAttribute("data-dojo-attach-point","longDate");o.set(z,G);G==b.renderData.dateLocaleModule.format(b.renderData.sDate,{selector:"date",datePattern:"yyyy-MM-dd"})&&g.set(B,"background","-webkit-linear-gradient(top, #abd8ff, #87bdec)")}else{var F=d.create("dd",null,H),I=d.create("dd",null,H),A=d.create("dd",null,H),D=d.create("dd",null,H),z=d.create("span",null,F),N=d.create("span",null,F),O=d.create("span",
null,I),P=d.create("span",null,A),B=d.create("span",null,D);F.setAttribute("class","even");I.setAttribute("class","odd");A.setAttribute("class","even");D.setAttribute("class","odd");if(E.getMonth()==b.renderData.sDate.getMonth()){z.setAttribute("data-dojo-attach-point","gsdt");z.setAttribute("class","gsdt");N.setAttribute("data-dojo-attach-point","zzjqz");O.setAttribute("data-dojo-attach-point","gddh");P.setAttribute("data-dojo-attach-point","xg");B.setAttribute("data-dojo-attach-point","sgjb");o.set(z,
"\u505c\u590d\u724c");o.set(N,"\u65b0\u80a1");o.set(O,"\u62c6\u80a1/\u5e76\u80a1");o.set(P,"\u73b0\u91d1\u5206\u7ea2/\u4f9b\u80a1/\u9001\u80a1");o.set(B,"\u4e1a\u7ee9\u9884\u544a/\u8d22\u52a1\u516c\u544a");var I=d.create("i",null,z),A=d.create("i",null,N),D=d.create("i",null,O),K=d.create("i",null,P),F=d.create("i",null,B);void 0==p?(o.set(I,k.selectDate(a,f,l,s,b,"month")),z.setAttribute("id",a.result.datas[l][0]),z.setAttribute("title","\u516c\u544a/\u505c\u590d\u724c"+k.selectDate(a,f,l,s,b,"month")),
I.setAttribute("id",a.result.datas[l][0]+"_\u516c\u544a/\u505c\u590d\u724c"),1<=dojo.byId(a.result.datas[l][0]+"_\u516c\u544a/\u505c\u590d\u724c").innerHTML&&(g.set(I,"color","#0000FF"),g.set(z,"color","#0000FF")),o.set(D,k.selectDate(a,f,++l,s,b,"month")),O.setAttribute("id",a.result.datas[l][0]),O.setAttribute("title","\u56de\u8d2d/\u589e\u51cf\u6301"+k.selectDate(a,f,l,s,b,"month")),D.setAttribute("id",a.result.datas[l][0]+"_\u56de\u8d2d/\u589e\u51cf\u6301"),1<=dojo.byId(a.result.datas[l][0]+"_\u56de\u8d2d/\u589e\u51cf\u6301").innerHTML&&
(g.set(D,"color","#0000FF"),g.set(O,"color","#0000FF")),o.set(i7,k.selectDate(a,f,++l,s,b,"month")),span7.setAttribute("id",a.result.datas[l][0]),span7.setAttribute("title","\u65b0\u80a1/\u589e\u53d1/\u914d\u80a1/\u5206\u7ea2"+k.selectDate(a,f,l,s,b,"month")),i7.setAttribute("id",a.result.datas[l][0]+"_\u65b0\u80a1/\u589e\u53d1/\u914d\u80a1/\u5206\u7ea2"),1<=dojo.byId(a.result.datas[l][0]+"_\u65b0\u80a1/\u589e\u53d1/\u914d\u80a1/\u5206\u7ea2").innerHTML&&(g.set(i7,"color","#0000FF"),g.set(span7,"color",
"#0000FF")),o.set(A,k.selectDate(a,f,++l,s,b,"month")),N.setAttribute("id",a.result.datas[l][0]),N.setAttribute("title","\u8d22\u62a5\u62ab\u9732"+k.selectDate(a,f,l,s,b,"month")),A.setAttribute("id",a.result.datas[l][0]+"_\u8d22\u62a5\u62ab\u9732"),1<=dojo.byId(a.result.datas[l][0]+"_\u8d22\u62a5\u62ab\u9732").innerHTML&&(g.set(A,"color","#0000FF"),g.set(N,"color","#0000FF")),o.set(F,k.selectDate(a,f,++l,s,b,"month")),B.setAttribute("id",a.result.datas[l][0]),B.setAttribute("title","\u6536\u8d2d\u517c\u5e76"+
k.selectDate(a,f,l,s,b,"month")),F.setAttribute("id",a.result.datas[l][0]+"_\u6536\u8d2d\u517c\u5e76"),1<=dojo.byId(a.result.datas[l][0]+"_\u6536\u8d2d\u517c\u5e76").innerHTML&&(g.set(F,"color","#0000FF"),g.set(B,"color","#0000FF")),o.set(K,k.selectDate(a,f,++l,s,b,"month")),P.setAttribute("id",a.result.datas[l][0]),P.setAttribute("title","\u80a1\u4e1c\u5927\u4f1a"+k.selectDate(a,f,l,s,b,"month")),K.setAttribute("id",a.result.datas[l][0]+"_\u80a1\u4e1c\u5927\u4f1a"),1<=dojo.byId(a.result.datas[l][0]+
"_\u80a1\u4e1c\u5927\u4f1a").innerHTML&&(g.set(K,"color","#0000FF"),g.set(P,"color","#0000FF")),o.set(i6,k.selectDate(a,f,++l,s,b,"month")),span6.setAttribute("id",a.result.datas[l][0]),i6.setAttribute("id",a.result.datas[l][0]+"_\u5176\u4ed6"),1<=dojo.byId(a.result.datas[l][0]+"_\u5176\u4ed6").innerHTML&&(g.set(i6,"color","#0000FF"),g.set(span6,"color","#0000FF")),span6.setAttribute("title","\u5176\u4ed6"+k.selectDate(a,f,l++,s,b,"month"))):(o.set(I,k.selectDate(a,f,l,s,b,"month",p)),z.setAttribute("id",
a.result.datas[l][0]+"_3_"),z.setAttribute("title","\u505c\u590d\u724c"+k.selectDate(a,f,l,s,b,"month",p)),I.setAttribute("id",a.result.datas[l][0]+"_3_"+b.stockCode),1<=dojo.byId(a.result.datas[l][0]+"_3_"+b.stockCode).innerHTML&&(g.set(I,"color","#0000FF"),g.set(z,"color","#0000FF")),o.set(A,k.selectDate(a,f,l,++s,b,"month",p)),N.setAttribute("id",a.result.datas[l][0]+"_5_"),N.setAttribute("title","\u65b0\u80a1"+k.selectDate(a,f,l,s,b,"month",p)),A.setAttribute("id",a.result.datas[l][0]+"_5_"+b.stockCode),
1<=dojo.byId(a.result.datas[l][0]+"_5_"+b.stockCode).innerHTML&&(g.set(A,"color","#0000FF"),g.set(N,"color","#0000FF")),o.set(D,k.selectDate(a,f,l,++s,b,"month",p)),O.setAttribute("id",a.result.datas[l][0]+"_2_"),O.setAttribute("title","\u62c6\u80a1/\u5e76\u80a1"+k.selectDate(a,f,l,s,b,"month",p)),D.setAttribute("id",a.result.datas[l][0]+"_2_"+b.stockCode),1<=dojo.byId(a.result.datas[l][0]+"_2_"+b.stockCode).innerHTML&&(g.set(D,"color","#0000FF"),g.set(O,"color","#0000FF")),o.set(K,k.selectDate(a,
f,l,++s,b,"month",p)),P.setAttribute("id",a.result.datas[l][0]+"_1_"),P.setAttribute("title","\u73b0\u91d1\u5206\u7ea2/\u4f9b\u80a1/\u9001\u80a1"+k.selectDate(a,f,l,s,b,"month",p)),K.setAttribute("id",a.result.datas[l][0]+"_1_"+b.stockCode),1<=dojo.byId(a.result.datas[l][0]+"_1_"+b.stockCode).innerHTML&&(g.set(K,"color","#0000FF"),g.set(P,"color","#0000FF")),B.setAttribute("id",a.result.datas[l][0]+"_4_"),B.setAttribute("title","\u4e1a\u7ee9\u9884\u544a/\u8d22\u52a1\u516c\u544a"+k.selectDate(a,f,
l,s,b,"month",p)),F.setAttribute("id",a.result.datas[l][0]+"_4_"+b.stockCode),z=l,o.set(F,k.selectDate(a,f,l++,++s,b,"month",p)),1<=dojo.byId(a.result.datas[z][0]+"_4_"+b.stockCode).innerHTML&&(g.set(F,"color","#0000FF"),g.set(B,"color","#0000FF")))}else r.setAttribute("class","no_day")}b.renderData.isWeekShow||("\u661f\u671f\u516d"==k.createWeeks(c.beginDate,b.renderData,t,"Weeks")||"\u661f\u671f\u65e5"==k.createWeeks(c.beginDate,b.renderData,t,"Weeks"))&&g.set(r,"display","none");n++}}w(h,"click",
function(a){if(""!=a.target.id){var c=a.target.id,e=null,e=1==a.target.childNodes.length?a.target.innerHTML:a.target.childNodes[1].innerHTML;-1!=c.indexOf("_")&&"0"!=e&&u.mainMonthClick(c,b,v)}});if("none"==dojo.byId("monthView").style.display)dojo.byId("monthView").style.display="block";dijit.byId("basicStandby").hide()},buildGrid:function(a){dijit.byId("basicStandby")._underlayNode.style.background="none";dijit.byId("basicStandby").show();this.parma=a;!1==a.renderData.isSelfShow?this.getMonthData(a):
this.getSelfMonthDate(a)},styleDate:function(a,b){return f.add(a,"day",b)},mainMonthClick:function(a,b,c){_monthDialog=this;var d=a.split("_"),a=d[1],f="";1==a?f="\u516c\u544a/\u505c\u590d\u724c ":2==a?f="\u56de\u8d2d/\u589e\u51cf\u6301":3==a?f="\u65b0\u80a1/\u589e\u53d1/\u914d\u80a1/\u5206\u7ea2":4==a?f="\u8d22\u62a5\u62ab\u9732":5==a?f="\u6536\u8d2d\u517c\u5e76":6==a?f="\u80a1\u4e1c\u5927\u4f1a":7==a&&(f="\u5176\u4ed6");(new p({id:"mainMonthdialog",title:f,refreshOnShow:!0,href:"resources/dialog/mainMonthDialog.html",
style:{width:"900px"},onHide:function(){this.destroyRecursive()},onDownloadEnd:function(){dojo.connect(dijit.byId("mainMonthbtnOk"),"onClick",function(){dijit.byId("mainMonthdialog").onCancel()});_monthDialog.setDialogData(d[0],d[1],b,c)}})).show()},setDialogData:function(b,c,d,f){function g(a,b,c){return"<span data-is-tip-cell=true>"+c+"</span>"}dijit.byId("basicStandby")._underlayNode.style.background="none";dijit.byId("basicStandby").show();columns=[{id:"code",name:"\u80a1\u7968\u4ee3\u7801",field:"code",
width:70,headerCssClass:"font-center",cssClass:"font-center",sortable:!0,cssClass:"font-center"},{id:"name",name:"\u80a1\u7968\u7b80\u79f0",field:"name",width:70,sortable:!0,headerCssClass:"font-center",formatter:g},{id:"date",name:"\u53d1\u751f\u65e5\u671f",field:"date",width:80,headerCssClass:"font-center",sortable:!0,cssClass:"font-center"},{id:"type",name:"\u4e8b\u4ef6\u7c7b\u578b",field:"type",width:120,headerCssClass:"font-center",sortable:!0,formatter:g},{id:"content",name:"\u5185\u5bb9",field:"content",
width:410,headerCssClass:"font-center",sortable:!0,formatter:g}];options={forceFitColumns:!0,enableColumnReorder:!1};var d=new x({}),c=k.createQid(this.parma,b,c),p=[],v=this;if(void 0!=f)c.stockCode=f;k.getData(d,c).then(function(c){if(0>c.res_type||"error"==c.level)dojo.byId("mainMonthdata").innerHTML="\u63d0\u53d6\u6570\u636e\u5931\u8d25,\u8bf7\u91cd\u65b0\u63d0\u53d6";else{p=v.createDetailData(c,b);mstore=new A({data:p});var d;d?d.set("store",new A({data:p})):d=new a({store:mstore,columns:columns,
options:options});d.placeAt("mainMonthdata");k.showTitle(d)}dijit.byId("basicStandby").hide()})},createDetailData:function(a,b){for(var c=[],d=0;d<a.result.datas.length;d++)c.push({code:a.result.datas[d][0],name:a.result.datas[d][1],date:b.substring(0,4)+"-"+b.substring(4,6)+"-"+b.substring(6,8),type:a.result.datas[d][2],content:a.result.datas[d][3]});return c}})})},"url:stock/stockCalendarHK/view/MonthView.html":'<div data-dojo-attach-point="containerNode" >\n\t<div id="monthView" data-dojo-attach-point="monthView" ></div>\n<\!-- \t<div id="nullMsgMonth" data-dojo-type="dijit/layout/ContentPane" class="dojoxFloatingPane dijitContentPane dojoxFloatingPaneFg tc" title="" role="group" style="display:none;position: absolute; visibility: visible; left: 50%; top:50%;margin-left:-160px;margin-top:-60px;width:280px; height: 100px; z-index: 104;"> --\>\n<\!-- \t\t<div tabindex="0" role="button" class="dojoxFloatingPaneTitle" dojoattachpoint="focusNode" draggable="false">\t\t --\>\n<\!-- \t\t\t<span dojoattachpoint="titleNode" class="dijitInline dijitTitleNode">\u63d0\u793a</span> --\>\n<\!-- \t\t</div> --\>\n<\!-- \t\t<div class="tc_text" style="text-align:center;padding:20px;">\u6682\u65e0\u8be5\u6708\u6570\u636e</div> --\>\n<\!-- \t</div> --\>\n</div>',
"stock/stockCalendarHK/view/Header":function(){define("dojo/_base/declare,dojo/_base/lang,dojo/on,dijit/registry,dojo/dom-construct,dojo/text!./Header.html,dojo/store/Memory,dojox/slickgrid/slickgrid,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dojo/data/ItemFileReadStore,dojo/query,dojo/date/locale,dijit/Dialog,dojo/date,dojox/calendar/time,dojox/form/KeyboardSpirit,dojo/dom-style,./CommonMethod".split(","),function(G,n,w,d,g,D,K,M,f,u,A,i,b,E,Q,a,c,x,J,o){return G("stock.stockCalendarHK.view.Header",
[f,u,A],{templateString:D,cDate:null,subclassPage:"0",flag:"dayView",postCreate:function(){this.inherited(arguments);var b=a.add(new Date,"month",4);this.dateChooser.constraints.max=a.add(c.floorToMonth(b),"day",-1);this.dayButton.setAttribute("disabled",!0);this.index.setAttribute("disabled",!0);this.bindEvent();this.createSelect()},bindEvent:function(){w(this.dayButton,"click",n.hitch(this,this.dayClick));w(this.weekButton,"click",n.hitch(this,this.weekClick));w(this.monthButton,"click",n.hitch(this,
this.monthClick));w(this.searchBt,"click",n.hitch(this,this.search));w(this.stockBt,"click",n.hitch(this,this.stockSearch));w(this.exportt,"click",n.hitch(this,this.showExportDialog));w(this.isWeekShow,"click",n.hitch(this,this.checkboxChange));w(this.isSelfstock,"click",n.hitch(this,this.isShowSelfStockInfoChange));w(this.dateChooser,"change",n.hitch(this,this.dateSearch));this.clickButton();this.selectChange()},getSerachTerm:function(){return{sDate:this.dateChooser.value,isWeekShow:this.isWeekShow.checked,
isSelfShow:this.isSelfstock.checked}},getDateTest:function(){var b=a.add(new Date,"month",4),b=a.add(c.floorToMonth(b),"day",-1),d=Number(dojo.date.locale.format(this.dateChooser.value,{datePattern:"yyyyMMdd",timePattern:"000000"}).replace(" ",""));return[b,d]},hideDiv:function(){dijit.byId("nullMsg").domNode.style.display="none";dijit.byId("nullMsgHomePage").domNode.style.display="none";dijit.byId("nullData").domNode.style.display="none";dijit.byId("nullMsgWeek").domNode.style.display="none";dijit.byId("nullSelfMsg").domNode.style.display=
"none";dijit.byId("nullSelfStock").domNode.style.display="none"},doDateViewClick:function(a,b,c,d,f,g,q,i){this.hideDiv();this.dayButton.setAttribute("class",a);this.weekButton.setAttribute("class",b);this.monthButton.setAttribute("class",c);this.dynamic.setAttribute("class","");this.conference.setAttribute("class","");this.share.setAttribute("class","");this.getter.setAttribute("class","");this.newStock.setAttribute("class","");this.dynamic.setAttribute("disabled",!1);this.conference.setAttribute("disabled",
!1);this.share.setAttribute("disabled",!1);this.getter.setAttribute("disabled",!1);this.newStock.setAttribute("disabled",!1);if("9"==this.subclassPage){this.isSelfstock.set("checked",!0);if("dayView"==f)this.index.setAttribute("class",""),this.myself.setAttribute("class","tab_btn_select"),this.index.setAttribute("disabled",!1),this.myself.setAttribute("disabled",!0),this.subclassPage="9",this.calendar.savedParma.id="9";this.calendar.savedSelfStockParma.renderData.sDate=d;this.calendar.savedSelfStockParma.theDate=
dojo.date.locale.format(d,{datePattern:"yyyyMMdd",timePattern:"000000"}).replace(" ","");this.flag=f;if("weekView"==this.flag)this.calendar.savedSelfStockParma.renderData.isSelfShow=this.isSelfstock.checked;else if("monthView"==this.flag)this.calendar.savedSelfStockParma.renderData.isSelfShow=this.isSelfstock.checked;this.inputStockCode.set("value","");this.inputStockCode.setAttribute("disabled",!0);this.stockBt.setAttribute("disabled",!0);this.searchBt.setAttribute("disabled",!0);this.a.setAttribute("disabled",
!0);this.b.setAttribute("disabled",!0);this.c.setAttribute("disabled",!0);this.calendar.switchToView(f,this.calendar.savedSelfStockParma,f)}else{this.isSelfstock.set("checked",!1);if("dayView"==f)this.index.setAttribute("class","tab_btn_select"),this.myself.setAttribute("class","font_color5"),this.index.setAttribute("disabled",!0),this.myself.setAttribute("disabled",!1),this.subclassPage="0",this.calendar.savedParma.id="0";this.calendar.savedParma.renderData.sDate=d;this.calendar.savedParma.theDate=
dojo.date.locale.format(d,{datePattern:"yyyyMMdd",timePattern:"000000"}).replace(" ","");this.flag=f;if("weekView"==this.flag)this.calendar.savedParma.renderData.isSelfShow=this.isSelfstock.checked;else if("monthView"==this.flag)this.calendar.savedParma.renderData.isSelfShow=this.isSelfstock.checked;this.inputStockCode.setAttribute("disabled",!1);this.stockBt.setAttribute("disabled",!1);this.searchBt.setAttribute("disabled",!1);this.a.setAttribute("disabled",!1);this.b.setAttribute("disabled",!1);
this.c.setAttribute("disabled",!1);this.inputStockCode.set("value",this.stockCode);this.calendar.switchToView(f,this.calendar.savedParma,f)}this.dayButton.setAttribute("disabled",g);this.weekButton.setAttribute("disabled",q);this.monthButton.setAttribute("disabled",i)},dayClick:function(){o.clearTimer();void 0==this.dateChooser.value?dijit.byId("dayGrid").destroy():this.dateChooser.value>this.getDateTest()[0]||19900101E6>this.getDateTest()[1]?dijit.byId("dayGrid").destroy():this.doDateViewClick("dateButton btn_group_select",
"dateButton","dateButton",this.dateChooser.get("value"),"dayView",!0,!1,!1)},weekClick:function(){o.clearTimer();void 0==this.dateChooser.value?dijit.byId("dayGrid").destroy():this.dateChooser.value>this.getDateTest()[0]||19900101E6>this.getDateTest()[1]?dijit.byId("dayGrid").destroy():this.doDateViewClick("dateButton","dateButton btn_group_select","dateButton",new Date,"weekView",!1,!0,!1)},monthClick:function(){o.clearTimer();void 0==this.dateChooser.value?dijit.byId("dayGrid").destroy():this.dateChooser.value>
this.getDateTest()[0]||19900101E6>this.getDateTest()[1]?dijit.byId("dayGrid").destroy():this.doDateViewClick("dateButton","dateButton","dateButton btn_group_select",this.dateChooser.get("value"),"monthView",!1,!1,!0)},setSelfSearch:function(a){this.a.set("value","\u5e02\u573a\u5206\u7c7b");this.b.set("value","\u5206\u7c7b\u57fa\u51c6");this.c.set("value","\u884c\u4e1a\u5206\u7c7b");a.marketType=void 0;a.marketTypeValue="\u5e02\u573a\u5206\u7c7b";a.industryBasis="";a.industryBasisValue="\u5206\u7c7b\u57fa\u51c6";
a.industryType="";a.industryTypeValue="\u884c\u4e1a\u5206\u7c7b"},dateSearch:function(){if("9"==this.subclassPage)o.clearTimer(),this.hideDiv(),void 0==this.dateChooser.value?dijit.byId("dayGrid").destroy():this.dateChooser.value>this.getDateTest()[0]||19900101E6>this.getDateTest()[1]?dijit.byId("dayGrid").destroy():(this.stockCode=this.inputStockCode.value,this.dateChooser.on("change",function(){}),this.calendar.savedSelfStockParma.renderData.sDate=this.dateChooser.value,this.calendar.savedParma.renderData.sDate=
this.dateChooser.value,this.calendar.savedSelfStockParma.theDate=dojo.date.locale.format(this.dateChooser.value,{datePattern:"yyyyMMdd",timePattern:"000000"}).replace(" ",""),this.calendar.savedParma.theDate=dojo.date.locale.format(this.dateChooser.value,{datePattern:"yyyyMMdd",timePattern:"000000"}).replace(" ",""),this.calendar.switchToView(null,this.calendar.savedSelfStockParma,this.flag))},search:function(){o.clearTimer();this.hideDiv();void 0==this.dateChooser.value?dijit.byId("dayGrid").destroy():
this.dateChooser.value>this.getDateTest()[0]||19900101E6>this.getDateTest()[1]?dijit.byId("dayGrid").destroy():(this.inputStockCode.set("value",""),this.stockCode=this.inputStockCode.value,9==this.subclassPage?(this.inputStockCode.setAttribute("disabled",!0),this.stockBt.setAttribute("disabled",!0),this.searchBt.setAttribute("disabled",!0),this.a.setAttribute("disabled",!0),this.b.setAttribute("disabled",!0),this.c.setAttribute("disabled",!0),this.calendar.switchToView(null,this.calendar.savedSelfStockParma,
this.flag)):(this.inputStockCode.setAttribute("disabled",!1),this.stockBt.setAttribute("disabled",!1),this.searchBt.setAttribute("disabled",!1),this.a.setAttribute("disabled",!1),this.b.setAttribute("disabled",!1),this.c.setAttribute("disabled",!1),this.calendar.switchToView(null,this.createParma(),this.flag)))},stockSearch:function(){o.clearTimer();this.hideDiv();if(void 0==this.dateChooser.value)dijit.byId("dayGrid").destroy();else if(this.dateChooser.value>this.getDateTest()[0]||19900101E6>this.getDateTest()[1])dijit.byId("dayGrid").destroy();
else{var a=this.createStockSearchParma();this.stockCode=this.inputStockCode.value;this.calendar.switchToView(null,a,this.flag)}},createStockSearchParma:function(){b("#saveData").removeData();this.a.set("value","\u5e02\u573a\u5206\u7c7b");this.b.set("value","\u5206\u7c7b\u57fa\u51c6");this.c.set("value","\u884c\u4e1a\u5206\u7c7b");this.isSelfstock.set("checked",!1);var a=n.mixin(this.calendar.renderData,this.getSerachTerm()),c=dojo.date.locale.format(a.sDate,{datePattern:"yyyyMMdd",timePattern:"000000"}).replace(" ",
""),c={renderData:a,theDate:c,id:this.subclassPage,marketType:void 0,industryBasis:"",industryType:"",marketTypeValue:"\u5e02\u573a\u5206\u7c7b",industryBasisValue:"\u5206\u7c7b\u57fa\u51c6",industryTypeValue:"\u884c\u4e1a\u5206\u7c7b",stockCode:this.inputStockCode.value};"weekView"==this.flag?(c.renderData.sDate=new Date,c.theDate=dojo.date.locale.format(new Date,{datePattern:"yyyyMMdd",timePattern:"000000"}).replace(" ","")):(c.renderData.sDate=a.sDate,c.theDate=dojo.date.locale.format(a.sDate,
{datePattern:"yyyyMMdd",timePattern:"000000"}).replace(" ",""));return c},checkboxChange:function(){this.hideDiv();if("9"==this.subclassPage)if("weekView"==this.flag){this.calendar.savedSelfStockParma.renderData.isWeekShow=this.isWeekShow.checked;var a=this.calendar.savedSelfStockParma}else{if("monthView"==this.flag)this.calendar.savedSelfStockParma.renderData.isWeekShow=this.isWeekShow.checked,a=this.calendar.savedSelfStockParma}else if("weekView"==this.flag)this.calendar.savedParma.renderData.isWeekShow=
this.isWeekShow.checked,a=this.calendar.savedParma;else if("monthView"==this.flag)this.calendar.savedParma.renderData.isWeekShow=this.isWeekShow.checked,a=this.calendar.savedParma;this.calendar.switchToView(null,a,this.flag)},isShowSelfStockInfoChange:function(){this.hideDiv();if(!0==this.isSelfstock.checked){this.inputStockCode.set("value","");this.subclassPage="9";if(null==this.calendar.savedSelfStockParma)this.calendar.savedSelfStockParma=this.calendar.savedParma;this.calendar.savedSelfStockParma.id=
"9";if("weekView"==this.flag){this.calendar.savedSelfStockParma.renderData.isSelfShow=this.isSelfstock.checked;this.calendar.savedSelfStockParma.renderData.isWeekShow=this.isWeekShow.checked;var a=this.calendar.savedSelfStockParma}else if("monthView"==this.flag)this.calendar.savedSelfStockParma.renderData.isSelfShow=this.isSelfstock.checked,this.calendar.savedSelfStockParma.renderData.isWeekShow=this.isWeekShow.checked,a=this.calendar.savedSelfStockParma;this.inputStockCode.setAttribute("disabled",
!0);this.stockBt.setAttribute("disabled",!0);this.a.set("value","\u5e02\u573a\u5206\u7c7b");this.b.set("value","\u5206\u7c7b\u57fa\u51c6");this.c.set("value","\u884c\u4e1a\u5206\u7c7b");this.searchBt.setAttribute("disabled",!0);this.a.setAttribute("disabled",!0);this.b.setAttribute("disabled",!0);this.c.setAttribute("disabled",!0)}else{this.inputStockCode.set("value",this.stockCode);this.subclassPage="0";this.calendar.savedParma.id="0";if("weekView"==this.flag)this.calendar.savedParma.renderData.isSelfShow=
this.isSelfstock.checked,this.calendar.savedParma.renderData.isWeekShow=this.isWeekShow.checked,a=this.calendar.savedParma;else if("monthView"==this.flag)this.calendar.savedParma.renderData.isSelfShow=this.isSelfstock.checked,this.calendar.savedParma.renderData.isWeekShow=this.isWeekShow.checked,a=this.calendar.savedParma;this.inputStockCode.setAttribute("disabled",!1);this.stockBt.setAttribute("disabled",!1);this.searchBt.setAttribute("disabled",!1);this.a.setAttribute("disabled",!1);this.b.setAttribute("disabled",
!1);this.c.setAttribute("disabled",!1);this.a.set("displayedValue",this.calendar.savedParma.marketTypeValue);this.b.set("displayedValue",this.calendar.savedParma.industryBasisValue);this.c.set("displayedValue",this.calendar.savedParma.industryTypeValue)}this.calendar.switchToView(null,a,this.flag)},createSelect:function(){this.a.set("store",i({url:require.toUrl("/stock/stockCalendarHK/resources/marketType.json")}));this.b.set("store",i({url:require.toUrl("/stock/stockCalendarHK/resources/industryBasis.json")}));
this.a.set("value","\u5e02\u573a\u5206\u7c7b");this.b.set("value","\u5206\u7c7b\u57fa\u51c6");this.c.set("value","\u884c\u4e1a\u5206\u7c7b")},selectChange:function(){w(this.b,"change",n.hitch(this,function(){null!=this.b.item?("109929"==this.b.item.id?this.c.set("store",i({url:require.toUrl("/stock/stockCalendarHK/resources/industryOfGICS.json")})):"100062"==this.b.item.id?this.c.set("store",i({url:require.toUrl("/stock/stockCalendarHK/resources/industryOfHS.json")})):(this.calendar.savedParma.industryType=
void 0,this.c.set("store",i({url:require.toUrl("/stock/stockCalendarHK/resources/industryOfAll.json")}))),this.c.set("value","\u884c\u4e1a\u5206\u7c7b")):"GICS\u884c\u4e1a"==this.b.value?this.c.set("store",i({url:require.toUrl("/stock/stockCalendarHK/resources/industryOfGICS.json")})):"\u6052\u751f\u884c\u4e1a"==this.b.value?this.c.set("store",i({url:require.toUrl("/stock/stockCalendarHK/resources/industryOfHS.json")})):this.c.set("store",i({url:require.toUrl("/stock/stockCalendarHK/resources/industryOfAll.json")}))}))},
setClickButtonAttr:function(a,b,c,d,f,g,q,i,n,u,w,x,h,l,m,A,t){o.clearTimer();dijit.byId("nullMsg").domNode.style.display="none";dijit.byId("nullMsgHomePage").domNode.style.display="none";dijit.byId("nullData").domNode.style.display="none";dijit.byId("nullMsgWeek").domNode.style.display="none";dijit.byId("nullSelfMsg").domNode.style.display="none";dijit.byId("nullSelfStock").domNode.style.display="none";if(void 0==this.dateChooser.value)dijit.byId("dayGrid").destroy();else if(this.dateChooser.value>
this.getDateTest()[0]||19900101E6>this.getDateTest()[1])dijit.byId("dayGrid").destroy();else{this.index.setAttribute("class",a);this.dynamic.setAttribute("class",b);this.conference.setAttribute("class",c);this.share.setAttribute("class",d);this.getter.setAttribute("class",f);this.newStock.setAttribute("class",g);this.myself.setAttribute("class",q);this.subclassPage=i;this.calendar.savedParma.id=n;this.index.setAttribute("disabled",u);this.dynamic.setAttribute("disabled",w);this.conference.setAttribute("disabled",
x);this.share.setAttribute("disabled",h);this.getter.setAttribute("disabled",l);this.newStock.setAttribute("disabled",m);this.myself.setAttribute("disabled",A);if("9"==i){if(void 0==this.isSelf)this.isSelf=!0;this.inputStockCode.set("value","");this.inputStockCode.setAttribute("disabled",!0);this.stockBt.setAttribute("disabled",!0);this.searchBt.setAttribute("disabled",!0);this.a.setAttribute("disabled",!0);this.b.setAttribute("disabled",!0);this.c.setAttribute("disabled",!0);this.setSelfSearch(t);
t.id=n}else void 0!=this.isSelf&&(this.a.set("displayedValue",t.marketTypeValue),this.b.set("displayedValue",t.industryBasisValue),this.c.set("displayedValue",t.industryTypeValue),this.inputStockCode.set("value",this.stockCode)),this.inputStockCode.setAttribute("disabled",!1),this.stockBt.setAttribute("disabled",!1),this.searchBt.setAttribute("disabled",!1),this.a.setAttribute("disabled",!1),this.b.setAttribute("disabled",!1),this.c.setAttribute("disabled",!1);this.dayView.buildGrid(t)}},clickButton:function(){w(this.index,
"click",n.hitch(this,function(){this.setClickButtonAttr("tab_btn_select","","","","","","font_color5","0","0",!0,!1,!1,!1,!1,!1,!1,this.calendar.savedParma)}));w(this.dynamic,"click",n.hitch(this,function(){this.setClickButtonAttr("","tab_btn_select","","","","","font_color5","1","1",!1,!0,!1,!1,!1,!1,!1,this.calendar.savedParma)}));w(this.conference,"click",n.hitch(this,function(){this.setClickButtonAttr("","","tab_btn_select","","","","font_color5","2","2",!1,!1,!0,!1,!1,!1,!1,this.calendar.savedParma)}));
w(this.share,"click",n.hitch(this,function(){this.setClickButtonAttr("","","","tab_btn_select","","","font_color5","3","3",!1,!1,!1,!0,!1,!1,!1,this.calendar.savedParma)}));w(this.getter,"click",n.hitch(this,function(){this.setClickButtonAttr("","","","","tab_btn_select","","font_color5","4","4",!1,!1,!1,!1,!0,!1,!1,this.calendar.savedParma)}));w(this.newStock,"click",n.hitch(this,function(){this.setClickButtonAttr("","","","","","tab_btn_select","font_color5","5","5",!1,!1,!1,!1,!1,!0,!1,this.calendar.savedParma)}));
w(this.myself,"click",n.hitch(this,function(){if(null==this.calendar.savedSelfStockParma)this.calendar.savedSelfStockParma=n.clone(this.calendar.savedParma);this.setClickButtonAttr("","","","","","","tab_btn_select","9","9",!1,!1,!1,!1,!1,!1,!0,this.calendar.savedSelfStockParma)}))},createParma:function(){this.marketType=null!=this.a.item?[this.a.item.id[0],this.a.value]:void 0!=this.calendar.savedParma.marketType?[this.calendar.savedParma.marketType,this.calendar.savedParma.marketTypeValue]:[void 0,
"\u5e02\u573a\u5206\u7c7b"];this.industryBasis=null!=this.b.item?[this.b.item.id[0],this.b.value]:void 0!=this.calendar.savedParma.industryBasis?[this.calendar.savedParma.industryBasis,this.calendar.savedParma.industryBasisValue]:["","\u5206\u7c7b\u57fa\u51c6"];this.industryType=null!=this.c.item?[this.c.item.id[0],this.c.value]:void 0!=this.calendar.savedParma.industryType?[this.calendar.savedParma.industryType,this.calendar.savedParma.industryTypeValue]:["","\u884c\u4e1a\u5206\u7c7b"];b("#saveData").removeData();
var a=n.mixin(this.calendar.renderData,this.getSerachTerm()),c={renderData:a,theDate:null,id:this.subclassPage,marketType:this.marketType[0],industryBasis:this.industryBasis[0],industryType:this.industryType[0],marketTypeValue:this.marketType[1],industryBasisValue:this.industryBasis[1],industryTypeValue:this.industryType[1],stockCode:void 0};"weekView"==this.flag?(c.renderData.sDate=new Date,c.theDate=dojo.date.locale.format(new Date,{datePattern:"yyyyMMdd",timePattern:"000000"}).replace(" ","")):
(c.renderData.sDate=a.sDate,c.theDate=dojo.date.locale.format(a.sDate,{datePattern:"yyyyMMdd",timePattern:"000000"}).replace(" ",""));return c},saveAsExcel:function(a,b,c,d,f){var b=b||"",c=c||a||"\u5927\u667a\u6167\u6570\u636e\u5bfc\u51fa",g=[],a=d.length,i=["<html xmlns:x='urn:schemas-microsoft-com:office:excel'><head><\!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>"];i.push(c);i.push("</x:Name><x:WorksheetOptions><x:Panes></x:Panes></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\><meta http-equiv='content-type' content='text/html; charset=gbk'><style>.text { font-family:Arial;font-size:10pt;mso-number-format:'@';}</style></head>");
i.push("<body>");i.push("<table width='100%' border='1' cellpadding='0' bordercolorlight='#999999' bordercolordark='#FFFFFF' cellspacing='0' align='center'>");i.push(b);i.push("<tr>");for(var b=0,n=f.length;b<n;b++)f[b].field&&(g.push(f[b].field),i.push("<th><div>"),i.push(f[b].name),i.push("</div></th>"));i.push("</tr>");for(b=0;b<a;b++){i.push("<tr>");i.push("<td>");i.push(b+1+"&nbsp;");i.push("</td>");for(f=0;4>f;f++)i.push("<td>"),i.push(d[b][f]+"&nbsp;"),i.push("</td>");i.push("</tr>")}i.push("</table>");
i.push("</body>");window.external.saveas?window.external.saveas(i.join(""),c,"xls"):alert("\u8bf7\u5728\u5927\u667a\u6167\u5ba2\u6237\u7aef\u4f7f\u7528")},showExportDialog:function(){var a=this,c=[{id:"no",name:"\u5e8f\u53f7",field:"no"},{id:"stockCode",name:"\u8bc1\u5238\u4ee3\u7801",field:"stockCode"},{id:"stockName",name:"\u8bc1\u5238\u540d\u79f0",field:"stockName"},{id:"memoName",name:"\u4e8b\u4ef6\u7c7b\u578b",field:"memoName"},{id:"memoTitle",name:"\u5185\u5bb9",field:"memoTitle"}];(new Q({id:"exportDialog",
title:"\u5bfc\u51fa\u6570\u636e",refreshOnShow:!0,href:"resources/dialog/exportDialog.html",style:{width:"300px"},onHide:function(){this.destroyRecursive()},onLoad:function(){dojo.connect(dijit.byId("btnOk"),"onClick",function(){var d=a.calendar.savedParma;b("#saveData").data(d.id);"0"==d.id?a.saveAsExcel("\u9996\u9875","","\u9996\u9875",b("#saveData").data(d.id)[0],c):"1"==d.id?a.saveAsExcel("\u73b0\u91d1\u5206\u7ea2\u4f9b\u80a1\u9001\u80a1","","\u73b0\u91d1\u5206\u7ea2\u4f9b\u80a1\u9001\u80a1",
b("#saveData").data(d.id)[0],c):"2"==d.id?a.saveAsExcel("\u62c6\u80a1\u5e76\u80a1","","\u62c6\u80a1\u5e76\u80a1",b("#saveData").data(d.id)[0],c):"3"==d.id?a.saveAsExcel("\u505c\u590d\u724c","","\u505c\u590d\u724c",b("#saveData").data(d.id)[0],c):"4"==d.id?a.saveAsExcel("\u4e1a\u7ee9\u9884\u544a\u8d22\u52a1\u516c\u544a","","\u4e1a\u7ee9\u9884\u544a\u8d22\u52a1\u516c\u544a",b("#saveData").data(d.id)[0],c):"5"==d.id?a.saveAsExcel("\u65b0\u80a1","","\u65b0\u80a1",b("#saveData").data(d.id)[0],c):"9"==
d.id&&a.saveAsExcel("\u81ea\u9009\u80a1","","\u81ea\u9009\u80a1",b("#saveData").data(d.id)[0],c);dijit.byId("exportDialog").onCancel()})}})).show()}})})},"url:stock/stockCalendarHK/view/Header.html":'<div data-dojo-attach-point="containerNode">\t\r\n\t\t<div data-dojo-attach-point="toolbar" data-dojo-type="dijit/Toolbar" data-dojo-props="class:\'toolbar-top\'">\r\n\t\t\t<div class="calendar_tag_box">\r\n\t\t\t\t<input data-dojo-attach-point="dateChooser" data-dojo-props="lang:\'zh-cn\',value:new Date()" constraints="{datePattern:\'yyyy-MM-dd\',min:\'1990-01-01\'}" data-dojo-type="dijit/form/DateTextBox"/>\r\n\t\t\t</div>\r\n\t\t\t<span data-dojo-type="dijit/ToolbarSeparator"></span>\r\n\t\t\t<div class="button_box">\r\n\t\t\t\t<button data-dojo-attach-point="dayButton" data-dojo-type="dijit/form/Button"  class="dateButton btn_group_select">\u65e5</button>\r\n\t\t\t\t<button data-dojo-attach-point="weekButton" data-dojo-type="dijit/form/Button" class="dateButton">\u5468</button>\t\t\t\r\n\t\t\t\t<button data-dojo-attach-point="monthButton" data-dojo-type="dijit/form/Button" class="dateButton">\u6708</button>\r\n\t\t\t</div>\r\n\t\t\t<select  data-dojo-type="dijit/form/ComboBox" name="a" data-dojo-props="readonly:\'readonly\'" data-dojo-attach-point="a">\r\n\t\t\t</select>\r\n\t\t\t<select  data-dojo-type="dijit/form/ComboBox"  name="b" data-dojo-props="readonly:\'readonly\'" data-dojo-attach-point="b">\r\n\t\t\t</select>\r\n\t\t\t<select  data-dojo-type="dijit/form/ComboBox"   name="c" data-dojo-props="readonly:\'readonly\'" data-dojo-attach-point="c">\r\n\t\t\t</select>\r\n\t\t\t\r\n\t\t\t<button data-dojo-type="dijit/form/Button" id="searchBt" data-dojo-attach-point="searchBt" data-dojo-props=\'label:"\u67e5\u8be2"\'>\r\n\t\t\t\u67e5\u8be2\r\n\t\t\t</button>\r\n\t\t\t<input type="checkbox" data-dojo-attach-point="isWeekShow" data-dojo-type="dijit/form/CheckBox" checked="true"/>\r\n\t\t\t<label id="weekLabel" for="calendar2CB">\u663e\u793a\u5468\u672b</label>\r\n\t\t\t<input type="checkbox" data-dojo-attach-point="isSelfstock" data-dojo-type="dijit/form/CheckBox" checked="false"/>\r\n\t\t\t<label id="selfstock" for="calendar2CB">\u81ea\u9009\u80a1</label>\r\n\t\t\t<div class="seacher-bar-box">\r\n<\!-- \t\t\t\t<div data-dojo-type="dijit/form/ComboBox" data-dojo-attach-point="inputStockCode" --\>\r\n<\!-- \t\t\t\t\tdata-dojo-props="hasDownArrow:false,value:\'\u8f93\u5165\u80a1\u7968\u4ee3\u7801\'"> --\>\r\n<\!-- \t\t\t\t</div> --\>\r\n\t\t\t\t<div data-dojo-attach-point="inputStockCode" data-dojo-type="dojox/form/KeyboardSpirit" style="width:100px"\r\n\t\t\t\t\tdata-dojo-props="hasDownArrow:false,placeHolder:\'\u8f93\u5165\u80a1\u7968\u4ee3\u7801\',maxHeight:220"></div>\r\n\t\t\t\t<button data-dojo-type="dijit/form/Button" id="stockBt" data-dojo-attach-point="stockBt" data-dojo-props=\'label:"\u3000"\'>\r\n\t\t\t\tnbsp;\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div data-dojo-attach-point="dheader" data-dojo-type="dijit.Toolbar" data-dojo-props="class:\'toolbar_tab\'">\r\n\t\t\t<div class="tab_group_box">\r\n\t\t\t\t<div class="tab_btn_box">\r\n\t\t\t\t\t<button data-dojo-type="dijit/form/Button" data-dojo-attach-point="index" class="tab_btn_select">\u9996\u9875</button>\r\n\t\t\t\t\t<button data-dojo-type="dijit/form/Button" data-dojo-attach-point="dynamic">\u73b0\u91d1\u5206\u7ea2/\u4f9b\u80a1/\u9001\u80a1</button>\r\n\t\t\t\t\t<button data-dojo-type="dijit/form/Button" data-dojo-attach-point="conference">\u62c6\u80a1/\u5e76\u80a1</button>\r\n\t\t\t\t\t<button data-dojo-type="dijit/form/Button" data-dojo-attach-point="share">\u505c\u590d\u724c</button>\r\n\t\t\t\t\t<button data-dojo-type="dijit/form/Button" data-dojo-attach-point="getter">\u4e1a\u7ee9\u9884\u544a/\u8d22\u52a1\u516c\u544a</button>\r\n\t\t\t\t\t<button data-dojo-type="dijit/form/Button" data-dojo-attach-point="newStock">\u65b0\u80a1</button>\r\n\t\t\t\t\t<button data-dojo-type="dijit/form/Button" data-dojo-attach-point="myself" class="font_color5">\u81ea\u9009\u80a1</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="tab_output_box">\r\n\t\t\t\t\t<button data-dojo-type="dijit/form/Button" data-dojo-attach-point="exportt" >\u5bfc\u51fa</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<\!-- \t<div id="dateUndefined" data-dojo-type="dijit/layout/ContentPane" class="dojoxFloatingPane dijitContentPane dojoxFloatingPaneFg tc" title="" role="group" style="display:none;position: absolute; visibility: visible; left: 50%; top:50%;margin-left:-160px;margin-top:-60px;width:280px; height: 100px; z-index: 104;"> --\>\r\n<\!-- \t\t<div tabindex="0" role="button" class="dojoxFloatingPaneTitle" dojoattachpoint="focusNode" draggable="false">\t\t --\>\r\n\t\t\t\r\n<\!-- \t\t\t<span dojoattachpoint="titleNode" class="dijitInline dijitTitleNode">\u63d0\u793a</span> --\>\r\n<\!-- \t\t</div> --\>\r\n<\!-- \t\t<div class="tc_text" style="text-align:center;padding:20px;">\u65e5\u671f\u683c\u5f0f\u8f93\u5165\u4e0d\u6b63\u786e</div> --\>\r\n<\!-- \t</div> --\>\r\n<\!-- \t<div id="dateOut" data-dojo-type="dijit/layout/ContentPane" class="dojoxFloatingPane dijitContentPane dojoxFloatingPaneFg tc" title="" role="group" style="display:none;position: absolute; visibility: visible; left: 50%; top:50%;margin-left:-160px;margin-top:-60px;width:280px; height: 100px; z-index: 104;"> --\>\r\n<\!-- \t\t<div tabindex="0" role="button" class="dojoxFloatingPaneTitle" dojoattachpoint="focusNode" draggable="false">\t\t --\>\r\n\t\t\t\r\n<\!-- \t\t\t<span dojoattachpoint="titleNode" class="dijitInline dijitTitleNode">\u63d0\u793a</span> --\>\r\n<\!-- \t\t</div> --\>\r\n<\!-- \t\t<div class="tc_text" style="text-align:center;padding:20px;">\u671f\u95f4\u8d85\u51fa\u8303\u56f4</div> --\>\r\n<\!-- \t</div> --\>\r\n </div>\r\n'}});
define("stock/stockCalendarHK/src",["dojo/parser","stock/stockCalendarHK/view/Calendar"],function(G){return function(){G.parse().then(function(){dijit.byId("basicStandby")._underlayNode.style.background="none"})}});