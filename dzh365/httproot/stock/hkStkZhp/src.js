/*
	Copyright (c) 2012-2013,   To get sources and documentation, please visit:

		http://dms.gw.com.cn
*/

//>>built
require({cache:{"stock/hkStkZhp/view/main":function(){define("dojo/_base/declare,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dijit/layout/_ContentPaneResizeMixin,dojo/_base/array,dojo/_base/lang,dijit/registry,dojo/text!./main.html,dojo/parser,dojox/slickgrid/slickgrid,dojox/slickgrid/quotegrid,dojo/store/Memory,dojox/store/GridWSStore,dojox/kline/Kline,stock/hkStkZhp/public/format,stock/hkStkZhp/public/htmlFormat,stock/hkStkZhp/public/dataFormat,dojox/store/KlineWSStore,dojox/store/MultiResultStore,dojo/aspect,dojox/slickgrid/sogrid,dojox/store/GridSOStore,dojo/io-query,dojo/date,dojo/date/locale,dojox/websocket/WebsocketFileReader,dojo/dom,./newsStore,dijit/layout/ContentPane,dijit/layout/TabContainer".split(","),
function(g,h,b,e,a,d,c,f,l,m,k,n,o,i,u,j,v,p,w,y,r,z,A,s,B,C,D,t,x){return g("demos.quotegrid.view.main",[h,b,e,a],{templateString:l,postMixInProperties:function(){},postCreate:function(){this.inherited(arguments);this.createNewsGrid();this.createNewStkGrid();this.createGrid(28);this.createDraw();dojo.connect(this.toptabContainer.tablist,"onSelectChild",c.hitch(this,"switchTopTab"));dojo.connect(this.midtabContainer.tablist,"onSelectChild",c.hitch(this,"switchMidTab"));dojo.connect(t.byId("newsLink"),
"click",function(){location.href="dzh://browse?'dzhd://DZH2/news/nSection.dzh.ui?className=\u9999\u6e2f\u80a1\u5e02\u65b0\u95fb&keyWord=HSN'"})},arrayToJA:function(a){var c=[];a.forEach(function(a){a=a.map(function(a){return{stockid:a.stkCode,stockname:a.stkName}});c.push(a)});return c},arrayToJA3:function(a){var c=[];a.forEach(function(a){a=a.map(function(a){return{stockid:a.stockid.replace("HK0","HK"),stockname:a.stockname}});c.push(a)});return c},getCodes:function(a){var c=[];a.forEach(function(a){a=
a.map(function(a){return a.stkCode});c.push(a)});return c},getCodes2:function(a){var c=[];a.forEach(function(a){a=a.map(function(a){return a.stockid.replace("HK0","HK")});c.push(a)});return c},switchTopTab:function(a){if("\u70ed\u95e8AH\u80a1"==a.title){if(!this.toptab0)this.createHotStk(0),this.toptab0=!0}else if("\u70ed\u95e8\u6e2f\u80a1"==a.title&&!this.toptab1)this.createHotStk(1),this.toptab1=!0},switchMidTab:function(a){if("AH\u80a1"==a.title){var c="dzh://VIEWLIST?MARKET=HSAH\u80a1&page=\u884c\u60c5";
if(!this.tab2)this.createMidStk(2),this.createMidStk(3),this.createMidStk(4),this.tab2=!0}else if("\u6e2f\u80a1"==a.title){if(c="dzh://VIEWLIST?MARKET=HK\u9999\u6e2f\u4e3b\u677f&PAGE=\u54c1\u79cd\u76f8\u5173",!this.tab3)this.createMidStk(5),this.createMidStk(6),this.createMidStk(7),this.tab3=!0}else if("\u521b\u4e1a\u677f"==a.title){if(c="dzh://VIEWLIST?MARKET=HK\u9999\u6e2f\u521b\u4e1a\u677f&PAGE=\u54c1\u79cd\u76f8\u5173",!this.tab4)this.createMidStk(8),this.createMidStk(9),this.createMidStk(10),
this.tab4=!0}else if("\u56fd\u4f01"==a.title){if(c="dzh://VIEWLIST?MARKET=@B\u56fd\u4f01\u80a1&PAGE=\u884c\u60c5",!this.tab5)this.createMidStk(11),this.createMidStk(12),this.createMidStk(13),this.tab5=!0}else if("\u7ea2\u7b79"==a.title){if(c="dzh://VIEWLIST?MARKET=@B\u7ea2\u7b79\u80a1&PAGE=\u884c\u60c5",!this.tab6)this.createMidStk(14),this.createMidStk(15),this.createMidStk(16),this.tab6=!0}else if("\u84dd\u7b79"==a.title){if(c="dzh://VIEWLIST?MARKET=@B\u84dd\u7b79\u80a1&PAGE=\u884c\u60c5",!this.tab7)this.createMidStk(17),
this.createMidStk(18),this.createMidStk(19),this.tab7=!0}else if("\u8ba4\u80a1\u8bc1"==a.title){if(c="dzh://VIEWLIST?MARKET=HK\u9999\u6e2f\u6743\u8bc1&PAGE=\u54c1\u79cd\u76f8\u5173",!this.tab8)this.createMidStk(20),this.createMidStk(21),this.createMidStk(22),this.tab8=!0}else if("\u725b\u718a\u8bc1"==a.title&&(c="dzh://VIEWLIST?MARKET=HK\u725b\u718a\u8bc1&PAGE=\u54c1\u79cd\u76f8\u5173",!this.tab9))this.createMidStk(23),this.createMidStk(24),this.createMidStk(25),this.tab9=!0;dojo.connect(t.byId("mid"),
"click",function(){location.href=c})},createDraw:function(){this.createChart("HIHSI.index","chart1");this.createChart("HIHSCEI.index","chart2");this.createChart("HIHSCCI.index","chart3")},createChart:function(a,c){var b={store:new w,query:{obj:[{code:a}]},chartParams:{type:5,toFixNum:2,timetrendType:1,timetrendIsFill:!0},plotCss:{background:"#111",timetrendFillColors:["#111111","#0071FB"],timetrendFillAlpha:0.7,label:"#7e7e7e",upStyle:{candle:{type:"stroke",color:"#ff5252"}},downStyle:{candle:{type:"fill",
color:"#1cd81c"}}}};this.kline=new u(b,c)},createHotStkGrid:function(a,c){var b=this,e=[];1==c?q="stockLED_get_HK_HotAH":2==c&&(q="stockLED_get_HK_HotStk");var d={service:"rpc",so:"javadataproxy.jar","function":"gw/UIMain",paraencode:"base64",parameter:"Z2V0,"+btoa("http://10.15.107.175:9089/webquery/common?"+s.objectToQuery({__qid:q})),response_times:1,response_mode:0};(new i).query(d).then(function(c){e.push(c);b.createHotStk(a,e)})},createHotStk:function(a){var b=new j,e=new p,d=[],d=0==a?[{stockid:"HK0386.stk",
stockname:"\u4e2d\u56fd\u77f3\u6cb9\u5316\u5de5"},{stockid:"HK0753.stk",stockname:"\u4e2d\u56fd\u56fd\u822a"},{stockid:"HK0762.stk",stockname:"\u4e2d\u56fd\u8054\u901a"},{stockid:"HK0857.stk",stockname:"\u4e2d\u56fd\u77f3\u6cb9"},{stockid:"HK0914.stk",stockname:"\u5b89\u5fbd\u6d77\u87ba\u6c34\u6ce5"},{stockid:"HK0939.stk",stockname:"\u5efa\u8bbe\u94f6\u884c"},{stockid:"HK0998.stk",stockname:"\u4e2d\u4fe1\u94f6\u884c"},{stockid:"HK1088.stk",stockname:"\u4e2d\u56fd\u795e\u534e"},{stockid:"HK1171.stk",
stockname:"\u5156\u5dde\u7164\u4e1a"},{stockid:"HK1288.stk",stockname:"\u519c\u4e1a\u94f6\u884c"},{stockid:"HK1336.stk",stockname:"\u65b0\u534e\u4fdd\u9669"},{stockid:"HK1398.stk",stockname:"\u5de5\u5546\u94f6\u884c"}]:[{stockid:"HK1171.stk",stockname:"\u5156\u5dde\u7164\u4e1a"},{stockid:"HK1288.stk",stockname:"\u519c\u4e1a\u94f6\u884c"},{stockid:"HK1336.stk",stockname:"\u65b0\u534e\u4fdd\u9669"},{stockid:"HK0386.stk",stockname:"\u4e2d\u56fd\u77f3\u6cb9\u5316\u5de5"},{stockid:"HK0753.stk",stockname:"\u4e2d\u56fd\u56fd\u822a"},
{stockid:"HK0762.stk",stockname:"\u4e2d\u56fd\u8054\u901a"},{stockid:"HK0857.stk",stockname:"\u4e2d\u56fd\u77f3\u6cb9"},{stockid:"HK0914.stk",stockname:"\u5b89\u5fbd\u6d77\u87ba\u6c34\u6ce5"},{stockid:"HK0939.stk",stockname:"\u5efa\u8bbe\u94f6\u884c"},{stockid:"HK0998.stk",stockname:"\u4e2d\u4fe1\u94f6\u884c"},{stockid:"HK1088.stk",stockname:"\u4e2d\u56fd\u795e\u534e"},{stockid:"HK1398.stk",stockname:"\u5de5\u5546\u94f6\u884c"}];columns=[{id:"stockname",name:"\u540d\u79f0",field:"stockname",width:120,
formatter:b.hidden,headerCssClass:"font-center",cssClass:"font-left",sortable:!1},{id:"new",name:"\u6700\u65b0\u4ef7",field:"new",width:70,formatter:c.hitch(b,b.priceUdFormatter),cssClass:"font-right",headerCssClass:"font-right",sortable:!1},{id:"updn",name:"\u6da8\u8dcc\u989d",field:"updn",width:75,formatter:c.hitch(b,b.priceUdFormatter),cssClass:"font-right",headerCssClass:"font-right",sortable:!1},{id:"updnratio",name:"\u6da8\u8dcc\u5e45(%)",width:73,field:"updnratio",formatter:c.hitch(b,b.zfFormatter),
cssClass:"font-right",headerCssClass:"font-right",sortable:!1},{id:"open",name:"\u5f00\u76d8",field:"open",width:75,formatter:c.hitch(b,b.priceUdFormatter),cssClass:"font-right",headerCssClass:"font-right",sortable:!1},{id:"high",name:"\u6700\u9ad8",field:"high",width:75,formatter:c.hitch(b,b.priceUdFormatter),cssClass:"font-right",headerCssClass:"font-right",sortable:!1},{id:"low",name:"\u6700\u4f4e",field:"low",width:75,formatter:c.hitch(b,b.priceUdFormatter),cssClass:"font-right",headerCssClass:"font-right",
sortable:!1},{id:"amount",name:"\u6210\u4ea4\u989d",field:"amount",width:72,formatter:c.hitch(b,b.amountFormatter),cssClass:"font-right",headerCssClass:"font-right",sortable:!1},{id:"time",name:"time",field:"time",width:0,cssClass:"font-right",formatter:c.hitch(b,b.timeFormatter),headerCssClass:"font-right",sortable:!1}];b=new i({idProperty:"stockid",data:d,formatter:function(a){var a=a[0],c;for(c in a)a[c]=e.handleRawData(c,a[c]);return a}});a=new n({store:b,service:"objinfo",type:"getinfo",field:"obj,label,name,new,updn,updnratio,open,high,low,amount,time",
columns:columns,options:{hideBorder:"all"},response_times:-1,response_mode:0},"newGrid"+a);a.startup();r.before(a.get("pushStore"),"convert",function(a){for(var a=a.result.datas,c=0,b=a.length;c<b;c++)a[c][0]=a[c][0].replace("HK0","HK")});a.on("dblclick",function(a){location.href=" DZH://VIEWSTOCK?DATATYPE=DAY&LAYOUT=Level2\u9ed8\u8ba4&PAGE=\u5206\u65f6\u8d70\u52bf&LABEL="+a.target.dataset.id})},createMidStk:function(a){var b=new j,e=new p,d=[];2==a||3==a||4==a?d=[{stockid:"HK0386.stk",label:"0386",
stockname:"\u4e2d\u56fd\u77f3\u6cb9\u5316\u5de5"},{stockid:"HK0753.stk",label:"0753",stockname:"\u4e2d\u56fd\u56fd\u822a"},{stockid:"HK0762.stk",label:"0762",stockname:"\u4e2d\u56fd\u8054\u901a"},{stockid:"HK0857.stk",label:"0857",stockname:"\u4e2d\u56fd\u77f3\u6cb9"},{stockid:"HK0914.stk",label:"0914",stockname:"\u5b89\u5fbd\u6d77\u87ba\u6c34\u6ce5"},{stockid:"HK0939.stk",label:"0939",stockname:"\u5efa\u8bbe\u94f6\u884c"},{stockid:"HK0998.stk",label:"0998",stockname:"\u4e2d\u4fe1\u94f6\u884c"}]:
5==a||6==a||7==a?d=[{stockid:"HK1171.stk",label:"1171",stockname:"\u5156\u5dde\u7164\u4e1a"},{stockid:"HK1288.stk",label:"1288",stockname:"\u519c\u4e1a\u94f6\u884c"},{stockid:"HK1336.stk",label:"1336",stockname:"\u65b0\u534e\u4fdd\u9669"},{stockid:"HK0386.stk",label:"0386",stockname:"\u4e2d\u56fd\u77f3\u6cb9\u5316\u5de5"},{stockid:"HK0753.stk",label:"0753",stockname:"\u4e2d\u56fd\u56fd\u822a"},{stockid:"HK0762.stk",label:"0762",stockname:"\u4e2d\u56fd\u8054\u901a"},{stockid:"HK0857.stk",label:"0857",
stockname:"\u4e2d\u56fd\u77f3\u6cb9"}]:8==a||9==a||10==a?d=[{stockid:"HK0386.stk",label:"0386",stockname:"\u4e2d\u56fd\u77f3\u6cb9\u5316\u5de5"},{stockid:"HK0753.stk",label:"0753",stockname:"\u4e2d\u56fd\u56fd\u822a"},{stockid:"HK0762.stk",label:"0762",stockname:"\u4e2d\u56fd\u8054\u901a"},{stockid:"HK0857.stk",label:"0857",stockname:"\u4e2d\u56fd\u77f3\u6cb9"},{stockid:"HK0914.stk",label:"0914",stockname:"\u5b89\u5fbd\u6d77\u87ba\u6c34\u6ce5"},{stockid:"HK0939.stk",label:"0939",stockname:"\u5efa\u8bbe\u94f6\u884c"},
{stockid:"HK0998.stk",label:"0998",stockname:"\u4e2d\u4fe1\u94f6\u884c"}]:11==a||12==a||13==a?d=[{stockid:"HK1171.stk",label:"1171",stockname:"\u5156\u5dde\u7164\u4e1a"},{stockid:"HK1288.stk",label:"1288",stockname:"\u519c\u4e1a\u94f6\u884c"},{stockid:"HK1336.stk",label:"1336",stockname:"\u65b0\u534e\u4fdd\u9669"},{stockid:"HK0386.stk",label:"0386",stockname:"\u4e2d\u56fd\u77f3\u6cb9\u5316\u5de5"},{stockid:"HK0753.stk",label:"0753",stockname:"\u4e2d\u56fd\u56fd\u822a"},{stockid:"HK0762.stk",label:"0762",
stockname:"\u4e2d\u56fd\u8054\u901a"},{stockid:"HK0857.stk",label:"0857",stockname:"\u4e2d\u56fd\u77f3\u6cb9"}]:14==a||15==a||16==a?d=[{stockid:"HK0386.stk",label:"0386",stockname:"\u4e2d\u56fd\u77f3\u6cb9\u5316\u5de5"},{stockid:"HK0753.stk",label:"0753",stockname:"\u4e2d\u56fd\u56fd\u822a"},{stockid:"HK0762.stk",label:"0762",stockname:"\u4e2d\u56fd\u8054\u901a"},{stockid:"HK0857.stk",label:"0857",stockname:"\u4e2d\u56fd\u77f3\u6cb9"},{stockid:"HK0914.stk",label:"0914",stockname:"\u5b89\u5fbd\u6d77\u87ba\u6c34\u6ce5"},
{stockid:"HK0939.stk",label:"0939",stockname:"\u5efa\u8bbe\u94f6\u884c"},{stockid:"HK0998.stk",label:"0998",stockname:"\u4e2d\u4fe1\u94f6\u884c"}]:17==a||18==a||19==a?d=[{stockid:"HK1171.stk",label:"1171",stockname:"\u5156\u5dde\u7164\u4e1a"},{stockid:"HK1288.stk",label:"1288",stockname:"\u519c\u4e1a\u94f6\u884c"},{stockid:"HK1336.stk",label:"1336",stockname:"\u65b0\u534e\u4fdd\u9669"},{stockid:"HK0386.stk",label:"0386",stockname:"\u4e2d\u56fd\u77f3\u6cb9\u5316\u5de5"},{stockid:"HK0753.stk",label:"0753",
stockname:"\u4e2d\u56fd\u56fd\u822a"},{stockid:"HK0762.stk",label:"0762",stockname:"\u4e2d\u56fd\u8054\u901a"},{stockid:"HK0857.stk",label:"0857",stockname:"\u4e2d\u56fd\u77f3\u6cb9"}]:20==a||21==a||22==a?d=[{stockid:"HK0386.stk",label:"0386",stockname:"\u4e2d\u56fd\u77f3\u6cb9\u5316\u5de5"},{stockid:"HK0753.stk",label:"0753",stockname:"\u4e2d\u56fd\u56fd\u822a"},{stockid:"HK0762.stk",label:"0762",stockname:"\u4e2d\u56fd\u8054\u901a"},{stockid:"HK0857.stk",label:"0857",stockname:"\u4e2d\u56fd\u77f3\u6cb9"},
{stockid:"HK0914.stk",label:"0914",stockname:"\u5b89\u5fbd\u6d77\u87ba\u6c34\u6ce5"},{stockid:"HK0939.stk",label:"0939",stockname:"\u5efa\u8bbe\u94f6\u884c"},{stockid:"HK0998.stk",label:"0998",stockname:"\u4e2d\u4fe1\u94f6\u884c"}]:23==a||24==a||25==a?d=[{stockid:"HK1171.stk",label:"1171",stockname:"\u5156\u5dde\u7164\u4e1a"},{stockid:"HK1288.stk",label:"1288",stockname:"\u519c\u4e1a\u94f6\u884c"},{stockid:"HK1336.stk",label:"1336",stockname:"\u65b0\u534e\u4fdd\u9669"},{stockid:"HK0386.stk",label:"0386",
stockname:"\u4e2d\u56fd\u77f3\u6cb9\u5316\u5de5"},{stockid:"HK0753.stk",label:"0753",stockname:"\u4e2d\u56fd\u56fd\u822a"},{stockid:"HK0762.stk",label:"0762",stockname:"\u4e2d\u56fd\u8054\u901a"},{stockid:"HK0857.stk",label:"0857",stockname:"\u4e2d\u56fd\u77f3\u6cb9"}]:28==a&&(d=[{stockid:"HK0386.stk",label:"0386",stockname:"\u4e2d\u56fd\u77f3\u6cb9\u5316\u5de5"},{stockid:"HK0753.stk",label:"0753",stockname:"\u4e2d\u56fd\u56fd\u822a"},{stockid:"HK0762.stk",label:"0762",stockname:"\u4e2d\u56fd\u8054\u901a"},
{stockid:"HK0857.stk",label:"0857",stockname:"\u4e2d\u56fd\u77f3\u6cb9"},{stockid:"HK0914.stk",label:"0914",stockname:"\u5b89\u5fbd\u6d77\u87ba\u6c34\u6ce5"},{stockid:"HK0939.stk",label:"0939",stockname:"\u5efa\u8bbe\u94f6\u884c"},{stockid:"HK0998.stk",label:"0998",stockname:"\u4e2d\u4fe1\u94f6\u884c"}]);if(28==a){columns=[{id:"maturity",name:"\u5230\u671f\u65e5",width:95,field:"maturity",formatter:c.hitch(b,b.dateformat),cssClass:"font-center",headerCssClass:"font-center",sortable:!1},{id:"label",
name:"\u4ee3\u7801",field:"label",width:65,formatter:b.hidden,cssClass:"font-center",headerCssClass:"font-center",sortable:!1},{id:"stockname",name:"\u540d\u79f0",field:"stockname",width:120,formatter:b.hidden,headerCssClass:"font-center",cssClass:"font-left",sortable:!1},{id:"new",name:"\u6700\u65b0\u4ef7",field:"new",width:60,formatter:c.hitch(b,b.priceUdFormatter),cssClass:"font-right",headerCssClass:"font-right",sortable:!1},{id:"strick",name:"\u884c\u6743\u4ef7",field:"strick",width:65,formatter:c.hitch(b,
b.priceUdFormatter),cssClass:"font-right",headerCssClass:"font-right",sortable:!1}];col="obj,label,name,new,strick,maturity";var f={forceFitColumns:!0,hideBorder:"all",rowHeight:25}}else if(4==a||7==a||10==a||13==a||16==a||19==a||22==a||25==a)columns=[{id:"label",name:"\u4ee3\u7801",field:"label",width:70,formatter:b.hidden,cssClass:"font-center",headerCssClass:"font-center",sortable:!1},{id:"stockname",name:"\u540d\u79f0 ",field:"stockname",width:120,formatter:b.hidden,headerCssClass:"font-center",
cssClass:"font-left",sortable:!1},{id:"new",name:"\u6700\u65b0\u4ef7 ",field:"new",width:75,formatter:c.hitch(b,b.priceUdFormatter),cssClass:"font-right",headerCssClass:"font-right",sortable:!1},{id:"updn",name:"\u6da8\u8dcc\u989d ",field:"updn",width:80,formatter:c.hitch(b,b.priceUdFormatter),cssClass:"font-right",headerCssClass:"font-right",sortable:!1},{id:"updnratio",name:"\u6210\u4ea4\u989d  ",width:75,field:"amount",formatter:c.hitch(b,b.amountFormatter),cssClass:"font-right",headerCssClass:"font-right",
sortable:!1}],col="obj,label,name,new,updn,amount",f={hideBorder:"all"};else if(2==a||5==a||8==a||11==a||14==a||17==a||20==a||23==a)columns=[{id:"label",name:"\u4ee3\u7801",field:"label",width:75,formatter:b.hidden,cssClass:"font-center",headerCssClass:"font-center",sortable:!1},{id:"stockname",name:"\u540d\u79f0 ",field:"stockname",width:120,formatter:b.hidden,headerCssClass:"font-center",cssClass:"font-left",sortable:!1},{id:"new",name:"\u6700\u65b0\u4ef7 ",field:"new",width:75,formatter:c.hitch(b,
b.priceUdFormatter),cssClass:"font-right",headerCssClass:"font-right",sortable:!1},{id:"updn",name:"\u6da8\u8dcc\u989d ",field:"updn",width:75,formatter:c.hitch(b,b.priceUdFormatter),cssClass:"font-right",headerCssClass:"font-right",sortable:!1},{id:"updnratio",name:"\u6da8\u5e45(%)  ",width:75,field:"updnratio",formatter:c.hitch(b,b.zfFormatter),cssClass:"font-right",headerCssClass:"font-right",sortable:!1}],col="obj,label,name,new,updn,updnratio",f={hideBorder:"all"};else if(3==a||6==a||9==a||12==
a||15==a||18==a||21==a||24==a)columns=[{id:"label",name:"\u4ee3\u7801",field:"label",width:75,formatter:b.hidden,cssClass:"font-center",headerCssClass:"font-center",sortable:!1},{id:"stockname",name:"\u540d\u79f0 ",field:"stockname",width:120,formatter:b.hidden,headerCssClass:"font-center",cssClass:"font-left",sortable:!1},{id:"new",name:"\u6700\u65b0\u4ef7 ",field:"new",width:75,formatter:c.hitch(b,b.priceUdFormatter),cssClass:"font-right",headerCssClass:"font-right",sortable:!1},{id:"updn",name:"\u6da8\u8dcc\u989d ",
field:"updn",width:75,formatter:c.hitch(b,b.priceUdFormatter),cssClass:"font-right",headerCssClass:"font-right",sortable:!1},{id:"updnratio",name:"\u8dcc\u5e45(%)  ",width:75,field:"updnratio",formatter:c.hitch(b,b.zfFormatter),cssClass:"font-right",headerCssClass:"font-right",sortable:!1}],col="obj,label,name,new,updn,updnratio",f={hideBorder:"all"};b=new i({idProperty:"stockid",data:d,formatter:function(a){var a=a[0],b;for(b in a)a[b]=e.handleRawData(b,a[b]);return a}});a=new n({store:b,service:"objinfo",
type:"getinfo",field:col,columns:columns,options:f,response_times:-1,response_mode:0},"newGrid"+a);a.startup();r.before(a.get("pushStore"),"convert",function(a){for(var a=a.result.datas,b=0,c=a.length;b<c;b++)a[b][0]=a[b][0].replace("HK0","HK")});a.on("dblclick",function(a){location.href=" DZH://VIEWSTOCK?DATATYPE=DAY&LAYOUT=Level2\u9ed8\u8ba4&PAGE=\u5206\u65f6\u8d70\u52bf&LABEL="+a.target.dataset.id})},createGrid:function(a){var b=this,c=[],e;2==a||3==a||4==a?e="AH\u80a1":5==a||6==a||7==a?e="\u9999\u6e2f\u4e3b\u677f":
8==a||9==a||10==a?e="\u9999\u6e2f\u521b\u4e1a\u677f":11==a||12==a||13==a?e="\u56fd\u4f01\u80a1":14==a||15==a||16==a?e="\u7ea2\u7b79\u80a1":17==a||18==a||19==a?e="\u84dd\u7b79\u80a1":20==a||21==a||22==a?e="\u9999\u6e2f\u6743\u8bc1":23==a||24==a||25==a?e="\u725b\u718a\u8bc1":28==a&&(e="\u9999\u6e2f\u6743\u8bc1");e={service:"blockinfo",type:"leaf",source:"local",block:e,depth:"-1",response_times:"1",response_mode:"0"};(new i).query(e).then(function(e){c.push(e);b.createMidStk(a,c)})},createNewStkGrid:function(){var a=
new j,b={service:"rpc",so:"javadataproxy.jar","function":"gw/UIMain",paraencode:"base64",parameter:"Z2V0,"+btoa("http://10.15.107.175:9089/webquery/common?"+s.objectToQuery({__qid:"stockLED_get_HKnewStk"})),response_times:1,response_mode:0},e,d=[{id:"nu",name:"",field:"nu",width:15,formatter:a.hidden,headerCssClass:"font-left",cssClass:"font-left",sortable:!1},{id:"company",name:"\u4e0a\u5e02\u516c\u53f8",field:"company",width:125,formatter:a.hidden,headerCssClass:"font-left",cssClass:"font-left",
sortable:!1},{id:"price",name:"IPO\u5b9a\u4ef7",field:"price",width:60,formatter:c.hitch(a,a.priceUdFormatter),headerCssClass:"font-center",cssClass:"font-right",sortable:!1},{id:"listedDay",name:"\u4e0a\u5e02\u65e5",field:"listedDay",width:120,formatter:a.dateformat,headerCssClass:"font-center",cssClass:"font-center",sortable:!1},{id:"hy",name:"\u884c\u4e1a",field:"hy",width:110,headerCssClass:"font-left",cssClass:"font-left",sortable:!1}],f={colDragMode:"fixOtherColsBorder",hideBorder:"all",rowHeight:25};
(new i).query(b).then(function(a){data=[];for(var b=0;b<a.length;b++)data[b]={company:a[b].vol1,price:a[b].vol2,listedDay:a[b].vol3,hy:a[b].vol4,nu:" "};a=new o({data:data});e=new k({store:a,columns:d,options:f},"newGrid26");e.startup()})},createNewsGrid:function(){var a=this;(new x({socketCfg:{service:"rpc",so:"jso-ui-hkstocknews.jar","function":"gw.sh.func.HKStocksNewsRequest",paraencode:"base64",response_times:1,cache_timeout:10,response_mode:1,request_timeout:10},consolelog:"",parameter:{code:"000000000001000000030003",
fids:"C1,C2,C3,C8,C16",dcategory:"1-100",sort:"C16:-1",skip:"0",amount:"50"}})).query().then(function(b){data=[];for(var c=0;c<b.length;c++)data[c]={orign:b[c].C8,time:b[c].C16,title:b[c].C3,id:b[c].C1};a.cg(data)})},cg:function(a){var b=new v,c=new j,b=[{id:"time",name:"\u65f6\u95f4",field:"time",width:72,headerCssClass:"font-center",formatter:b.dateTimeformat,cssClass:"font-center",sortable:!0},{id:"title",name:"\u6807\u9898",field:"title",width:270,formatter:c.hidden,formatter:b.hiddenNewsId,headerCssClass:"font-center",
cssClass:"font-left",sortable:!0},{id:"orign",name:"\u6765\u6e90",field:"orign",width:80,headerCssClass:"font-left",cssClass:"font-black font-left",sortable:!0}],a=new o({data:a}),a=new k({store:a,columns:b,options:{colDragMode:"fixOtherColsBorder",hideBorder:"all",rowHeight:25}},"newGrid27");a.startup();a.on("dblclick",function(a){location.href="dzh://browse?'dzhd://DZH2/news/nBrowse.dzh.ui?nID="+a.target.dataset.id+"&dc=1'"})}})})},"url:stock/hkStkZhp/view/main.html":'<div data-dojo-attach-point="containerNode">\r\n\t<div class="hbox mainDrawTowLine"  style="border-top: 1px solid #484848;border-left: 1px solid #484848;">\r\n\t\t<div class="vbox topvbox">\r\n\t\t\t<div id="klineStackContainer" data-dojo-type="dijit/layout/StackContainer" class="mainGrid">\r\n\t\t\t\t<div data-dojo-attach-point="charttabContainer" data-dojo-type="dijit/layout/TabContainer" class="midvbox">\r\n\t\t\t\t\t<div id="top1Chart1" data-dojo-type="dijit/layout/ContentPane" title="\u6052\u751f\u6307\u6570">\t\t\r\n\t\t\t\t\t\t\t<div class="spacer" data-dojo-type="dijit.layout.ContentPane">\r\n\t\t\t\t\t\t\t\t<div id="chart1"></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div id="top1Chart2" data-dojo-type="dijit/layout/ContentPane" title="\u56fd\u4f01\u6307\u6570">\t\t\r\n\t\t\t\t\t\t\t<div class="spacer" data-dojo-type="dijit.layout.ContentPane">\r\n\t\t\t\t\t\t\t\t<div id="chart2"></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\t\r\n\t\t\t\t\t<div id="top1Chart3" data-dojo-type="dijit/layout/ContentPane" title="\u7ea2\u7b79\u6307\u6570">\t\t\r\n\t\t\t\t\t\t\t<div class="spacer" data-dojo-type="dijit.layout.ContentPane">\r\n\t\t\t\t\t\t\t\t<div id="chart3"></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class="vbox topvbox">\r\n\t\t\t<div data-dojo-attach-point="toptabContainer" data-dojo-type="dijit/layout/TabContainer" class="midvbox">\r\n\t\t\t\t\t<div id="topGrid0" data-dojo-type="dijit/layout/ContentPane" title="\u70ed\u95e8AH\u80a1">\t\t\r\n\t\t\t\t\t\t<div class="vbox topInnerVbox" style="margin-left:-1px;">\r\n\t\t\t\t\t\t\t<div class="spacer" data-dojo-type="dijit.layout.ContentPane">\r\n\t\t\t\t\t\t\t\t<div id="newGrid0"></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div id="topGrid1" data-dojo-type="dijit/layout/ContentPane" title="\u70ed\u95e8\u6e2f\u80a1">\t\t\r\n\t\t\t\t\t\t<div class="vbox topInnerVbox" style="margin-left:-1px;">\r\n\t\t\t\t\t\t\t<div class="spacer" data-dojo-type="dijit.layout.ContentPane">\r\n\t\t\t\t\t\t\t\t<div id="newGrid1"></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class="hbox mainDrawTowLine" style="position:relative;">\r\n\t\t<div class="vbox">\r\n\t\t\t<div data-dojo-attach-point="midtabContainer" data-dojo-type="dijit/layout/TabContainer" class="midvbox">\r\n\t\t\t\t<div id="midGrid1" data-dojo-type="dijit/layout/ContentPane" title="AH\u80a1">\r\n\t\t\t\t\t<div class="hbox midDrawTowLine">\t\t\r\n\t\t\t\t\t\t<div class="vbox midInnerVbox" style="margin-left:-1px;">\r\n\t\t\t\t\t\t\t<div class="spacer" data-dojo-type="dijit.layout.ContentPane">\r\n\t\t\t\t\t\t\t\t<div id="newGrid2"></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class="vbox midInnerVbox">\r\n\t\t\t\t\t\t\t<div class="spacer" data-dojo-type="dijit.layout.ContentPane">\r\n\t\t\t\t\t\t\t\t<div id="newGrid3"></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class="vbox midInnerVbox">\r\n\t\t\t\t\t\t\t<div class="spacer" data-dojo-type="dijit.layout.ContentPane">\r\n\t\t\t\t\t\t\t\t<div id="newGrid4"></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div id="midGrid2" data-dojo-type="dijit/layout/ContentPane" title="\u6e2f\u80a1">\r\n\t\t\t\t\t<div class="hbox midDrawTowLine">\t\t\r\n\t\t\t\t\t\t<div class="vbox midInnerVbox" style="margin-left:-1px;">\r\n\t\t\t\t\t\t\t<div class="spacer" data-dojo-type="dijit.layout.ContentPane">\r\n\t\t\t\t\t\t\t\t<div id="newGrid5" style=\'position:absolute;top:100px;left:80px\'></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class="vbox midInnerVbox">\r\n\t\t\t\t\t\t\t<div class="spacer" data-dojo-type="dijit.layout.ContentPane">\r\n\t\t\t\t\t\t\t\t<div id="newGrid6" style=\'position:absolute;top:100px;left:80px\'>\u6b64\u6a21\u5757\u5185\u5bb9\u9700\u5355\u72ec\u4ed8\u8d39\uff0c\u8bf7\u8054\u7cfb\u5ba2\u670d\u5f00\u901a</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class="vbox midInnerVbox">\r\n\t\t\t\t\t\t\t<div class="spacer" data-dojo-type="dijit.layout.ContentPane">\r\n\t\t\t\t\t\t\t\t<div id="newGrid7" style=\'position:absolute;top:100px;left:80px\'></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div id="midGrid3" data-dojo-type="dijit/layout/ContentPane" title="\u521b\u4e1a\u677f">\r\n\t\t\t\t\t<div class="hbox midDrawTowLine">\t\t\r\n\t\t\t\t\t\t<div class="vbox midInnerVbox" style="margin-left:-1px;">\r\n\t\t\t\t\t\t\t<div class="spacer" data-dojo-type="dijit.layout.ContentPane">\r\n\t\t\t\t\t\t\t\t<div id="newGrid8"></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class="vbox midInnerVbox">\r\n\t\t\t\t\t\t\t<div class="spacer" data-dojo-type="dijit.layout.ContentPane">\r\n\t\t\t\t\t\t\t\t<div id="newGrid9"></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class="vbox midInnerVbox">\r\n\t\t\t\t\t\t\t<div class="spacer" data-dojo-type="dijit.layout.ContentPane">\r\n\t\t\t\t\t\t\t\t<div id="newGrid10"></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div id="midGrid4" data-dojo-type="dijit/layout/ContentPane" title="\u56fd\u4f01">\r\n\t\t\t\t\t<div class="hbox midDrawTowLine">\t\t\r\n\t\t\t\t\t\t<div class="vbox midInnerVbox" style="margin-left:-1px;">\r\n\t\t\t\t\t\t\t<div class="spacer" data-dojo-type="dijit.layout.ContentPane">\r\n\t\t\t\t\t\t\t\t<div id="newGrid11"></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class="vbox midInnerVbox">\r\n\t\t\t\t\t\t\t<div class="spacer" data-dojo-type="dijit.layout.ContentPane">\r\n\t\t\t\t\t\t\t\t<div id="newGrid12"></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class="vbox midInnerVbox">\r\n\t\t\t\t\t\t\t<div class="spacer" data-dojo-type="dijit.layout.ContentPane">\r\n\t\t\t\t\t\t\t\t<div id="newGrid13"></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div id="midGrid5" data-dojo-type="dijit/layout/ContentPane" title="\u7ea2\u7b79">\r\n\t\t\t\t\t<div class="hbox midDrawTowLine">\t\t\r\n\t\t\t\t\t\t<div class="vbox midInnerVbox" style="margin-left:-1px;">\r\n\t\t\t\t\t\t\t<div class="spacer" data-dojo-type="dijit.layout.ContentPane">\r\n\t\t\t\t\t\t\t\t<div id="newGrid14"></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class="vbox midInnerVbox">\r\n\t\t\t\t\t\t\t<div class="spacer" data-dojo-type="dijit.layout.ContentPane">\r\n\t\t\t\t\t\t\t\t<div id="newGrid15"></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class="vbox midInnerVbox">\r\n\t\t\t\t\t\t\t<div class="spacer" data-dojo-type="dijit.layout.ContentPane">\r\n\t\t\t\t\t\t\t\t<div id="newGrid16"></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div id="midGrid6" data-dojo-type="dijit/layout/ContentPane" title="\u84dd\u7b79">\r\n\t\t\t\t\t<div class="hbox midDrawTowLine">\t\t\r\n\t\t\t\t\t\t<div class="vbox midInnerVbox" style="margin-left:-1px;">\r\n\t\t\t\t\t\t\t<div class="spacer" data-dojo-type="dijit.layout.ContentPane">\r\n\t\t\t\t\t\t\t\t<div id="newGrid17"></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class="vbox midInnerVbox">\r\n\t\t\t\t\t\t\t<div class="spacer" data-dojo-type="dijit.layout.ContentPane">\r\n\t\t\t\t\t\t\t\t<div id="newGrid18"></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class="vbox midInnerVbox">\r\n\t\t\t\t\t\t\t<div class="spacer" data-dojo-type="dijit.layout.ContentPane">\r\n\t\t\t\t\t\t\t\t<div id="newGrid19"></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div id="midGrid7" data-dojo-type="dijit/layout/ContentPane" title="\u8ba4\u80a1\u8bc1">\r\n\t\t\t\t\t<div class="hbox midDrawTowLine">\t\t\r\n\t\t\t\t\t\t<div class="vbox midInnerVbox" style="margin-left:-1px;">\r\n\t\t\t\t\t\t\t<div class="spacer" data-dojo-type="dijit.layout.ContentPane">\r\n\t\t\t\t\t\t\t\t<div id="newGrid20" style=\'position:absolute;top:100px;left:80px\'></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class="vbox midInnerVbox">\r\n\t\t\t\t\t\t\t<div class="spacer" data-dojo-type="dijit.layout.ContentPane">\r\n\t\t\t\t\t\t\t\t<div id="newGrid21" style=\'position:absolute;top:100px;left:80px\'>\u6b64\u6a21\u5757\u5185\u5bb9\u9700\u5355\u72ec\u4ed8\u8d39\uff0c\u8bf7\u8054\u7cfb\u5ba2\u670d\u5f00\u901a</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class="vbox midInnerVbox">\r\n\t\t\t\t\t\t\t<div class="spacer" data-dojo-type="dijit.layout.ContentPane">\r\n\t\t\t\t\t\t\t\t<div id="newGrid22" style=\'position:absolute;top:100px;left:80px\'></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div id="midGrid8" data-dojo-type="dijit/layout/ContentPane" title="\u725b\u718a\u8bc1">\r\n\t\t\t\t\t<div class="hbox midDrawTowLine">\t\t\r\n\t\t\t\t\t\t<div class="vbox midInnerVbox" style="margin-left:-1px;">\r\n\t\t\t\t\t\t\t<div class="spacer" data-dojo-type="dijit.layout.ContentPane">\r\n\t\t\t\t\t\t\t\t<div id="newGrid23" style=\'position:absolute;top:100px;left:80px\'></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class="vbox midInnerVbox">\r\n\t\t\t\t\t\t\t<div class="spacer" data-dojo-type="dijit.layout.ContentPane">\r\n\t\t\t\t\t\t\t\t<div id="newGrid24" style=\'position:absolute;top:100px;left:80px\'>\u6b64\u6a21\u5757\u5185\u5bb9\u9700\u5355\u72ec\u4ed8\u8d39\uff0c\u8bf7\u8054\u7cfb\u5ba2\u670d\u5f00\u901a</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class="vbox midInnerVbox">\r\n\t\t\t\t\t\t\t<div class="spacer" data-dojo-type="dijit.layout.ContentPane">\r\n\t\t\t\t\t\t\t\t<div id="newGrid25" style=\'position:absolute;top:100px;left:80px\'></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div id="qx" style="z-index:9999;height:20px;width:120px;position:absolute;right:250px;top:3px;">\r\n\t\t\t<div id="midQx" class=\'midQx\'></div>\r\n\t\t</div>\r\n\t\t<div id="mid" style="z-index:9999;height:20px;width:20px;position:absolute;right:8px;top:3px;">\r\n\t\t\t<div class="midHref">&gt;&gt;&gt;</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class="hbox mainDrawTowLine" style="border-top: 1px solid #484848;border-left: 1px solid #484848;">\r\n\t\t<div class="vbox myvbox">\r\n\t\t\t<div class="dijitRegionalPane"><span style="position:absolute;left:5px;top:-1px;">\u65b0\u80a1\u65e5\u5386</span></div>\r\n\t\t\t<div data-dojo-type="dijit.layout.ContentPane" class="mainGrid">\r\n\t\t\t\t<div id="newGrid26"></div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class="vbox myvbox">\r\n\t\t\t<div class="dijitRegionalPane"><span style="position:absolute;left:5px;top:-1px;">\u6e2f\u80a1\u65b0\u95fb</span></div>\r\n\t\t\t<div data-dojo-type="dijit.layout.ContentPane" class="mainGrid newsGrid">\r\n\t\t\t\t<div id="newGrid27"></div>\r\n\t\t\t</div>\r\n\t\t\t<div id="newsLink" style="z-index:9999;height:20px;width:20px;position:absolute;right:8px;top:3px;">\r\n\t\t\t\t<div class="midHref">&gt;&gt;&gt;</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class="vbox myvbox">\r\n\t\t\t<div class="dijitRegionalPane" style="position:relative">&nbsp;<span style="position:absolute;left:5px;top:0px;">AH</span><span style="position:absolute;left:28px;top:-1px;">\u80a1\u8ba4\u80a1\u8bc1</span></div>\r\n\t\t\t<div data-dojo-type="dijit.layout.ContentPane" class="mainGrid">\r\n\t\t\t\t<div id="newGrid28" style=\'position:absolute;top:120px;left:78px\'>\u6b64\u6a21\u5757\u5185\u5bb9\u9700\u5355\u72ec\u4ed8\u8d39\uff0c\u8bf7\u8054\u7cfb\u5ba2\u670d\u5f00\u901a</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>',
"stock/hkStkZhp/public/format":function(){define(["dojo/_base/declare","dojox/slickgrid/formatter/formattersQuote","dojo/dom","dojo/date","dojo/date/locale"],function(g,h,b){return g([h],{timeFormatter:function(e,a,d){Date.prototype.pattern=function(a){var b={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":0==this.getHours()?12:this.getHours(),"H+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()},e={"0":"\u65e5",1:"\u4e00",
2:"\u4e8c",3:"\u4e09",4:"\u56db",5:"\u4e94",6:"\u516d"};/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));/(E+)/.test(a)&&(a=a.replace(RegExp.$1,(1<RegExp.$1.length?2<RegExp.$1.length?"\u661f\u671f":"\u5468":"")+e[this.getDay()+""]));for(var d in b)RegExp("("+d+")").test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?b[d]:("00"+b[d]).substr((""+b[d]).length)));return a};e=(new Date(1E3*parseInt(d-86400*(1/3)))).getTime();a=(new Date).getTime();8E5<a-e&&1E6>
a-e?b.byId("midQx").innerHTML="\u5ef6\u65f615\u5206\u949f":8E5>a-e?b.byId("midQx").innerHTML="\u5b9e\u65f6":b.byId("midQx").innerHTML=""},decmial:function(b,a){if(null==b)return"";b=parseFloat(b).toString();b.indexOf(".");return b=parseFloat(b).toFixed(a)},getCellVal:function(b,a,d){var c=void 0;(b=d.getCellNode(b,a))&&(c=""==b.innerText?"":parseFloat(b.innerText));return c},priceFormatter:function(b,a,d,c,f){b=d>f.lastclose;a=d<f.lastclose;c=this.decmial(f["new"],3);d=this.decmial(d,3);return 0==
c&&0==d?"<div data-id="+f.obj+" data-name="+f.stockname+">-</div>":'<div style="overflow:hidden;text-overflow:ellipsis;" class="'+(b?"font-red":a?"font-green":"")+'" data-id ="'+f.obj+'" data-name ="'+f.stockname+'">'+d+"</div>"},priceNewFormatter:function(b,a,d,c,f,g){d=this.decmial(d,3);if(0==d)return"<div data-id="+f.obj+" data-name="+f.stockname+">-</div>";this.getCellVal(b,a,g);return'<div style="overflow:hidden;text-overflow:ellipsis;" class="'+(f["new"]>f.open?"font-red":f["new"]<f.open?"font-green":
"")+'" data-id ="'+f.obj+'" data-name ="'+f.stockname+'">'+d+"</div>"},priceLsclosFormatter:function(b,a,d,c,f){b=this.decmial(f["new"],3);d=this.decmial(d,3);return 0==b&&0==d?"<div data-id="+f.obj+" data-name="+f.stockname+">-</div>":'<div style="overflow:hidden;text-overflow:ellipsis;" class="'+(f.lastclose>f.presettle?"font-red":f.lastclose<f.presettle?"font-green":"")+'" data-id ="'+f.obj+'" data-name ="'+f.stockname+'">'+d+"</div>"},priceUdFormatter:function(b,a,d,c,f,g){c=this.decmial(f["new"],
3);d=this.decmial(d,3);if(0==c&&0==d)return"<div data-id="+f.obj+" data-name="+f.stockname+">-</div>";this.getCellVal(b,a,g);return'<div style="overflow:hidden;text-overflow:ellipsis;" class="'+(0<f.updn?"font-red":0>f.updn?"font-green":"")+'" data-id ="'+f.obj+'" data-name ="'+f.stockname+'">'+d+"</div>"},zfFormatter:function(b,a,d,c,f,g){c=this.decmial(f["new"],3);d=this.decmial(d,2);if(0==c&&0==d)return"<div data-id="+f.obj+" data-name="+f.stockname+">-</div>";this.getCellVal(b,a,g);return'<div style="overflow:hidden;text-overflow:ellipsis;" class="'+
(0<f.updn?"font-red":0>f.updn?"font-green":"")+'" data-id ="'+f.obj+'" data-name ="'+f.stockname+'">'+d+"</div>"},amountFormatter:function(b,a,d,c,f,g){var c=this.decmial(f["new"],3),h=this.decmial(f.amount,3),d=1E3<=h&&1E6>h?this.decmial(d/1E3,2)+"K":1E6<=h?this.decmial(d/1E6,2)+"M":this.decmial(d,2);if(0==c&&0==d)return"<div data-id="+f.obj+" data-name="+f.stockname+">-</div>";this.getCellVal(b,a,g);return'<div style="overflow:hidden;text-overflow:ellipsis;" class="'+(0<f.updn?"font-red":0>f.updn?
"font-green":"")+'" data-id ="'+f.obj+'" data-name ="'+f.stockname+'">'+d+"</div>"},hidden:function(b,a,d,c,f){return"<div data-id="+f.obj+" data-name="+f.stockname+" style='overflow:hidden;text-overflow:ellipsis;' class='font-yellow' title='"+d+" '>"+d+" </div>"},hiddenNewsId:function(b,a,d,c,f){return"<div data-id="+f.id+" style='overflow:hidden;text-overflow:ellipsis;' class='font-yellow font-left ' title='"+d+" '> "+d+"</div>"},dateTimeformat:function(b,a,d,c,f){d=d.substr(8,2)+":"+d.substr(10,
2);return"<div data-id="+f.id+" style='overflow:hidden;text-overflow:ellipsis;' class='font-yellow font-left ' title='"+d+" '> "+d+"</div>"},dateformat:function(b,a,d,c,f){void 0!=d&&"--"!=d&&(d=d.substr(0,4)+"/"+d.substr(4,2)+"/"+d.substr(6,2));return"<div data-id="+f.id+" style='overflow:hidden;text-overflow:ellipsis;' class='font-black font-center ' title='"+d+" '> "+d+"</div>"}})})},"dojox/slickgrid/formatter/formattersQuote":function(){define("dojox/slickgrid/formatter/formattersQuote",["dojo/_base/declare",
"dojox/slickgrid/formatter/_formattersBaseFunc"],function(g,h){return g([h],{keepPrecision:function(b,e,a){return _this._keepPrecision(a)},index:function(b){return'<a><div class="font-gray">'+parseInt(b+1)+"</div></a>"},stockCode:function(b,e,a,d,c,f){a=a.replace(".stk","").replace("SH","").replace("SZ","");return _this.lineFontColor(b,e,a,d,c,f)},underlineDecimal:function(b,e,a){return a?(e=a.indexOf("."),b=a.substring(0,e),a=a.substring(e+1,a.length),b+"<span style='text-decoration:underline'>"+
a+"</span>"):"--"},cellBgColor:function(b,e,a,d){b="--";a&&(d=_this._nodeCellChangeState(a,d),b="","g"==d?b="#FDCCDA":"l"==d&&(b="#D3FEBC"),imgStr='<img src="" style="display:none"  onerror= "  var img=this;   setTimeout(function(){    \tif(img.parentNode){    \t\timg.parentNode.style.backgroundColor=\'transparent\' ;    \t}     },1000);  " />',b='<div style=" background-color:'+b+' " >'+a+imgStr+"</div>");return b},nullToGG:function(b,e,a){b="";return b=a?_this.charsReplace(a):"--"},nullToBlank:function(b,
e,a){b="";a&&(b=_this.charsReplace(a));return b},addMinusSign:function(b,e,a){if(0>a)return"-"+vaule},addMinusSignAndColor:function(b,e,a){return 0>a?"<div class='font-green'>-"+vaule+"</div>":0<a?"<div class='font-red'>"+vaule+"</div>":"<div class='font-gray'>"+vaule+"</div>"},addBothSign:function(b,e,a){return 0<a?"+"+vaule:0>a?"-"+vaule:a},treeGridFormatter:function(b,e,a,d,c){return"<div style='padding-left:"+15*c.indentation+"px' ><span class='"+("leaf"==c._collapsed?"place-holder":"toggle "+
("collapse"==c._collapsed?"collapse":"expand"))+"'></span>"+a+"</div>"},addBothSignAndColor:function(b,e,a){return 0>a?"<div class='font-green'>-"+vaule+"</div>":0<a?"<div class='font-red'>+"+vaule+"</div>":"<div class='font-gray'>"+vaule+"</div>"},firstItem:function(b,e,a){return a instanceof Array?(b=a.shift(),_this._keepPrecision(b)):""},lastItem:function(b,e,a){return a instanceof Array?(b=a.pop(),_this._keepPrecision(b)):""},grayFont:function(b,e,a){a=_this._keepPrecision(a);return'<div class="font-gray">'+
a+"</div>"}})})},"dojox/slickgrid/formatter/_formattersBaseFunc":function(){define("dojox/slickgrid/formatter/_formattersBaseFunc",["dojo/_base/declare","dojox/slickgrid/formatter/_formattersBase"],function(g,h){return g([h],{precision:2,_keepPrecision:function(b,e){if(null==b)return"";var a=new Number(b);return a==b?a.toFixed(e||_this.precision):b.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},_nodeCellChangeState:function(b,e){if(null==b)return"e";var b=parseFloat(b),
a=void 0;e&&(a=""==e.innerText?"":parseFloat(e.innerText));return void 0==a||""==a||a==b?"e":b>a?"g":"l"},charsReplace:function(b){return null==b?"":b.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},lineFontColor:function(b,e,a,d,c,f){e=_this._getColorClass(c["new"],c.lastclose);return f.rowsCache[b]?(f.rowsCache[b].removeClass("font-red"),f.rowsCache[b].removeClass("font-gray"),f.rowsCache[b].removeClass("font-green"),f.rowsCache[b].addClass(e),a):"<div>"+a+('<img class src="" style="display:none" onerror=" dojo.query(this.parentNode.parentNode.parentNode).addClass(\''+
e+"'); \" />")+" </div>"},_minus:function(b,e){return b-e},_compareValue:function(b,e){return b>e?"g":b==e?"e":"l"},_getColorClass:function(b,e){var a=_this._compareValue(b,e);return"g"==a?"font-red":"e"==a?"font-gray":"font-green"},_addPlusMinusSign:function(b){0<b&&(b="+"+b);return b}})})},"dojox/slickgrid/formatter/_formattersBase":function(){define("dojox/slickgrid/formatter/_formattersBase",["dojo/_base/declare","dojo/aspect"],function(g,h){return g([],{_this:null,beforeFuncs:[],afterFuncs:[],
bothFuncs:[],constructor:function(b){g.safeMixin(this,b);_this=this;if(_this.before||_this.after){var b=_this.__proto__,e=","+this.beforeFuncs.concat(this.bothFuncs).join(",")+",",a=","+this.afterFuncs.concat(this.bothFuncs).join(",")+",",d;for(d in b)if("function"==typeof b[d]){var c=","+d+",";_this.before&&-1<e.indexOf(c)&&h.before(_this,d,function(a,b,c,d,e,g){if(a=_this.before(a,b,c,d,e,g))return a});_this.after&&-1<a.indexOf(c)&&h.after(_this,d,function(a,b,c,d,e,g){return _this.after(a,b,c,
d,e,g)})}}}})})},"stock/hkStkZhp/public/htmlFormat":function(){define(["dojo/_base/declare","dojox/slickgrid/formatter/formattersQuote"],function(g,h){return g([h],{timeFormatter:function(b,e,a,d,c){Date.prototype.pattern=function(a){var b={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":0==this.getHours()?12:this.getHours(),"H+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()},c={"0":"\u65e5",1:"\u4e00",2:"\u4e8c",3:"\u4e09",
4:"\u56db",5:"\u4e94",6:"\u516d"};/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));/(E+)/.test(a)&&(a=a.replace(RegExp.$1,(1<RegExp.$1.length?2<RegExp.$1.length?"\u661f\u671f":"\u5468":"")+c[this.getDay()+""]));for(var d in b)RegExp("("+d+")").test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?b[d]:("00"+b[d]).substr((""+b[d]).length)));return a};b=new Date(1E3*parseInt(a-86400*(1/3)));b.getHours();return 0==c["new"]||void 0==a?"<div data-id="+c.obj+" data-name="+
c.stockname+">-</div>":"<div style='overflow:hidden;text-overflow:ellipsis;' data-id="+c.obj+" data-name="+c.stockname+">"+b.pattern("hh:mm")+" </div>"},priceFormatter:function(b,e,a,d,c){b=a>c.lastclose;e=a<c.lastclose;return 0==c["new"]||void 0==a?"<div data-id="+c.obj+" data-name="+c.stockname+">-</div>":'<div style="overflow:hidden;text-overflow:ellipsis;" class="'+(b?"font-red":e?"font-green":"")+'" data-id ="'+c.obj+'" data-name ="'+c.stockname+'">'+a+"</div>"},priceNewFormatter:function(b,
e,a,d,c,f){if(0==a||void 0==a)return"<div data-id="+c.obj+" data-name="+c.stockname+">-</div>";d=void 0;(b=f.getCellNode(b,e))&&(d=""==b.innerText?"":parseFloat(b.innerText));return'<div style="overflow:hidden;text-overflow:ellipsis;" class="'+(c["new"]>c.open?"font-red":c["new"]<c.open?"font-green":"")+'" data-id ="'+c.obj+'" data-name ="'+c.stockname+'">'+(a+(void 0==d||""==d||d==a?"":d>a?"\u2193":"\u2191"))+"</div>"},priceLsclosFormatter:function(b,e,a,d,c){return 0==c["new"]||void 0==a?"<div data-id="+
c.obj+" data-name="+c.stockname+">-</div>":'<div style="overflow:hidden;text-overflow:ellipsis;" class="'+(c.lastclose>c.presettle?"font-red":c.lastclose<c.presettle?"font-green":"")+'" data-id ="'+c.obj+'" data-name ="'+c.stockname+'">'+a+"</div>"},priceUdFormatter:function(b,e,a,d,c,f){if("-"==a)return"<div data-id="+c.obj+" data-name="+c.stockname+">-</div>";a=Math.abs(a);d=void 0;(b=f.getCellNode(b,e))&&(d=""==b.innerText?"":parseFloat(b.innerText));return'<div style="overflow:hidden;text-overflow:ellipsis;" class="'+
(0<c.updn?"font-red":0>c.updn?"font-green":"")+'" data-id ="'+c.obj+'" data-name ="'+c.stockname+'">'+(a+(void 0==d||""==d||d==a?"":d>a?"\u2193":"\u2191"))+"</div>"},hidden:function(b,e,a,d,c){return"<div data-id="+c.obj+" data-name="+c.stockname+" style='overflow:hidden;text-overflow:ellipsis;' class='font-yellow' title='"+a+" '>"+a+" </div>"},hiddenNewsId:function(b,e,a,d,c){return"<div data-id="+c.id+" style='overflow:hidden;text-overflow:ellipsis;' class='font-yellow font-left ' title='"+a+" '> "+
a+"</div>"},dateTimeformat:function(b,e,a,d,c){a=void 0!=a&&""!=a?a.substr(8,2)+":"+a.substr(10,2):"--";return"<div data-id="+c.id+" style='overflow:hidden;text-overflow:ellipsis;' class='font-black font-center ' title='"+a+" '> "+a+"</div>"}})})},"stock/hkStkZhp/public/dataFormat":function(){define(["dojo/_base/declare","dojox/slickgrid/formatter/formattersQuote"],function(g){return g([],{handleRawData:function(g,b){return g in{"new":"",updn:"",open:"",lastclose:"",high:"",low:"",pro_pri:"",pnratio:"",
pri_rev:"",buyprice1:"",sellprice5:"",volratio:"",avgprice:""}?(new Number(b)).toFixed(2):g in{volume:"",nowvol:"",amount:"",industry:"",inner:"",outter:"",tickcount:"",allvalue:"",floatvalue:"",wantdiff:""}?(new Number(b)).toFixed(0):g in{updnratio:"",exchange:"",updnspeed:"",hilowratio:"",wantratio:""}?(100*new Number(b)).toFixed(2):b}})})},"dojox/store/KlineWSStore":function(){define("dojox/store/KlineWSStore","dojo/_base/declare,dojo/_base/lang,dojo/json,dojo/Deferred,dojo/store/util/QueryResults,dojo/store/Observable,dojo/_base/array,dojo/io-query,dojo/topic,dojox/store/WebSocket".split(","),
function(g,h,b,e,a,d,c,f,l,m){return g("dojox.store.KlineWSStore",m,{convert:function(a){return[a]}})})},"dojox/websocket/WebsocketFileReader":function(){define("dojox/websocket/WebsocketFileReader",["./_base","dojo/_base/lang","dojo/_base/declare","dojo/Deferred"],function(g,h,b,e){return b("dojox.websocket.WebsocketFileReader",[g],{constructor:function(a){this.inherited(arguments);this.deferreds=[]},read:function(a,b){var a=!0==b?"dzh2url?"+a:"dzh2data?"+a,c=new e(function(){});this.deferreds.push(c);
this.send(a);return c.promise},_onmessage:function(a){a=a.data;this.deferreds.shift().resolve(a)},_cancelDeferred:function(){"undefined"!=typeof this.deferred&&!this.deferred.isResolved()&&this.deferred.cancel()},close:function(){this.inherited(arguments);this.deferreds.forEach(function(a){a.cancel()});this.deferreds=null}})})},"dojox/websocket/_base":function(){define("dojox/websocket/_base",["dojo/_base/lang","dojo/_base/declare","dojo/Deferred"],function(g,h){return h("dojox/websocket/_base",null,
{host:"127.0.0.1",port:window.external.wsport||"30718",constructor:function(b){h.safeMixin(this,b);this.send_queue=[]},_getSocket:function(){var b=new WebSocket("ws://"+this.host+":"+this.port);b.onmessage=g.hitch(this,"_onmessage");b.onclose=g.hitch(this,"_onclose");b.onopen=g.hitch(this,"_onopen");b.onerror=function(){};return b},send:function(b){var e=this.websock;!e||void 0===e.readyState||1<e.readyState?(this.websock=this._getSocket(),this.send_queue.push(b)):e&&1==e.readyState?e.send(b):this.send_queue.push(b)},
close:function(){this.websock&&this.websock.close();this.websock=void 0},_onopen:function(){for(;0<this.send_queue.length;){var b=this.send_queue.shift();try{this.websock.send(b)}catch(e){}}},_onmessage:function(){},_onclose:function(){}})})},"stock/hkStkZhp/view/newsStore":function(){define(["dojo/_base/lang","dojo/_base/declare","dojox/store/WebSocket"],function(g,h,b){return h("news.zongheping.Store",[b],{constructor:function(b){h.safeMixin(this,b);this.inherited(arguments)},socketCfg:{},total_nums:0,
parameter:{},current_item_cnt:0,idProperty:"id",getProperty:function(b){return this[b]},setProperty:function(b,a){1==arguments.length&&g.isObject(b)?g.mixin(this,b):2==arguments.length&&(this[b]=a)},query:function(b,a){this.socketCfg.parameter=(window.external.base64encode||btoa)(JSON.stringify(this.parameter));[].push.call(arguments,this.socketCfg);var d=this.inherited(arguments);1==this.socketCfg.response_times&&d.then(g.hitch(this,function(){this.cancel(this.req_seq)}));d.total=d.then(function(a){return a?
a.total_num:-1});return d},progress:function(b){return this.convert(b)},convert:function(b){var b=b.result,a,d,c=[],f=this,g=this.parameter;2==b.head.length&&"title"==b.head[0]&&"tablelist"==b.head[1]?(a=b.datas[0][1].head,d=b.datas[0][1].datas):(a=b.head,d=b.datas);d.forEach(function(b){var d={};a.forEach(function(a,c){d[a]=b[c]});f.put(d);c.push(d)});if(b.datas[1])try{var h=b.datas[1][1].datas[0];c.total_num=!h||-1==h[0]||0==h[0]?0:h[0]}catch(k){}this.current_item_cnt=g.skip+c.length;return c}})})}}});
define("stock/hkStkZhp/src",["dijit/dijit","dojo/parser","dojo/ready","stock/hkStkZhp/view/main"],function(g,h){return function(){h.parse()}});