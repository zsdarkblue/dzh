define("views/_base",["_base","observable","jquery","_widget","datetime","filter","select"],function(t,e,i,n){return t.extend([e],function(t){i.extend(this,t),this.root.on("click","[data-bind$=Click]",this.handleEvent.bind(this)),this.root.on("change","[data-bind$=Change]",this.handleEvent.bind(this)),setTimeout(function(){"function"==typeof this.init&&this.init(t),this.emit("init")}.bind(this),0)},{handleEvent:function(t){var e=t.currentTarget.dataset.bind;e in this&&"function"==typeof this[e]&&this[e](t),this.emit(e.replace(/^on\w/,function(t){return t.slice(-1).toLowerCase()}),t.currentTarget.value||t.currentTarget.dataset)},handleLoading:function(){if(i("body").hasClass("loading"))for(var t in this)if(0===t.indexOf("render")&&"function"==typeof this[t]&&this[t].length){var e=function(){for(var t in this)if("function"==typeof this[t]&&this[t].origin){var e=this[t];this[t]=e.origin,e.origin=void 0}this[arguments.callee.key].apply(this,arguments),i("body").removeClass("loading")};e.key=t,e.origin=this[t],this[t]=e}},destroy:function(){for(var t in this)"object"==typeof this[t]&&(this[t]instanceof i&&this[t].off(),this[t]instanceof n&&this[t].destroy())}})}),define("repositories/cIndex",["repository_base"],function(t){return new(t.extend({getTableData:function(t){var e=t.function;return delete t.function,$.send("/rpc",{so:"jso-html5-lhb.jar","function":e,paraencode:"base64",parameter:(external.base64encode||btoa)(JSON.stringify(t))},{before:function(t){return JSON.parse(JSON.stringify(t).replace(/\bNULL\b/g,"-"))}})}}))}),define("view_models/pager",{data:{index:1,input:1,take:30,size:7,count:1,items:[]},methods:{onClick:function(t){"A"===t.target.tagName&&this.go(Number(t.target.innerText)||Number(t.target.dataset.index))},onChange:function(t){this.go(Number(t.target.value))},go:function(t){var e=this.count;return 1>t?t=e:t>e&&(t=1),this.index=t,this.input=t,this.refresh(e),this.$emit("change",this.$data,t),this},prev:function(){return this.go(this.index-1)},next:function(){return this.go(this.index+1)},refresh:function(t){var e=this.index,i=this.size,n=Math.floor(i/2)-1,a=e-n,r=e+n;n>a&&(a=2,r=a+i-3,r>t-1&&(r=t-1)),n>t-r&&(r=t-1,a=r-i+3,2>a&&(a=2)),this.count=t,this.input=this.index,this.items.splice(0,this.items.length);for(var s=a;r>=s;s++)this.items.push(s)}}}),define("presenters/cIndex",["presenter_base","../repositories/cIndex","../view_models/pager","vue","topic"],function(t,e,i,n,a){return t.extend(function(){this.createViewModels(),this.pager=new n(i),this.view.on("init",this.onInitPage.bind(this)),this.pager.$on("change",this.onPagerChange.bind(this)),this.view.on("changeView",this.changeView.bind(this)),this.view.on("changeCondition",this.getTableData.bind(this)),this.view.on("handleOrderByBack",this.handleOrderByBack.bind(this)),this.view.on("changeOrder",this.changeOrder.bind(this)),this.view.on("filterData",this.filterData.bind(this)),this.saveData={},n.filter("fixed",function(t,e,i){e&&isNaN(e)&&(i=e,e=2);var n,a=e||2;if(isNaN(t)||!t)return t;n=parseFloat(t).toFixed(a);var r=n.split(".");1===r.length&&(r[1]="");for(var s=a-r[1].length,d=0;s>d;d++)r[1]+="0";return i&&(n+=i),n})},{onInitPage:function(){function t(t){var e=t?new Date(t):new Date,i=e.getMonth()+1,n=e.getDate();return e.getFullYear()+"-"+(i>=10?i:"0"+i)+"-"+(n>=10?n:"0"+n)}var e=t().split("-"),i=parseInt(e[1]);0>=i-2?(e[1]=12-(i-2),e[0]=parseInt(e[0])-1):e[1]=i-2>=10?i-2:"0"+(i-2),this.view.initSearchVal({beginDate:e.join("-"),endDate:t(),searchDate:t(+new Date-864e5)}),this.view.render(this.pager),this.getTableData()},handleOrderByBack:function(){this.pager.index=1,this.view.getRecordPageEl().data("page",1),this.getTableData(!0)},getTableData:function(t){var i=this.view.getCurrentPanel();return e.getTableData(this.view.getSendDataObj(this.pager)).then(function(e){var n,a=i.find(".order"),r=i.data("view"),s=this;if(3==e.length){var d=e[2][0].LatestTradingDay;this.view.initDate(d.substr(0,4)+"-"+d.substr(4,2)+"-"+d.substr(6,2))}this.saveData[r]=$.extend(!0,[],e),t?(n=e[1],n.forEach(function(t,e){t.num=(s.pager.index-1)*s.pager.take+e+1})):(a.length?(n=this.sortArr($.extend(!0,[],this.saveData[r][1]),a.data("order")),a.hasClass("desc")||n.reverse()):n=e[1],n.forEach(function(t,e){t.num=e+1}),n=n.slice((this.pager.index-1)*this.pager.take,this.pager.index*this.pager.take)),i.data("vue").items=n,this.view.root.find(".noDataMsg").attr("class",n.length?"noDataMsg hide":"noDataMsg"),this.pager.refresh(Math.ceil(Number(e[0][0].total)/this.pager.take)||1)}.bind(this))},onPagerChange:function(t,e){var i=this.view.getCurrentPanel();this.view.getRecordPageEl().data("page",e),i.hasClass("handleByBack")?this.getTableData(!0):this.refreshPageDate()},refreshPageDate:function(){var t=this.view.getCurrentPanel(),e=t.find(".order"),i=(t.data("view"),$.extend(!0,[],this.saveData[t.data("view")][1])),n=t.find(".btns-list .active[data-value]");e.length&&(i=this.sortArr(i,e.data("order")),e.hasClass("desc")||i.reverse()),i=this.filterDataAndShow(i,{filter:n.data("value"),key:n.parent("ul").data("key")}),this.pager.refresh(Math.ceil(i.length/this.pager.take)||1)},changeView:function(){var t=this.view.getCurrentPanel().data("view");this.saveData[t]?(this.pager.index=this.view.getRecordPageEl().data("page"),this.pager.refresh(this.view.isHandleByBack()||void 0==this.view.getRecordPageEl().data("total")?Math.ceil(Number(this.saveData[t][0][0].total)/this.pager.take)||1:Math.ceil(Number(this.view.getRecordPageEl().data("total")))||1)):this.getTableData()},createViewModels:function(){var t=this;this.view.root.find(".panel").each(function(){var e=new n({data:{items:[]},methods:{showDetail:function(e,i){e.preventDefault(),e.stopPropagation(),a.emit(t.view.getCurrentPanel().data("view")+":show",$.extend(t.view.getSendDataObj({}),i))}}});$(this).data("vue",e)})},specialSortArr:function(t,e){var i="买入席位"==e?"B":"S",n=t.sort(function(t,e){for(var n=1;5>=n;n++){if(t[i+n]!=e[i+n])return t[i+n]<e[i+n]?-1:1;if(5===n)return 0}});return n},sortArr:function(t,e){return"买入席位"==e||"卖出席位"==e?this.specialSortArr(t,e):("string"==typeof e&&(e=[e]),t.sort(function(t,i){for(var n=0;n<e.length;n++){var a=e[n];if("-"===t[a])return 1;if("-"===i[a])return-1;var r=isNaN(t[a])?t[a]:parseFloat(t[a]),s=isNaN(i[a])?i[a]:parseFloat(i[a]);if(r!=s)return r>s?-1:1;if(n===e.length-1)return 0}}))},changeOrder:function(t){var e=this.view.getCurrentPanel().data("view"),i=this.sortArr($.extend(!0,[],this.saveData[e][1]),t.orderBy);t.desc||i.reverse(),this.view.getRecordPageEl().data("page",1),this.pager.index=1,this.filterDataAndShow(i,t)},filterData:function(t){var e,i=this.view.getCurrentPanel().data("view"),n=this.view.getRecordPageEl();t.orderBy?(e=this.sortArr($.extend(!0,[],this.saveData[i][1]),t.orderBy),t.desc||e.reverse()):e=$.extend(!0,[],this.saveData[i][1]),this.pager.index=n.data("page"),n.data("total",Math.ceil(this.filterDataAndShow(e,t).length/this.pager.take))},filterDataAndShow:function(t,e){return"all"!=e.filter&&(t=t.filter(function(t){return t[e.key]==e.filter})),t.forEach(function(t,e){t.num=e+1}),this.pager.refresh(Math.ceil(t.length/this.pager.take)||1),this.view.getCurrentPanel().data("vue").items=t.slice((this.pager.index-1)*this.pager.take,this.pager.index*this.pager.take),t}})}),define("repositories/dialogA",["repository_base"],function(t){return new(t.extend({getList:function(t){return $.send("/rpc",{so:"jso-html5-lhb.jar","function":"gw.sh.func.ActiveStocksRankingDetailRequest",paraencode:"base64",parameter:(external.base64encode||btoa)(JSON.stringify(t))},{before:function(t){return JSON.parse(JSON.stringify(t).replace(/\bNULL\b/g,"-"))}})},getDetail:function(t){return $.send("/rpc",{so:"jso-html5-lhb.jar","function":"gw.sh.func.NewlhbDetailRequest",paraencode:"base64",parameter:(external.base64encode||btoa)(JSON.stringify(t))},{before:function(t){return JSON.parse(JSON.stringify(t).replace(/\bNULL\b/g,"-"))}})}}))}),define("presenters/dialogA",["presenter_base","vue","topic","../repositories/dialogA"],function(t,e,i,n){return t.extend(function(){e.filter("formatDate",function(t){return isNaN(t)?t:t.substr(0,4)+"-"+t.substr(4,2)+"-"+t.substr(6,2)}),e.filter("fixed",function(t,e,i){e&&isNaN(e)&&(i=e,e=2);var n,a=e||2;if(isNaN(t)||!t)return t;n=parseFloat(t).toFixed(a);var r=n.split(".");1===r.length&&(r[1]="");for(var s=a-r[1].length,d=0;s>d;d++)r[1]+="0";return i&&(n+=i),n})},{init:function(){this.createViewModel(),this.view.render(this.vm),i.on("billboard:show",this.getItemData.bind(this)),i.on("stock:show",this.changeData.bind(this))},bindData:function(t){this.vm.dateItems=t,setTimeout(function(){this.view.dialog.show()}.bind(this),50),this.view.resetScroll()},getItemData:function(t){return n.getDetail({date:t.date,CO:t.CO,bdate:t.bdate,edate:t.edate}).then(function(t){var e=0,i=0;t[1]=this.sortArr(t[1],"C7").slice(0,5),t[2]=this.sortArr(t[2],"C9").slice(0,5),t[1].forEach(function(t){e+=parseFloat(t.C7)}),t[2].forEach(function(t){i+=parseFloat(t.C9)});var n=[{info:t[0][0],firstObj:{list:t[1],total:e.toFixed(4)},secondObj:{list:t[2],total:i.toFixed(4)}}];this.bindData(n)}.bind(this))},changeData:function(t){var e={CO:t.CO,QJ:t.QJ,page:"1",pagesize:"999999999"};return 4==t.QJ&&(e.bdate=t.bdate,e.edate=t.edate),n.getList(e).then(function(t){var e=[];t[0].forEach(function(i){var n={info:i,firstObj:{list:[],total:0},secondObj:{list:[],total:0}};t[1].forEach(function(t){t.C1==i.C1&&n.firstObj.list.length<5&&(n.firstObj.list.push(t),n.firstObj.total+=isNaN(t.C7)?0:parseFloat(t.C7))}),t[2].forEach(function(t){t.C1==i.C1&&n.secondObj.list.length<5&&(n.secondObj.list.push(t),n.secondObj.total+=isNaN(t.C9)?0:parseFloat(t.C9))}),n.firstObj.total=n.firstObj.total.toFixed(4),n.secondObj.total=n.secondObj.total.toFixed(4),e.push(n)}),this.bindData(e)}.bind(this))},sortArr:function(t,e){return"string"==typeof e&&(e=[e]),t.sort(function(t,i){for(var n=0;n<e.length;n++){var a=e[n];if("-"===t[a])return 1;if("-"===i[a])return-1;var r=isNaN(t[a])?t[a]:parseFloat(t[a]),s=isNaN(i[a])?i[a]:parseFloat(i[a]);if(r!=s)return r>s?-1:1;if(n===e.length-1)return 0}})},createViewModel:function(){this.vm=new e({data:{dateItems:[]}})}})}),define("text!views/dialogA.html",[],function(){return'<div id="detailDialog" class="dialog" draggable="true">\r\n    <div class="dialog-header">明细信息<i>&times;</i></div>\r\n    <div class="dialog-body">\r\n        <div class="container scroll">\r\n\r\n            <ul class="item-list">\r\n                <li v-repeat="dateItem:dateItems">\r\n                    <ul class="info-list">\r\n                        <li class="col-12 title">\r\n                            <dl>\r\n                                <dt>\r\n                                    <i class="fa fa-chevron-circle-right"></i>\r\n                                    交易日期：\r\n                                </dt>\r\n                                <dd v-text="dateItem.info.C1 | formatDate"></dd>\r\n                            </dl>\r\n                        </li>\r\n                        <li class="col-12">\r\n                            <dl>\r\n                                <dt>\r\n                                    披露原因：\r\n                                </dt>\r\n                                <dd v-text="dateItem.info.Reason"></dd>\r\n                            </dl>\r\n                        </li>\r\n                        <li class="col-4">\r\n                            <dl>\r\n                                <dt>成交量：</dt>\r\n                                <dd><span v-text="dateItem.info[\'成家量\']"></span>手</dd>\r\n                            </dl>\r\n                        </li>\r\n                        <li class="col-4">\r\n                            <dl>\r\n                                <dt>成交金额：</dt>\r\n                                <dd><span v-text="dateItem.info[\'成交金额\']| fixed 0"></span>万元</dd>\r\n                            </dl>\r\n                        </li>\r\n                        <li class="col-4">\r\n                            <dl>\r\n                                <dt>买卖差：</dt>\r\n                                <dd><span v-text="dateItem.info[\'买卖差\']| fixed 2"></span>万元</dd>\r\n                            </dl>\r\n                        </li>\r\n                    </ul>\r\n\r\n                    <h3>\r\n                        <b>买入金额最大的前五名</b>\r\n                        <!--<span class="total">买入总计：<span class="red" v-text="dateItem.firstObj.total| fixed 2"></span>万元</span>-->\r\n                    </h3>\r\n\r\n                    <table>\r\n                        <colgroup>\r\n                            <col width="60%">\r\n                            <col width="20%">\r\n                            <col width="20%">\r\n                        </colgroup>\r\n                        <thead>\r\n                        <tr>\r\n                            <td class="align-left">营业部或交易单元名称</td>\r\n                            <td>买入金额（万元）</td>\r\n                            <td>卖出金额（万元）</td>\r\n                        </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                        <tr v-repeat="item:dateItem.firstObj.list">\r\n                            <td class="align-left">\r\n                                <span class="limit" v-text="item.C4" title="{{item.C4}}"></span>\r\n                            </td>\r\n                            <td class="red">\r\n                                <span class="largeNum" v-text="item.C7| fixed 2"></span>\r\n                            </td>\r\n                            <td class="green">\r\n                                <span class="largeNum" v-text="item.C9| fixed 2"></span>\r\n                            </td>\r\n                        </tr>\r\n                        </tbody>\r\n                    </table>\r\n\r\n                    <h3>\r\n                        <b>卖出金额最大的前五名</b>\r\n                        <!--<span class="total">卖出总计：<span class="green" v-text="dateItem.secondObj.total| fixed 2"></span>万元</span>-->\r\n                    </h3>\r\n\r\n                    <table>\r\n                        <colgroup>\r\n                            <col width="60%">\r\n                            <col width="20%">\r\n                            <col width="20%">\r\n                        </colgroup>\r\n                        <thead>\r\n                        <tr>\r\n                            <td class="align-left">营业部或交易单元名称</td>\r\n                            <td>买入金额（万元）</td>\r\n                            <td>卖出金额（万元）</td>\r\n                        </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                        <tr v-repeat="item:dateItem.secondObj.list">\r\n                            <td class="align-left">\r\n                                <span class="limit" v-text="item.C4" title="{{item.C4}}"></span>\r\n                            </td>\r\n                            <td class="red">\r\n                                <span class="largeNum" v-text="item.C7| fixed 2"></span>\r\n                            </td>\r\n                            <td class="green">\r\n                                <span class="largeNum" v-text="item.C9| fixed 2"></span>\r\n                            </td>\r\n                        </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </li>\r\n            </ul>\r\n\r\n        </div>\r\n    </div>\r\n</div>'}),define("views/dialogA",["view_base","../presenters/dialogA","text!views/dialogA.html","dialog"],function(t,e,i){var n=t.extend({render:function(t){t.$mount(this.dialog.target[0])},resetScroll:function(){this.dialog.target.find(".scroll").scrollTop(0)}});return n.init=function(t){return new e(new this({root:t.append(i),dialog:t.find("#detailDialog").widget("dialog")})).view},n}),define("repositories/dialogB",["repository_base"],function(t){return new(t.extend({getDetail:function(t){return $.send("/rpc",{so:"jso-html5-lhb.jar","function":"gw.sh.func.ActiveSalesDepartmentRankingDetailRequest",paraencode:"base64",parameter:(external.base64encode||btoa)(JSON.stringify(t))},{before:function(t){return JSON.parse(JSON.stringify(t).replace(/\bNULL\b/g,"-"))}})}}))}),define("presenters/dialogB",["presenter_base","vue","topic","../repositories/dialogB"],function(t,e,i,n){return t.extend(function(){e.filter("formatDate",function(t){return isNaN(t)?t:t.substr(0,4)+"-"+t.substr(4,2)+"-"+t.substr(6,2)}),e.filter("fixed",function(t,e,i){e&&isNaN(e)&&(i=e,e=2);var n,a=e||2;if(isNaN(t)||!t)return t;n=parseFloat(t).toFixed(a);var r=n.split(".");1===r.length&&(r[1]="");for(var s=a-r[1].length,d=0;s>d;d++)r[1]+="0";return i&&(n+=i),n})},{init:function(){this.createViewModel(),this.view.render(this.vm),i.on("saleDep:show",this.changeData.bind(this))},changeData:function(t){return this.vm.title=t.DEPA,n.getDetail({QJ:t.QJ,Code:t.C3,page:1,pagesize:999999999}).then(function(t){this.vm.items=t[1],setTimeout(function(){this.view.dialog.show()}.bind(this),50),this.view.resetScroll()}.bind(this))},createViewModel:function(){this.vm=new e({data:{items:[],title:""}})}})}),define("text!views/dialogB.html",[],function(){return'<div id="salesDialog" class="dialog" draggable="true">\r\n    <div class="dialog-header">参与股票<i>&times;</i></div>\r\n    <div class="dialog-body">\r\n        <div class="container scroll">\r\n            <div class="header">\r\n                <h3 v-text="title"></h3>\r\n                <span class="info">单位: 万元</span>\r\n            </div>\r\n            <table>\r\n                <colgroup>\r\n                    <col width="20%">\r\n                    <col width="15%">\r\n                    <col width="20%">\r\n                    <col width="15%">\r\n                    <col width="15%">\r\n                    <col width="15%">\r\n                </colgroup>\r\n                <thead>\r\n                <tr>\r\n                    <td>日期</td>\r\n                    <td>股票代码</td>\r\n                    <td>股票名称</td>\r\n                    <td>涨幅%</td>\r\n                    <td>买入金额</td>\r\n                    <td>卖出金额</td>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr v-repeat="item:items">\r\n                        <td v-text="item[\'C1\'] | formatDate"></td>\r\n                        <td v-text="item[\'symbol\']"></td>\r\n                        <td v-text="item[\'C4\']"></td>\r\n                        <td  v-class="red: item[\'PCHG\'] >= 0, green: item[\'PCHG\'] < 0">\r\n                            <span class="shortNum" v-text="item[\'PCHG\']| fixed 2"></span>\r\n                        </td>\r\n                        <td  v-class="red: item[\'C7\'] >= 0, green: item[\'C7\'] < 0">\r\n                            <span  v-text="item[\'C7\']| fixed 2" class="num"></span>\r\n                        </td>\r\n                        <td class="green">\r\n                            <span  v-text="item[\'C9\']| fixed 2" class="num"></span>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n\r\n        </div>\r\n    </div>\r\n</div>'}),define("views/dialogB",["view_base","../presenters/dialogB","text!views/dialogB.html","dialog"],function(t,e,i){var n=t.extend({render:function(t){t.$mount(this.dialog.target[0])},resetScroll:function(){this.dialog.target.find(".scroll").scrollTop(0)}});return n.init=function(t){return new e(new this({root:t.append(i),dialog:t.find("#salesDialog").widget("dialog")})).view},n}),define("views/index",["./_base","../presenters/cIndex","./dialogA","./dialogB"],function(t,e,i,n){var a=t.extend(function(){addEventListener("resize",function(){$("#container").css("height",document.body.clientHeight-37+"px")}),$("#container").css("height",document.body.clientHeight-37+"px");var t=this.root.find("header .active");this.root.find('.panel[data-view="'+t.data("view")+'"]').addClass(t.attr("class")).removeClass("hide active")},{render:function(t){this.pagerDiv.removeClass("hide"),t.$mount(this.pagerDiv[0]),this.root.find(".panel").each(function(){$(this).data("vue").$mount(this)}),i.init(this.root.find("body")).dialog,n.init(this.root.find("body")).dialog},onDateClick:function(t){var e=$(t.target);e.parents("li").length&&(e=e.parents("li").first()),e.hasClass("tip-container")?(e.addClass("open"),this.root.find(".mask").removeClass("hide")):(this.getCurrentPanel().find(".btns-list .active").removeClass("active"),$(t.target).addClass("active"),this.resetOrderIcon(),this.isHandleByBack()?this.emit("changeCondition",!0):this.emit("filterData",{orderBy:e.data("order"),desc:e.data("desc"),filter:e.data("value"),key:e.parent("ul").data("key")}))},resetOrderIcon:function(){var t=this.getRecordPageEl(),e=this.getCurrentPanel().find('th[data-order="'+t.data("order")+'"]');e.length?(e.addClass("order").siblings().removeClass("order desc").find("i").remove(),e.append('<i class="arrow"></i>'),t.data("desc")?e.addClass("desc"):e.removeClass("desc")):this.getCurrentPanel().find(".order").removeClass("order desc")},onSearchBtnClick:function(t){t.preventDefault(),t.stopPropagation();var e=this.getCurrentPanel();e.find(".btns-list .active").removeClass("active"),this.root.find(".mask").addClass("hide"),this.root.find(".tip-container").addClass("active").removeClass("open"),e.find(".order").removeClass("order desc").find("i").remove(),this.emit("changeCondition",this.isHandleByBack())},onSearchCancelClick:function(t){this.root.find(".tip-container").removeClass("open"),this.root.find(".mask").addClass("hide"),t.preventDefault(),t.stopPropagation()},onChangeViewClick:function(t){var e=$(t.target);e.parents("li").length&&(e=e.parents("li").first()),"LI"==e[0].tagName&&(this.root.find("header ul .active").not(e.addClass("active")).removeClass("active"),this.root.find(".panel").not(this.root.find('.panel[data-view="'+e.data("view")+'"]').addClass(e.attr("class")).removeClass("hide active")).addClass("hide"),this.root.find(".noDataMsg").addClass("hide"),this.emit("changeView"))},changeDate:function(t){return""===t?t:t.substr(0,4)+"-"+t.substr(4,2)+"-"+t.substr(6,2)},initSearchVal:function(t){this.root.find("#beginDate").val(t.beginDate),this.root.find("#endDate").val(t.endDate)},initDate:function(t){this.root.find("#searchDate").text(t)},getCurrentPanel:function(){return this.root.find(".panel:not(.hide)")},getRecordPageEl:function(){var t=this.getCurrentPanel().find(".active[data-page]");return t.length?t:this.root.find("header .active[data-page]")},getSendDataObj:function(t){function e(t){return t?t.split("-").join("")+"000000":t}var i=this.getCurrentPanel(),n=i.find("#searchDate"),a=i.find(".btns-list .active"),r=i.find(".order"),s=this.root.find("header ul > .active"),d={"function":s.data("func"),page:1,pagesize:99999999};return this.isHandleByBack()&&($.extend(d,{orderName:r.data("order"),page:this.getRecordPageEl().data("page"),pagesize:t.take}),r.length&&(d.order=i.find(".desc").length?0:1),t.index=d.page,a.length&&(d.QJ=a.data("value"),4==d.QJ&&(d.bdate=e(i.find("#beginDate").val()),d.edate=e(i.find("#endDate").val())))),n.length&&(d.date=e(n.text())),d},onTHeadClick:function(t){var e=$(t.target);if(e=e.parent("th").length>0?e.parent("th"):e,"undefined"!=typeof e.data("order"))if(e.hasClass("order")?(e.toggleClass("desc"),this.getRecordPageEl().data("desc",e.hasClass("desc")?1:0)):(this.getRecordPageEl().data("order",e.data("order")),e.addClass("order").siblings().removeClass("order desc").find("i").remove(),e.append('<i class="arrow"></i>')),this.isHandleByBack())this.emit("handleOrderByBack",!0);else{var i=this.getCurrentPanel().find(".btns-list .active[data-value]"),n={orderBy:e.data("order"),desc:e.hasClass("desc")};i.length&&(n.filter=i.data("value"),n.key=i.parent("ul").data("key")),this.emit("changeOrder",n)}},isHandleByBack:function(){return this.getCurrentPanel().hasClass("handleByBack")},onMaskClick:function(t){$(t.target).addClass("hide"),this.root.find(".tip-container").removeClass("open")},onSearchDateChange:function(){this.emit("changeCondition",this.isHandleByBack())}});return a.init=function(){new e(new this({root:$(document),pagerDiv:$("div.pager")}))},a}),require(["views/index"],function(){require(["views/"+(location.pathname.match(/([^\/]+)\.html/)||[,"index"])[1]],function(){arguments[0]&&arguments[0].init&&arguments[0].init()})}),define("src",function(){});