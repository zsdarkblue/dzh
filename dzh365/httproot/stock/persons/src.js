/*
	Copyright (c) 2012-2013,   To get sources and documentation, please visit:

		http://dms.gw.com.cn
*/

//>>built
require({cache:{"stock/persons/view/central":function(){define("dojo/_base/lang,dojo/aspect,dojo/query,dojo/on,dojo/mouse,dojo/dom-style,stock/persons/view/_base,dojo/text!./central.html,stock/persons/presenter/central".split(","),function(b,i,c,f,j,g,a,d,h){return dojo.declare("stock.persons.view.central",[a],{templateString:d,constructor:function(){this.presenters=[h]},createLeaderList:function(e){var a=['<ul class="rw_info_list list1">'];e.forEach(b.hitch(this,function(k,e){this.createFigureItem(k,
e,a)}));a.push("</ul>");c("#main").html(a.join(""))},createDepartmentList:function(a){var m=[],k="",n=[];a.forEach(b.hitch(this,function(a){"0"===a.isdir?(k&&this.createLinkList(m,k,n),n.length=0,k=a.dirc4):n.push(a)}));k&&this.createLinkList(m,k,n);n.length=0;c("#main").append(m.join("")).prepend(c("#main .box_title_sred").first())},createLinkList:function(a,m,k){a.push('<div class="box_title_sred"><div class="box_title_sred_text">',m,"</div></div>",'<ul class="rw_link_list list1 list_pic">');k.forEach(function(k){a.push('<li title="',
k.govc4,'"><p><a data-key="',k.govc2,'" href="javascript:;" class="font_color3">',k.govc4," ></a></p></li>")});a.push("</ul>",'<div class="clear"></div>')}})})},"stock/persons/view/_base":function(){define("dojo/_base/lang,dojo/aspect,dojo/query,dojo/on,dojo/mouse,dojo/dom-style,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dijit/layout/_ContentPaneResizeMixin,dijit/Dialog,dojo/io-query,dojox/store/GridWSStore,dojox/store/MultiResultStore,dojo/NodeList-traverse,dojo/NodeList-manipulate,dojo/NodeList-fx".split(","),
function(b,i,c,f,j,g,a,d,h,e,m){return dojo.declare("stock.persons.view._base",[a,d,h,e],{presenters:[],buildRendering:function(){this.inherited(arguments);this.root=c(this.domNode)},postCreate:function(){this.inherited(arguments)},startup:function(){var k=this;if(!this._started){!this.domNode.parentNode&&document.body.appendChild(this.domNode);this.inherited(arguments);for(var a=0,e=this.presenters.length;a<e;a++)this.presenters[a]=new this.presenters[a](this);setTimeout(b.hitch(this,function(){this.emit($events.viewInit,
{})}),0);this.own(this.root.on(f.selector(".figure-item a,.figure-item img","click"),function(){this.dataset.key&&k.emit($events.personsLinkClicked,{data:this.dataset.key})}),this.root.on(f.selector(".rw_link_list a","click"),function(){this.dataset.key&&k.emit($events.organizationsLinkClicked,{data:{id:this.dataset.key,name:this.innerText.replace(">","").trim(),title:c("#title_bar").text(),style:c("#title_bar")[0].className}})}));c(document.body).on(f.selector(".concern input","change"),function(){k.emit($events.personConcernChecked,
{data:{check:this.checked,title:this.title,value:this.value}})});c(document.body).on(f.selector(".concern",j.enter),function(){var a=c(this).query("input")[0]||{};k.emit($events.personConcernMouseEnter,{data:{obj:a}})})}},showTipsDialog:function(k,a){var e=new m({title:"\u63d0\u793a",style:{width:"210px"},content:k,onHide:function(){this.destroyRecursive()}});a&&setTimeout(function(){e.hide()},a);e.show();return e},showErrorDialog:function(a){switch((a||{}).dojoType){case "cancel":break;default:this.showTipsDialog(" - \u670d\u52a1\u5668\u65e0\u54cd\u5e94\uff0c\u8bf7\u7a0d\u5019\u91cd\u8bd5\u3002",
1E3)}},showProfilesDialog:function(a){var e=new m({style:"width:100%; height:100%;",draggable:!1,onHide:function(){this.destroyRecursive()}});c(e.domNode).query(">.dijitDialogPaneContent").style({display:"none"}).after('<iframe style="width:100%; height:100%;" frameborder="0" scrolling="no" allowtransparency="true" src="../rw/index.html?userCode='+a+'"></iframe>');e.show()},getUUID:function(){return Math.random().toFixed(20).replace("0.","_")},getImage:function(a){return a.toString().replace(/^null$/,
"").replace(/^#DZH2DATA#0#/,"http://rdfile.gw.com.cn")||"resources/img/pic2.png"},createFigureItem:function(a,e,m){var d=this.getUUID();m.push('<li class="figure-item" ',e?"":' style="margin-right:100%;"',">",'    <div class="li_pic_l concern_box">','        <img data-key="',a.id,'" src="',this.getImage(a.photo),'" width="100" height="120" alt="',a.name,'"/>','        <div class="concern">','            <input type="checkbox" title="',a.name,'" value="',a.id,'" id="',d,'" style="vertical-align:middle;" />',
'            <label for="',d,'" style="vertical-align:middle;">\u5173\u6ce8</label>',"        </div>","    </div>",'    <p class="info_title"><a data-key="',a.id,'" href="javascript:;" class="font_color8">',a.name,"</a></p>",'    <p title="',a.position,'">',a.position,"</p>","</li>")}})})},"dojo/NodeList-fx":function(){define(["./query","./_base/lang","./_base/connect","./_base/fx","./fx"],function(b,i,c,f,j){b=b.NodeList;i.extend(b,{_anim:function(b,a,d){var d=d||{},h=j.combine(this.map(function(e){e=
{node:e};i.mixin(e,d);return b[a](e)}));return d.auto?h.play()&&this:h},wipeIn:function(b){return this._anim(j,"wipeIn",b)},wipeOut:function(b){return this._anim(j,"wipeOut",b)},slideTo:function(b){return this._anim(j,"slideTo",b)},fadeIn:function(b){return this._anim(f,"fadeIn",b)},fadeOut:function(b){return this._anim(f,"fadeOut",b)},animateProperty:function(b){return this._anim(f,"animateProperty",b)},anim:function(b,a,d,h,e){var m=j.combine(this.map(function(e){return f.animateProperty({node:e,
properties:b,duration:a||350,easing:d})}));h&&c.connect(m,"onEnd",h);return m.play(e||0)}});return b})},"url:stock/persons/view/central.html":'<div style="height: 100%;" data-dojo-attach-point="containerNode">\r\n    <div data-dojo-type="dijit/layout/BorderContainer" data-dojo-props="liveSplitters:false,gutters:false, design:\'headline\'">\r\n        <div data-dojo-type="dijit/layout/ContentPane" data-dojo-props="region:\'top\'">\r\n            <div class="links2 searchbar hbox">\r\n                <div class="spacer font14">\r\n                    <span id="title_bar" class="title">\u5927\u667a\u6167 \u4e2d\u592e\u653f\u5e9c\u4eba\u7269\u540d\u5f55</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="right" data-dojo-type="dijit/layout/ContentPane" data-dojo-props="region:\'center\',gutters:false" style="padding:3px 10px;">\r\n            <div id="main" style="height:100%; overflow:auto;">\r\n                <div class="dijitContentPaneLoading" style="padding: 10px;"><span class="dijitInline dijitIconLoading"></span>\u6b63\u5728\u52a0\u8f7d...</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>',
"stock/persons/presenter/central":function(){define(["dojo/_base/lang","dojo/aspect","stock/persons/presenter/_base","stock/persons/repository/person","stock/persons/repository/organization"],function(b,i,c,f,j){return dojo.declare("stock.persons.presenter.central",[c],{onViewInit:function(){this.inherited(arguments);f.getGovernmentLeaders().then(b.hitch(this.view,this.view.createLeaderList),b.hitch(this.view,this.view.showErrorDialog));j.getGovernmentDepartments().then(b.hitch(this.view,this.view.createDepartmentList),
b.hitch(this.view,this.view.showErrorDialog))}})})},"stock/persons/presenter/_base":function(){define(["dojo/_base/lang","dojo/aspect","dojo/query","stock/persons/repository/concern"],function(b,i,c,f){return dojo.declare("stock.persons.presenter._base",null,{favorites:{},constructor:function(c){this.view=c;this.view.on($events.viewInit,b.hitch(this,function(b){(!b.target||b.target===this.view.domNode)&&this.onViewInit()}))},onViewInit:function(){this.view.on($events.personsLinkClicked,b.hitch(this,
this.onPersonsLinkClicked));this.view.on($events.organizationsLinkClicked,b.hitch(this,this.onOrganizationsLinkClicked));var c=this;f.getFavorites().then(function(b){b instanceof Array&&b.forEach(function(a){c.favorites[a.code]=!0})});this.view.on($events.personConcernChecked,b.hitch(this,this.onPersonConcernChecked));this.view.on($events.personConcernMouseEnter,b.hitch(this,this.onPersonConcernMouseEnter))},onPersonsLinkClicked:function(b){this.view.showProfilesDialog(b.data)},onOrganizationsLinkClicked:function(b){b.data.referer=
$route.view;$route("organization",b.data)},onPersonConcernChecked:function(b){var c=this,a="\u64cd\u4f5c\u5931\u8d25,\u8bf7\u7a0d\u540e\u518d\u8bd5";b.data.check?f.addFavorite(b.data.value,b.data.title).then(function(d){d&&d.length&&d[0].state&&(c.favorites[b.data.value]=!0,a="\u5df2\u6dfb\u52a0\u81f3\u6211\u5173\u6ce8\u7684\u4eba!");c.view.showTipsDialog(a,1E3)}):f.cancelFavorite(b.data.value).then(function(d){d&&d.length&&d[0].state&&(delete c.favorites[b.data.value],a="\u5173\u6ce8\u5df2\u53d6\u6d88!");
c.view.showTipsDialog(a,1E3)})},onPersonConcernMouseEnter:function(b){b=b.data.obj;b.checked=b.value in this.favorites}})})},"stock/persons/repository/concern":function(){define("dojo/_base/lang,dojo/aspect,dojo/io-query,dojo/Deferred,dojo/DeferredList,dojox/store/MultiResultStore,dojox/store/GridWSStore,dojox/websocket/WebsocketFileReader,stock/persons/repository/_base,dojo/store/Memory".split(","),function(b,i,c,f,j,g,a,d,h){return(new dojo.declare("stock.persons.repository.concern",[h],{userId:window.external&&
external.getDZHProperty?external.getDZHProperty("userid"):"dzh112_097",getFavorites:function(){return this.getData("/personib/PersonIB/html5_peopleprofile/PeopleSuggest/getFans.mod?"+c.objectToQuery({userName:this.userId,_:Math.random().toFixed(20)}),a)},addFavorite:function(b,m){return this.getData("/personib/PersonIB/html5_peopleprofile/PeopleSuggest/insertFansMsg.mod?"+c.objectToQuery({userName:this.userId,code:b,name:m,_:Math.random().toFixed(20)}),a)},cancelFavorite:function(b){return this.getData("/personib/PersonIB/html5_peopleprofile/PeopleSuggest/cancelFans.mod?"+
c.objectToQuery({userName:this.userId,code:b,_:Math.random().toFixed(20)}),a)},getData:function(a,b){return(new (b||g)).query({service:"rpc",so:"javadataproxy.jar","function":"gw/UIMain",paraencode:"base64",parameter:"Z2V0,"+btoa(a),response_times:1,response_mode:0})}}))()})},"stock/persons/repository/_base":function(){define("dojo/_base/lang,dojo/aspect,dojo/io-query,dojo/Deferred,dojo/DeferredList,dojox/store/MultiResultStore,dojox/store/GridWSStore,dojox/websocket/WebsocketFileReader".split(","),
function(b,i,c,f,j,g){location.search.match(/debug=([^&]*)/);return dojo.declare("stock.persons.repository._base",null,{getOptions:function(a){return{service:"rpc",so:"javadataproxy.jar","function":"gw/UIMain",paraencode:"base64",parameter:"Z2V0,"+btoa(a),response_times:1,response_mode:0}},getGovernmentFigures:function(){if(!arguments.callee.deferred){var a=new g;i.before(a,"convert",function(){if(arguments[0].result&&1<arguments[0].result.datas.length)arguments[0].result.datas[1][0].head=["id","name",
"position","photo"];return arguments});arguments.callee.deferred=a.query(this.getOptions("/personib/PersonIB/html5_GovernmentFigures/GovernmentFigures/getGovernmentFigures.mod"))}return arguments.callee.deferred},getFigures:function(a){if(arguments.callee.id!==a||!arguments.callee.deferred){var b="/personib/PersonIB/html5_GovernmentFigures/Figures/getFigure.mod?govCode="+a,h=new g;i.before(h,"convert",function(){if(arguments[0].result&&2<arguments[0].result.datas.length)arguments[0].result.datas[0][0].head=
"govCode,govName,photo,imgType,id,name,position,posType".split(",");return arguments});arguments.callee.id=a;arguments.callee.deferred=h.query(this.getOptions(b))}return arguments.callee.deferred}})})},"stock/persons/repository/person":function(){define("dojo/_base/lang,dojo/aspect,dojo/io-query,dojo/Deferred,dojo/DeferredList,dojox/store/MultiResultStore,dojox/store/GridWSStore,dojox/websocket/WebsocketFileReader,stock/persons/repository/_base".split(","),function(b,i,c,f,j,g,a,d,h){return(new dojo.declare("stock.persons.repository.person",
[h],{leadersMap:{60000004:"0->1->40000001->40000004",60000013:"0->1->40000001->40000012->40000013",60000039:"0->1->40000001->40000012->40000039",60000041:"0->1->40000001->40000012->40000041",60000057:"0->1->40000001->40000012->40000057",60000062:"0->1->40000001->40000012->40000062",60000076:"0->1->40000001->40000012->40000076",11E4:"0->1->40000093->40000094->40000095->40000096->40000100",110101:"0->1->40000093->40000236->40000237->40000238->40000242",110102:"0->1->40000093->40000236->40000237->40000308->40000312",
110105:"0->1->40000093->40000236->40000237->40000372->40000376",110108:"0->1->40000093->40000236->40000237->40000458->40000462",110106:"0->1->40000093->40000236->40000237->40000517->40000521",110107:"0->1->40000093->40000236->40000237->40000588->40000592",110109:"0->1->40000093->40000236->40000237->40000648->40000652",110111:"0->1->40000093->40000236->40000237->40000703->40000707",110112:"0->1->40000093->40000236->40000237->40000756->40000760",110113:"0->1->40000093->40000236->40000237->40000835->40000839",
110115:"0->1->40000093->40000236->40000237->40000889->40000893",110114:"0->1->40000093->40000236->40000237->40000955->40000959",110117:"0->1->40000093->40000236->40000237->40001023->40001027",110116:"0->1->40000093->40000236->40000237->40001100->40001104",110228:"0->1->40000093->40000236->40000237->40001156->40001160",110229:"0->1->40000093->40000236->40000237->40001221->40001225",31E4:"0->1->40000093->40000094->40001261->40001262->40001266",310115:"0->1->40000093->40000236->40001373->40001374->40001378",
310101:"0->1->40000093->40000236->40001373->40001416->40001420",310106:"0->1->40000093->40000236->40001373->40001451->40001455",310104:"0->1->40000093->40000236->40001373->40001496->40001500",310105:"0->1->40000093->40000236->40001373->40001538->40001542",310107:"0->1->40000093->40000236->40001373->40001576->40001580",310108:"0->1->40000093->40000236->40001373->40001619->40001623",310109:"0->1->40000093->40000236->40001373->40001667->40001671",310110:"0->1->40000093->40000236->40001373->40001711->40001715",
310113:"0->1->40000093->40000236->40001373->40001756->40001760",310112:"0->1->40000093->40000236->40001373->40001799->40001803",310114:"0->1->40000093->40000236->40001373->40001848->40001852",310116:"0->1->40000093->40000236->40001373->40001899->40001903",310117:"0->1->40000093->40000236->40001373->40001940->40001944",310118:"0->1->40000093->40000236->40001373->40001983->40001987",310120:"0->1->40000093->40000236->40001373->40002021->40002025",112617:0,112620:1,112625:2,112631:3,112633:4,112639:5},
getEmployeesByOrganizationId:function(a){var b=new f;this.getFigures(a).then(function(a){a.length?b.resolve(a[0].items):b.reject(a)});return b},getGovernmentLeaders:function(){var a=new f;this.getGovernmentFigures().then(function(b){b.length?a.resolve(b[1].items):a.reject(b)});return a},getLeadersByFinancialType:function(b){var b=[[80049225,80063206,80062012,80043190,80062785,80400581,80129942,80042857,80129943,80274247,80043068],[80043190],[80062012],[80043190],[80062785],[80049225,80062012,80043190]][b],
d=new a({serviceUrl:"/webquery/common/fund"});i.before(d,"convert",function(){if(arguments[0].result)arguments[0].result.head="id,name,position,rank1,rank2,photo".split(",");return arguments});return d.query({__qid:"people_appointment_removal_insurance_impleader",code:'"'+b.join('","')+'"',limit:12})},getLeadersByGovernmentPath:function(b){var d=new a({serviceUrl:"/webquery/common/fund"});i.before(d,"convert",function(){if(arguments[0].result)arguments[0].result.head="id,name,position,rank1,rank2,photo".split(",");
return arguments});return d.query({__qid:"people_appointment_removal_central_leader",c15:"'"+b+"%'",order:/^0->1->40000001->40000012->\d+$/.test(b)?1:2,limit:12})},getSeniorByIndustry:function(b,d,k,h,o){return(new a({serviceUrl:"/personib/PersonIB/html5_Executives/ExecutivesDirectories/executives.mod"})).query({company:b,sector:d,industry:k,page:h||1,offset:o||20})}}))()})},"stock/persons/repository/organization":function(){define("dojo/_base/lang,dojo/aspect,dojo/io-query,dojo/Deferred,dojo/DeferredList,dojox/store/MultiResultStore,dojox/store/GridWSStore,dojox/websocket/WebsocketFileReader,stock/persons/repository/_base,dojo/store/Memory".split(","),
function(b,i,c,f,j,g,a,d,h,e){return(new dojo.declare("stock.persons.repository.organization",[h],{getGovernmentDepartments:function(){var a=new f;this.getGovernmentFigures().then(function(b){b.length?a.resolve(b[0].items):a.reject(b)});return a},getLogoByOrganizationId:function(a){var b=new f;this.getFigures(a).then(function(a){1<a.length?b.resolve(a[2].items):b.reject(a)});return b},getOrganizationsByType:function(a){arguments.callee.map=arguments.callee.map||{};if(!(a in arguments.callee.map)){var b=
new f;require(["dojo/text!./resources/organizations_"+a+".json"],function(a){a.length?(a=JSON.parse(a),a.forEach(function(a){a.search=a.name+" "+a.search}),b.resolve(a)):b.reject(a)});arguments.callee.map[a]=b}return arguments.callee.map[a]},getListedCompaniesStore:function(){return new e({query:function(b){var d=new f,b=dojo.trim(b.name.toString().toUpperCase().replace(/\*/g,""));b.length?d.total=(new a({serviceUrl:"/keyspirit/search"})).query({key:encodeURI(b),f:0,e:"R2",__encoding:"gbk",l:20}).then(function(a){var b=
[];a.forEach(function(a){this.push({id:a.obj,name:a.obj.replace(/\..+$/," ")+a.disp})},b);d.resolve(b);return a.length}):d.resolve([]);return d}})},getIndustryComb:function(){return(new a({serviceUrl:"/personib/PersonIB/html5_Executives/ExecutivesDirectories/industries.mod"})).query({})}}))()})},"stock/persons/view/organization":function(){define("dojo/_base/lang,dojo/aspect,dojo/query,dojo/on,dojo/mouse,dojo/dom-style,stock/persons/view/_base,dojo/text!./organization.html,stock/persons/presenter/organization".split(","),
function(b,i,c,f,j,g,a,d,h){return dojo.declare("stock.persons.view.organization",[a],{templateString:d,constructor:function(){this.presenters=[h];this.name=$route.args.name||"";this.referer=$route.args.referer||"";this.title=$route.args.title||"";this.style=$route.args.style||"title"},createEmployeeList:function(a){var d=[];a.forEach(b.hitch(this,function(a,b){this.createFigureItem(a,b,d)}));c("#list").html(d.join(""))},showLogo:function(a){f.once(c("#logo").attr("src",this.getImage(a)),"load",function(){this.style.display=
"block"})},hideLogo:function(){c("#logo").attr("src","about:blank").style("display","none")}})})},"url:stock/persons/view/organization.html":'<div style="height: 100%;" data-dojo-attach-point="containerNode">\r\n    <div data-dojo-type="dijit/layout/BorderContainer" data-dojo-props="liveSplitters:false,gutters:false, design:\'headline\'">\r\n        <div data-dojo-type="dijit/layout/ContentPane" data-dojo-props="region:\'top\'">\r\n            <div class="links2 searchbar hbox">\r\n                <div class="spacer font14">\r\n                    <span class="${style}">${title}</span>\r\n                </div>\r\n            </div>\r\n            <div class="navgation">\r\n                <div class="left_navbar">\u60a8\u5f53\u524d\u7684\u4f4d\u7f6e\uff1a\r\n                    <a href="javascript:;"></a>\r\n                    <a href="#/${referer}">\u9996\u9875</a> &gt;&gt;\r\n                    <a href="javascript:;">${name} </a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div data-dojo-type="dijit/layout/ContentPane" data-dojo-props="region:\'center\',gutters:false">\r\n            <div class="box_title_sred"><div class="box_title_sred_text">${name} </div></div>\r\n            <img id="logo" src="about:blank" class="right_logo">\r\n            <div class="list_pad list_pad_newpage">\r\n                <ul id="list" class="rw_info_list list1">\r\n                    <li class="dijitContentPaneLoading" style="padding: 10px;"><span class="dijitInline dijitIconLoading"></span>\u6b63\u5728\u52a0\u8f7d...</li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>',
"stock/persons/presenter/organization":function(){define(["dojo/_base/lang","dojo/aspect","stock/persons/presenter/_base","stock/persons/repository/person","stock/persons/repository/organization"],function(b,i,c,f,j){return dojo.declare("stock.persons.presenter.organization",[c],{onViewInit:function(){this.inherited(arguments);f.getEmployeesByOrganizationId($route.args.id).then(b.hitch(this.view,this.view.createEmployeeList),b.hitch(this.view,this.view.showErrorDialog));j.getLogoByOrganizationId($route.args.id).then(b.hitch(this,
function(b){b.length&&b[0].govLogo&&/^#DZH2DATA#0#/.test(b[0].govLogo)?this.view.showLogo(b[0].govLogo):this.view.hideLogo()}),b.hitch(this.view,this.view.hideLogo))}})})},"stock/persons/view/news":function(){define("dojo/_base/lang,dojo/aspect,dojo/query,dojo/on,dojo/mouse,dojo/dom-style,stock/persons/view/_base,dojo/text!./news.html,stock/persons/presenter/news,dojo/window,dijit/form/FilteringSelect,dijit/Dialog,stock/persons/view/widgets/TreeMenu".split(","),function(b,i,c,f,j,g,a,d,h,e,m,k){return dojo.declare("stock.persons.view.news",
[a],{templateString:d,loadingMessage:'<li class="dijitContentPaneLoading" style="padding: 10px;"><span class="dijitInline dijitIconLoading"></span>\u6b63\u5728\u52a0\u8f7d...</li>',constructor:function(){this.presenters=[h]},startup:function(){var a=this;this.inherited(arguments);this.tabs=c("#tabs");this.menu=c("#menu");this.newsList=c("#news_list");this.leaderList=c("#leader_list");this.leaderPager=c(".page_btn");this.leadersPanel=dijit.byId("leaders");this.own(this.tabs.on("li:click",function(){a.emit($events.newsTabsClicked,
{data:this.dataset.type})}),this.menu.on("li:click",function(){a.emit($events.newsMenuClicked,{data:this.dataset})}),this.newsList.parent().on("scroll",function(){100>this.scrollHeight-this.scrollTop-this.clientHeight&&a.emit($events.newsListScrollEnd,{})}),this.newsList.on("li:click",function(){this.dataset.json&&a.emit($events.newsLinkClicked,{data:JSON.parse(this.dataset.json)})}),c(".xw_back_up").on("click",b.hitch(this,this.newsListBackToTop)),this.leaderPager.on("input:click",b.hitch(this,this.loadLeaderList)));
i.after(this.leadersPanel,"resize",b.hitch(this,this.resizeLeaderList))},selectTab:function(a){this.tabs.children().forEach(function(b){c(b)[b.dataset.type==a?"addClass":"removeClass"]("selected")})},createFinder:function(a){var b=this;(dijit.byId("finder")||(new dojo.declare("stock.persons.view.FilteringSelect",[m],{_autoCompleteText:function(){arguments[0]=arguments[0].replace(/\s+\w+$/,"");this.inherited(arguments)}}))({style:"width:100%; box-sizing: border-box;",maxHeight:314,placeholder:"\u641c\u7d22\u611f\u5174\u8da3\u7684\u673a\u6784",
missingMessage:"\u6ca1\u6709\u627e\u5230\u5bf9\u5e94\u7684\u673a\u6784",required:!1,hasDownArrow:!1,queryExpr:"*${0}*",labelAttr:"name",searchAttr:"search",autoComplete:!1,highlightMatch:"none",onFocus:function(){this.reset()},onChange:function(a){if(a){var d=this.get("store"),a=b.menu.query('li[data-path$="/'+d.data[d.index[a]].id+'"]>h3');a.length&&(a[0].click(),e.scrollIntoView(a[0]))}c(this.domNode).query(".dijitInputInner")[0].blur()}},"finder")).set("displayedValue","").get("store").setData(a)},
showNewsDialog:function(a){var a=new k({"class":"blue_bar_dialog",style:"width:90%; height:600px;",content:['<div class="dijitDialogPaneContentArea" style="height: 580px; margin-right: 8px;">    <h1 class="fir_title">',a.C3,'</h1>    <div class="sec_title">        <div class="float_r">            <span>B</span><span class="black">W</span>            <span>A+</span><span class="black">A-</span>        </div>        ',a.C6.replace(/^(\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)/,"$1-$2-$3 $4:$5:$6 "),a.C8,
'    </div>    <div class="new_dia_matter" style="height: 497px; overflow-y: auto; box-sizing: border-box;">Loading...</div></div>'].join(""),onHide:function(){this.destroyRecursive()}}),b=c(a.domNode).query(".new_dia_matter");c(a.domNode).query(".float_r").on("span:click",function(){switch(this.innerText){case "B":b.style("font-weight","bold");break;case "W":b.style("font-weight","normal");break;case "A+":b.style({"font-size":Math.min(parseInt(b.style("font-size"))+2,20)+"px","line-height":"1.6em"});
break;case "A-":b.style({"font-size":Math.max(parseInt(b.style("font-size"))-2,12)+"px","line-height":"1.6em"})}});a.show();this.newsPanel=b},createNewsPanel:function(a){this.newsPanel&&this.newsPanel.html(a.replace(/<\/?body>/g,""))},createMenu:function(a){dijit.byId("menu").render(a).query(">li:first-child>h3")[0].click()},loadingNewsList:function(){this.newsList.html(this.loadingMessage)},createNewsList:function(a,b){var d=[],e="append";a.forEach(function(a){d.push('<li data-json="',JSON.stringify({C3:a.C3,
C4:a.C4,C6:a.C6,C8:a.C8}).h(),'">','    <div class="news_title_left">','        <div class="news_title_right">',a.C8,"&nbsp; ",a.C6.replace(/^(\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)/,"$1\u5e74$2\u6708$3\u65e5 $4:$5:$6"),"</div>",'        <a title="',a.C3.trim().h(),'" href="javascript:;">',a.C3.trim().h(),"</a>","    </div>",'    <div class="clear"></div>','    <div class="news_content">',a.C35.trim().h(),"...</div>","</li>")});b&&(d.length||d.push("<li>\u6682\u65e0\u76f8\u5173\u65b0\u95fb!</li>"),
e="html",this.newsListBackToTop());this.newsList[e](d.join(""))},newsListBackToTop:function(){this.newsList.parent()[0].scrollTop=0},loadingLeaderList:function(){this.leaderList.html(this.loadingMessage)},createLeaderList:function(a){var d=[];a.forEach(b.hitch(this,function(a){var b=this.getUUID();d.push('<li class="figure-item">','    <div class="float_l peo_photo">','        <div class="concern_box relative">','            <img data-key="',a.id,'" src="',this.getImage(a.photo),'" />','            <div class="concern_rm concern_w">',
'                <input type="checkbox" title="',a.name,'" value="',a.id,'" id="',b,'" style="vertical-align:middle;" />','                <label for="',b,'" style="vertical-align:middle;">\u5173\u6ce8</label>',"            </div>","        </div>","    </div>",'    <span><a data-key="',a.id,'" href="javascript:;">',a.name,"</a></span>","</li>")}));this.leaderList.html(d.join(""));this.leadersPanel.resize()},loadLeaderList:function(a){switch(a.target.dataset.action){case "up":this.leaderList[0].scrollTop-=
this.leaderList[0].clientHeight;break;case "down":this.leaderList[0].scrollTop+=this.leaderList[0].clientHeight}},resizeLeaderList:function(){var a=this.leaderList.parent()[0].clientHeight-80,b=0,d=0;this.leaderList.children().forEach(function(e){d+e.clientHeight<a&&(b++,d+=e.clientHeight)});this.leaderList.style("height",(d||a)+"px");this.leaderPager.style("display",this.leaderList.children().length===b?"none":"block")}})})},"url:stock/persons/view/news.html":'<div style="height: 100%;" data-dojo-attach-point="containerNode">\r\n    <div data-dojo-type="dijit/layout/BorderContainer" data-dojo-props="liveSplitters:false,gutters:false, design:\'headline\'">\r\n        <div data-dojo-type="dijit/layout/ContentPane" data-dojo-props="design:\'headline\',region:\'top\',gutters:false">\r\n            <div class="spacer hbox" style=" width:100%; position:relative; ">\r\n                <div class="vbox">\r\n                    <ul id="tabs" class="top_btn_list">\r\n                        <li data-type="central">\u4e2d\u592e\u90e8\u59d4\u4eba\u7269\u65b0\u95fb</li>\r\n                        <li data-type="beijing">\u5317\u4eac\u653f\u5e9c\u4eba\u7269\u65b0\u95fb</li>\r\n                        <li data-type="shanghai">\u4e0a\u6d77\u653f\u5e9c\u4eba\u7269\u65b0\u95fb</li>\r\n                        <li data-type="financial">\u91d1\u878d\u673a\u6784\u4eba\u7269\u65b0\u95fb</li>\r\n                    </ul>\r\n                </div>\r\n                <div class="back_rwml"><a href="#/central">\u524d\u5f80\u4eba\u7269\u540d\u5f55&gt;</a></div>\r\n            </div>\r\n            <div class="spacer hbox">\r\n                <div class=" box_title_sred vbox" style=" width:85%; margin-right: -2px;"><div class="box_title_sred_text">\u4eba\u7269\u65b0\u95fb</div></div>\r\n                <div class=" box_title_sred vbox" style=" width:15%; border-left: solid 2px #FFF;"><div class="box_title_sred_text">\u91cd\u8981\u9886\u5bfc</div></div>\r\n            </div>\r\n        </div>\r\n\r\n        <div data-dojo-type="dijit/layout/ContentPane" style="width:228px; border-right:1px solid #d3d3d3;" data-dojo-props="design:\'headline\',region:\'left\',gutters:false">\r\n            <div class="spacer leftBar" >\r\n                <div class="searchText"><input id="finder" type="text" /></div>\r\n                <ul id="menu" class="left_nav" data-dojo-type="stock/persons/view/widgets/TreeMenu"></ul>\r\n            </div>\r\n        </div>\r\n\r\n        <div data-dojo-type="dijit/layout/ContentPane" data-dojo-props="design:\'headline\',region:\'center\',gutters:false" style="width:50%; overflow: hidden;">\r\n            <div class="content_news">\r\n                <ul id="news_list"></ul>\r\n                <div class="xw_back_up" ><a href="javascript:;"><img src="resources/img/back_top_s.png" /></a></div>\r\n            </div>\r\n        </div>\r\n\r\n        <div id="leaders" data-dojo-type="dijit/layout/ContentPane" data-dojo-props="design:\'headline\',region:\'right\',gutters:false" class="relative" style="width:15%;">\r\n            <ul id="leader_list" class="news_value_leader_list"></ul>\r\n            <div class="clear"></div>\r\n            <div class="page_btn" >\r\n                <input type="button" data-action="up" class="pic_btn_previous pic_btn_common" />\r\n                <input type="button" data-action="down" class="pic_btn_next pic_btn_common" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>',
"stock/persons/presenter/news":function(){define("dojo/_base/lang,dojo/aspect,stock/persons/presenter/_base,stock/persons/repository/person,stock/persons/repository/organization,stock/persons/repository/news".split(","),function(b,i,c,f,j,g){return dojo.declare("stock.persons.presenter.news",[c],{constructor:function(){this.newsArgs={take:20,skip:0};this.tabType=$route.args||"central"},onViewInit:function(){this.inherited(arguments);this.view.on($events.newsTabsClicked,b.hitch(this,this.onNewsTabsClicked));
this.view.on($events.newsMenuClicked,b.hitch(this,this.onNewsMenuClicked));this.view.on($events.newsListScrollEnd,b.hitch(this,this.onNewsListScrollEnd));this.view.on($events.newsLinkClicked,b.hitch(this,this.onNewsLinkClicked));this.selectTab(this.tabType)},onNewsTabsClicked:function(a){a.data!==this.tabType&&$route($route.view,a.data)},onNewsMenuClicked:function(a){var a=a.data.path.split("/"),d=a.length,h=a[d-1],e=g.classifyMap,c="";h in e?(h=(/^00030000000Z/.test(e[h])?"0007006B00010008#":"")+
e[h],this.newsArgs.method="getNewsByClassify"):this.newsArgs.method="getNewsByOrganizationId";if(this.newsArgs.key!==h)this.newsArgs.key=h,this.newsArgs.skip=0,this.newsArgs.lock=!1,this.newsArgs.timeoutId=setTimeout(b.hitch(this,function(){this.view.loadingNewsList()}),100),this.onNewsListScrollEnd();for(e=f.leadersMap;d--;)if(h=a[d],h in e){c="financial"===this.tabType?"getLeadersByFinancialType":"getLeadersByGovernmentPath";h=e[h];break}else if(8===h.length){c="getEmployeesByOrganizationId";break}this.view.loadingLeaderList();
c.length&&f[c](h).then(b.hitch(this.view,this.view.createLeaderList),b.hitch(this.view,this.view.showErrorDialog))},onNewsListScrollEnd:function(){if(!this.newsArgs.lock)this.newsArgs.lock=!0,g[this.newsArgs.method](this.newsArgs.key,this.newsArgs.take,this.newsArgs.skip).then(b.hitch(this,function(a){clearTimeout(this.newsArgs.timeoutId);this.view.createNewsList(a,!this.newsArgs.skip);this.newsArgs.lock=!1;this.newsArgs.skip+=this.newsArgs.take}),b.hitch(this.view,this.view.showErrorDialog))},onNewsLinkClicked:function(a){this.view.showNewsDialog(a.data);
g.getNewsContent(a.data.C4).then(b.hitch(this.view,this.view.createNewsPanel),b.hitch(this.view,this.view.showErrorDialog))},selectTab:function(a){this.view.selectTab(a);j.getOrganizationsByType(a).then(b.hitch(this,function(a){var b={children:[]};this.view.createFinder(a);a.forEach(function(a){a.children=[];b[a.id]=a;a.parent in b?(a.path=b[a.parent].path+"/"+a.id,b[a.parent].children.push(a)):(a.path="/"+a.id,b.children.push(a))});this.view.createMenu(b)}),b.hitch(this.view,this.view.showErrorDialog))}})})},
"stock/persons/repository/news":function(){define("dojo/_base/lang,dojo/aspect,dojo/io-query,dojo/Deferred,dojo/DeferredList,dojox/store/MultiResultStore,dojox/store/GridWSStore,dojox/websocket/WebsocketFileReader,stock/persons/repository/_base".split(","),function(b,i,c,f,j,g,a,d,h){return(new dojo.declare("stock.persons.repository.news",[h],{classifyMap:{60000004:"0007006B00010001",60000013:"0007006B00010002",60000039:"0007006B00010003",60000041:"0007006B00010004",60000057:"0007006B00010005",60000062:"0007006B00010006",
60000076:"0007006B00010007",11E4:"00030000000Z0001",110101:"00030000000Z0001005w",110102:"00030000000Z0001005x",110105:"00030000000Z00010060",110108:"00030000000Z00010063",110106:"00030000000Z00010061",110107:"00030000000Z00010062",110109:"00030000000Z00010064",110111:"00030000000Z00010065",110112:"00030000000Z00010066",110113:"00030000000Z00010067",110115:"00030000000Z00010069",110114:"00030000000Z00010068",110117:"00030000000Z0001006B",110116:"00030000000Z0001006A",110228:"00030000000Z0001006C",
110229:"00030000000Z0001006D",31E4:"00030000000Z0009",310115:"00030000000Z000900Hi",310101:"00030000000Z000900HW",310106:"00030000000Z000900Ha",310104:"00030000000Z000900HY",310105:"00030000000Z000900HZ",310107:"00030000000Z000900Hb",310108:"00030000000Z000900Hc",310109:"00030000000Z000900Hd",310110:"00030000000Z000900He",310113:"00030000000Z000900Hg",310112:"00030000000Z000900Hf",310114:"00030000000Z000900Hh",310116:"00030000000Z000900Hj",310117:"00030000000Z000900Hk",310118:"00030000000Z000900Hl",
310120:"00030000000Z000900Hn",310230:"00030000000Z000900Ho",112617:"000700690004",112620:"000700690009",112625:"000700690007",112631:"000700690008",112633:"00070069000A",112639:"000700690006"},getNewsByOrganizationId:function(a,b,d){var c=new f;(new g).query({service:"rpc",so:"jso-ui-renwuyq.jar","function":"gw.sh.func.AgencyNewsRequest",paraencode:"base64",parameter:btoa(JSON.stringify({code:a.toString(),dcategory:"1",fids:"C1,C2,C3,C4,C6,C8,C13,C35",bdate:"",edate:"",amount:b||2,skip:d||0,sort:"C6:-1"})),
response_times:1,response_mode:0}).then(function(a){1<a.length?c.resolve(a[1].items):c.reject(a)});arguments.callee.deferred&&!arguments.callee.deferred.isFulfilled()&&arguments.callee.deferred.cancel();return arguments.callee.deferred=c},getNewsByClassify:function(b,d,c){return(new a).query({service:"rpc",so:"jso-ui-renwuyq.jar","function":"gw.sh.func.RenWuyqNewRequest",paraencode:"base64",parameter:btoa(JSON.stringify({code:b,dcategory:"1",fids:"C1,C2,C3,C4,C6,C8,C13,C35",bdate:"",edate:"",amount:d||
2,skip:c||0})),response_times:1,response_mode:0})},getNewsContent:function(a){return(new d).read(a)}}))()})},"stock/persons/view/widgets/TreeMenu":function(){define("dojo/_base/lang,dojo/aspect,dojo/query,dojo/on,dojo/mouse,dojo/dom-style,stock/persons/view/widgets/_base".split(","),function(b,i,c,f,j,g,a){return dojo.declare("stock.persons.view.widgets.TreeMenu",[a],{templateString:'<ul data-dojo-attach-point="containerNode"></ul>',buildRendering:function(){this.inherited(arguments);this.root=c(this.domNode)},
postCreate:function(){this.inherited(arguments);this.own(this.root.on("h3:click",b.hitch(this,this.click)))},click:function(a){var b=c(a.target.parentNode);this[this.expanded(b)?"collapse":"expand"](b,a.x||a.y?300:0);this.select(b)},select:function(a){var b=this.root.query("li.selected");a[0]!==b[0]&&(b.removeClass("selected"),a.addClass("selected"))},expand:function(a,h){for(;;){var e=a.parent().parent();if(e.length&&"LI"===e[0].tagName&&!this.expanded(e))a.query(">ul").style("height","auto"),a=
e;else{a.query(">ul").wipeIn({duration:h}).play();break}}a.siblings().forEach(b.hitch(this,function(a){a=c(a);this.expanded(a)&&this.collapse(a,h)}))},collapse:function(a,b){a.query(">ul").wipeOut({duration:b}).play()},expanded:function(a){return!!a.query(">ul").style("height")[0]},tpl:function(a,c){a.forEach(b.hitch(this,function(a){c.push("<li",a.children.length?' class="non_leaf"':"",' data-path="',a.path,'">',"<h3>",a.name,"</h3>");a.children.length&&(c.push("<ul>"),this.tpl(a.children,c),c.push("</ul>"));
c.push("</li>")}));return c},render:function(a){this.root.html(this.tpl(a.children,[]).join(""));return this.root}})})},"stock/persons/view/widgets/_base":function(){define("dojo/_base/lang,dojo/aspect,dojo/query,dojo/on,dojo/mouse,dojo/dom-style,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dijit/layout/_ContentPaneResizeMixin,dojo/NodeList-traverse,dojo/NodeList-manipulate,dojo/NodeList-fx".split(","),function(b,i,c,f,j,g,a,d,h,e){return dojo.declare("stock.persons.view.widgets._base",
[a,d,h,e],{presenters:[],buildRendering:function(){this.inherited(arguments);this.root=c(this.domNode)},startup:function(){if(!this._started){this.inherited(arguments);for(var a=0,d=this.presenters.length;a<d;a++)this.presenters[a]=new this.presenters[a](this);setTimeout(b.hitch(this,function(){this.emit($events.viewInit,{})}),0)}}})})},"stock/persons/view/senior":function(){define("dojo/_base/lang,dojo/aspect,dojo/query,dojo/on,dojo/mouse,dojo/dom-style,stock/persons/view/_base,dojo/text!./senior.html,stock/persons/presenter/senior,dijit/form/FilteringSelect,dojo/dom-attr".split(","),
function(b,i,c,f,j,g,a,d,h,e,m){return dojo.declare("stock.persons.view.senior",[a],{templateString:d,constructor:function(){this.presenters=[h]},startup:function(){var a=this;this.inherited(arguments);this.seniorList=c("#senior_list");this.okBtn=c("#ok_btn");this.searchBtn=c("#search_btn");this.companyFinder=dijit.byId("finder_rw");this.sectorCombox=dijit.byId("sector_comb");this.industryCombox=dijit.byId("industry_comb");this.own(this.seniorList.parent().on("scroll",function(){100>this.scrollHeight-
this.scrollTop-this.clientHeight&&a.emit($events.seniorListScrollEnd,{})}),this.okBtn.on("click",function(){a.publishSearch("ok")}),this.searchBtn.on("click",function(){dijit.byId("finder_rw").focusNode.blur();a.publishSearch("search")}),this.companyFinder.on("change",function(){dijit.byId("finder_rw").focusNode.blur();a.publishSearch("search")}),this.companyFinder.on("focus",function(){dijit.byId("finder_rw").set("value","")}))},publishSearch:function(a){this.seniorList.empty();var b="",d="",c="";
"ok"==a&&(d=this.sectorCombox.item?this.sectorCombox.item.id:"",c=this.industryCombox.item?this.industryCombox.item.id:"");"search"==a&&(b=this.companyFinder.item?this.companyFinder.item.id:"");this.emit($events.seniorSearch,{data:{company:b,sector:d,industry:c}})},createFinder:function(a){this.companyFinder.store=a},createSeniorList:function(a,b){var d=[],c="append";if(0<a.length)for(var e=0,h=a.length;e<h;e++){0==e%2&&d.push('<li data-json="',JSON.stringify({company:a[e].code,companyCd:a[e].personCode,
imgUrl:a[e].organizationCode,personNm:a[e].personalName,position:a[e].organizationShortName}).h(),'" >','<p class="t_center p_border_b rw_link_list"><a href="javascript:;" data-key="',a[e].stockCode,'" class="a_font">',a[e].code,"&nbsp",a[e].personCode,"></a></p> ",'<div class="hbox figure-item">');d.push('<div class="spacer div_pos" >');if(""!=a[e].organizationCode){var f=this.getUUID();d.push('   <img  width="100" height="130" data-key="',a[e].resources,'" src="',this.getImage(a[e].organizationCode),
'" alt="Photo" style="cursor:pointer;"/>','   <div class="concern concern_gg">','       <input type="checkbox" title="',a[e].personalName,'" value="',a[e].resources,'" id="',f,'" style="vertical-align:middle;" />','       <label for="',f,'" style="vertical-align:middle;">\u5173\u6ce8</label>',"   </div>")}else d.push('   <img  width="100" height="130" src="resources/img/no_msg.png" alt="Photo"/>');d.push('   <p class="t_center p_name" style="width:100px;"><a data-key="',a[e].resources,'" style="cursor:pointer;">',
a[e].personalName,"</a></p>",'   <p class="t_center p_positon"style="width:100px;">',a[e].organizationShortName,"</p>","</div>");e<h-1&&d.push('<div style=" width:7%;"></div>');0!=e%2&&d.push("</div>","</li>")}1==b&&(d.length||(d=[],d.push('<li style="background:#fff;">\u6682\u65e0\u76f8\u5173\u9ad8\u7ba1\u540d\u5f55!</li>')),c="html");this.seniorList[c](d.join(""))},createSectorCombox:function(a){this.sectorCombox.get("store").setData(a);m.set("sector_comb","readonly","readonly");this.sectorCombox.set("value",
a[0].name)},createIndustryCombox:function(a){a.unshift({id:"",name:"\u5168\u90e8\u884c\u4e1a"});this.industryCombox.get("store").setData(a);m.set("industry_comb","readonly","readonly");this.industryCombox.set("value",a[0].name)}})})},"url:stock/persons/view/senior.html":'<div style="height: 100%;" data-dojo-attach-point="containerNode">\r\n    <div data-dojo-type="dijit/layout/BorderContainer"\r\n         data-dojo-props="liveSplitters:false,gutters:false, design:\'headline\'">\r\n        <div data-dojo-type="dijit/layout/ContentPane" data-dojo-props="region:\'top\'">\r\n            <div class="links2 searchbar hbox">\r\n                <span id="title_bar" class="title_senior" style=" width:75%;min-width: 300px;">\u5927\u667a\u6167 \u4e0a\u5e02\u516c\u53f8\u9ad8\u7ba1\u540d\u5f55</span>\r\n\r\n                <div style=" width:25%;line-height: 50px;min-width: 260px;">\r\n                    <div data-dojo-type="dijit/form/FilteringSelect"\r\n                         data-dojo-props="placeholder: \'\u8f93\u5165\u80a1\u7968\u4ee3\u7801\u6216\u7b80\u79f0\',\r\n                                     missingMessage: \'\u6ca1\u6709\u627e\u5230\u5bf9\u5e94\u7684\u4ee3\u7801\',\r\n                                     required: false,\r\n                                     hasDownArrow: false,\r\n                                     queryExpr: \'*$\\{0\\}*\',\r\n                                     autoComplete: false,\r\n                                     highlightMatch:\'none\'"\r\n                         title="\u8f93\u5165\u80a1\u7968\u4ee3\u7801\u6216\u7b80\u79f0" class="top_text" id="finder_rw"\r\n                         style="width: 206px; height: 21px; line-height: normal; margin-top: -5px; font-size: 12px; font-family: Myriad, Helvetica, Tahoma, Arial, clean, sans-serif;">\r\n                    </div>\r\n                    <input type="button" value="\u641c\u7d22" class="top_btn" id="search_btn" style="margin-left:8px;outline: none;"/>\r\n                </div>\r\n            </div>\r\n            <div class="hbox second_sel">\r\n                <div style=" width:75%;min-width: 300px;" id="back_Home"></div>\r\n                <div data-dojo-type="dijit/form/ComboBox" title="\u5168\u90e8\u7248\u5757" class="senior_sel combo_w" id="sector_comb">\r\n                </div>\r\n                <div style=" width:13px;"></div>\r\n                <div data-dojo-type="dijit/form/ComboBox" title="\u5168\u90e8\u884c\u4e1a" class="senior_sel combo_w" id="industry_comb">\r\n                </div>\r\n                <div style=" width:13px;"></div>\r\n                <input type="button" value="\u786e\u5b9a" class="top_btn " id="ok_btn" style="outline: none;"/>\r\n            </div>\r\n        </div>\r\n        <div class="right" data-dojo-type="dijit/layout/ContentPane" data-dojo-props="region:\'center\',gutters:false"\r\n             style="overflow:hidden;">\r\n            <div class="spacer" style=" height:100%;overflow: auto;">\r\n                <ul class="senior_list" id="senior_list">\r\n                </ul>\r\n                <div id="load_div" style="height:200px;width:100%; background:#ffffff;float:left;">\r\n                    <img src="../../dojox/widget/Standby/images/loading.gif"\r\n                         style="opacity: 1;position:relative; top:45%;left:50%; cursor: wait;" alt="Please Wait...">\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>',
"stock/persons/presenter/senior":function(){define("dojo/query,dojo/_base/lang,dojo/aspect,stock/persons/presenter/_base,stock/persons/repository/person,stock/persons/repository/organization".split(","),function(b,i,c,f,j,g){return dojo.declare("stock.persons.presenter.senior",[f],{constructor:function(){this.seniorArgs={page:1,offset:20,company:"",sector:"",industry:"",lock:!1}},onViewInit:function(){this.inherited(arguments);this.load_div=document.getElementById("load_div");this.load_div.style.display=
"none";this.onSeniorListScrollEnd();this.view.on($events.seniorListScrollEnd,i.hitch(this,this.onSeniorListScrollEnd));this.view.on($events.seniorSearch,i.hitch(this,this.onOkBtnClick));this.view.createFinder(g.getListedCompaniesStore());this.view.createSectorCombox([{id:"",name:"\u5168\u90e8\u677f\u5757"},{id:"100088",name:"\u4e0a\u8bc1\u4e3b\u677fA\u80a1"},{id:"104192",name:"\u6df1\u8bc1\u4e3b\u677fA\u80a1"},{id:"100097",name:"\u4e2d\u5c0f\u677f"},{id:"102689",name:"\u521b\u4e1a\u677f"}]);g.getIndustryComb().then(i.hitch(this.view,
this.view.createIndustryCombox),i.hitch(this.view,this.view.showErrorDialog))},onSeniorListScrollEnd:function(){if(!this.seniorArgs.lock){this.seniorArgs.lock=!0;var a=this.seniorArgs.page;this.load_div.style.display="block";j.getSeniorByIndustry(this.seniorArgs.company,this.seniorArgs.sector,this.seniorArgs.industry,this.seniorArgs.page,this.seniorArgs.offset).then(i.hitch(this,function(b){document.getElementById("load_div").style.display="none";this.view.createSeniorList(this.dataSort(b),a);this.seniorArgs.lock=
!1}),i.hitch(this.view,this.view.showErrorDialog));this.seniorArgs.page++}},onOkBtnClick:function(a){this.seniorArgs.page=1;this.seniorArgs.company=a.data.company;this.seniorArgs.sector=a.data.sector;this.seniorArgs.industry=a.data.industry;this.onSeniorListScrollEnd()},dataSort:function(a){for(var b=[],c="",e=0,f={code:"",organizationCode:"",organizationShortName:"\u8463\u4e8b\u957f",personCode:"",personalName:"\u0080",position:"",resources:"",stockCode:""},i=0,j=!1,g=0,p=a.length;g<p;g++){if(""==
c)c=a[g].code;if(a[g].code==c){if(2>i)if("1001"==a[g].position){if(!j){var l=a[g].organizationShortName;if(7<l.length)l="\u8463\u4e8b\u957f",a[g].organizationShortName=l;l=a[g].personalName;if(7<l.length)l=l.substring(0,4)+"...",a[g].personalName=l;if(l=a[g].personCode)a[g].personCode=l.match(/\d+/g).join("");b[e]=a[g];e++;i++;j=!0}}else if("3001"==a[g].position){if(!j){f.code=a[g].code;if(l=a[g].personCode)a[g].personCode=l.match(/\d+/g).join("");f.personCode=a[g].personCode;f.organizationShortName=
"\u8463\u4e8b\u957f";b[e]=f;e++;i++}l=a[g].organizationShortName;if(7<l.length)l="\u603b\u7ecf\u7406",a[g].organizationShortName=l;l=a[g].personalName;if(7<l.length)l=l.substring(0,4)+"...",a[g].personalName=l;b[e]=a[g];e++;i++}}else{if(0!=i&&2>i)f.organizationShortName="\u603b\u7ecf\u7406",b[e]=f,e++;i=0;c="";j=!1;g--}}if(0!=b.length%2)f.organizationShortName="\u603b\u7ecf\u7406",b[b.length]=f;return b}})})},"stock/persons/util":function(){define(function(){(function(){if(!("h"in String.prototype)){var b=
document.createElement("pre");String.prototype.h=Number.prototype.h=Boolean.prototype.h=function(){b.innerText=this;return b.innerHTML.replace(/"/g,"&quot;").replace(/'/g,"&#39;")}}})()})},"stock/persons/events":function(){define("stock/persons/events",function(){window.$events={viewInit:"",personsLinkClicked:"",organizationsLinkClicked:"",newsTabsClicked:"",newsMenuClicked:"",newsListScrollEnd:"",newsLinkClicked:"",seniorListScrollEnd:"",seniorSearch:"",personConcernChecked:"",personConcernMouseEnter:""};
for(var b in $events)$events[b]="$events_"+b.toLowerCase();return $events})}}});
define("stock/persons/src","stock/persons/view/central,stock/persons/view/organization,stock/persons/view/news,stock/persons/view/senior,stock/persons/util,stock/persons/events".split(","),function(){var b=["central","organization","news","senior"],i=function(){if(/^#\//.test(location.hash)){var c=document.body.children;$route.view=location.hash.match(/[^#\/]+/)+"";$route.args=(location.hash.match(/^#\/[^#\/]+\/(.+)/)||[,null])[1];if(/^(?:\{|"|\[)/.test($route.args))$route.args=JSON.parse($route.args);
if($route.view in b){for(var g=0,a=c.length;g<a;g++){var d=c[g]&&dijit.byId(c[g].id);d&&d.destroyRecursive();dojo.destroy(c[g])}(new b[$route.view]).startup()}}!$route.view&&$route("view")},c=0,f=b.length;for(;c<f;c++)b[b[c]]=arguments[c];window.$route=function(b,c){location.assign("#/"+b+(c?"/"+(/string|number|boolean/.test(typeof c)?c:JSON.stringify(c)):""))};addEventListener("popstate",i,!1);i()});