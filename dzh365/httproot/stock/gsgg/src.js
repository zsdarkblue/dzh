/*
	Copyright (c) 2012-2013,   To get sources and documentation, please visit:

		http://dms.gw.com.cn
*/

//>>built
require({cache:{"stock/gsgg/view/leftNavigation":function(){define("dojo/_base/declare,dojox/store/WebSocket,dojox/slickgrid/quotegrid,stock/gsgg/view/globalMethod,dojo/date,dojo/store/Memory,dijit/registry,dojo/aspect,dijit/Menu,dijit/MenuItem,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dijit/layout/_ContentPaneResizeMixin,dojo/_base/lang,dojo/_base/array,dojo/_base/event,dojo/on,dijit/Dialog,dojo/dom-class,dojo/dom-style,dojo/dom-geometry,dojo/dom-construct,dojo/dom-attr,dojo/text!./leftNavigation.html,dojox/store/LocalStorage,dojo/data/ItemFileWriteStore,dojo/data/ItemFileReadStore,dojox/store/GridSOStore,dojo/io-query,dojo/query,dijit/tree/CheckboxForestStoreModel,dijit/tree/CheckboxTree,dijit/tree/ForestStoreModel,dijit/Tree,dojox/slickgrid/slickgrid,dojox/store/GridWSStore,dojo/date/locale,dojox/form/KeyboardSpirit".split(","),
function(r,j,m,e,p,q,C,w,A,z,x,F,y,G,H,J,B,K,c,f,g,D,k,s,l,a,b,h,I,d,i,o,t,M,N,L,v,E){return r("stock.gsgg.view.leftNavigation",[x,F,y,G],{templateString:l,noticeName:"",stockCodeList:[],stockCodeData:[],postCreate:function(){this.bindWidgetsEvent();this.stockQuery()},startup:function(){this.inherited(arguments);this.bindEvents()},bindEvents:function(){var b=this;dijit.byId("noticeTree").set("paths",[]);dojo.connect(dijit.byId("ABdialog1button1"),"onClick",function(){for(var a=b.noticeName,u=dijit.byId("container").getChildren()[0],
n=u.getSelectedRows(),i=[],d=0;d<n.length;d++)i.push(u.data.getItem(n[d])[0]);a=e.deleteNoticeById(a,i);u.setSelectedRows([]);u="";if(0==a.length)u="noData",dijit.byId("te").__proto__.currenSearchParameter="id="+u+"&startDate=&endDate=&searchKey=&c_stockCode=&noticeType=&list1=&list2=&list3=&list4=",e.rendQuery(),dijit.byId("pagerDiv").clear_prompt_text(),dijit.byId("pagerDiv").update_prompt_text("\u5df2\u6536\u85cf\u7684\u516c\u544a\u5168\u90e8\u5220\u9664,\u8bf7\u91cd\u65b0\u9009\u62e9!");else{for(d=
0;d<a.length;d++)u+=a[d]+"%20";dijit.byId("te").__proto__.currenSearchParameter="id="+u+"&startDate=&endDate=&searchKey=&c_stockCode=&noticeType=&list1=&list2=&list3=&list4=";e.rendQuery();dijit.byId("pagerDiv").clear_prompt_text()}});dojo.connect(dijit.byId("ABdialog1button2"),"onClick",function(){dijit.byId("ABDlg1").onCancel()});dojo.connect(dijit.byId("clearBtn"),"onClick",function(){b.clearSelectionTree()});dojo.connect(dijit.byId("stockCode"),"onChange",function(){b.addStock(null)});dojo.connect(dijit.byId("mytabContainer").tablist,
"onSelectChild",H.hitch(this,function(b){dijit.byId("noticeStartDate").setDisabled(!1);dijit.byId("noticeEndDate").setDisabled(!1);"secondTab"==b.id&&dijit.byId("stockCode").focus();"firstTab"==b.id?(dijit.byId("noticeStartDate").setValue(new Date(p.add(new Date,"day",-1))),dijit.byId("noticeEndDate").setValue(new Date),dijit.byId("noticeDate").setValue("\u6700\u65b0")):("secondTab"==b.id?(dijit.byId("noticeStartDate").setValue(new Date(p.add(new Date,"month",-3))),dijit.byId("noticeEndDate").setValue(new Date)):
dijit.byId("noticeStartDate").setValue(new Date(p.add(new Date,"month",-3))),dijit.byId("noticeDate").setValue("\u4e09\u4e2a\u6708\u5185"))}));dijit.byId("chooseBlock").watch("displayedValue",function(b,u,a){"\u81ea\u9009\u80a1\u7ba1\u7406"==a&&this.set("oldV",u)});dojo.connect(dijit.byId("chooseBlock"),"onChange",function(a){dijit.byId("chooseBlock");"\u81ea\u9009\u80a1\u7ba1\u7406"==a?(this.set("displayedValue",this.get("oldV")),b.getLocation()):(this.set("oldV",a),b.changeBlockStock())})},bindWidgetsEvent:function(){e.loadSearchName();
e.loadNoticeName();e.initData();this.loadChooseStock();this.loadData();this.favoriteDBClick()},addStock:function(b){if(null==b){var a=dijit.byId("stockCode").value;if(""==dijit.byId("stockCode").get("value"))return;if(null==dijit.byId("stockCode").get("item")){this.showPrompt("\u6ca1\u6709\u627e\u5230\u5bf9\u5e94\u7684\u80a1\u7968\u4ee3\u7801,\u8bf7\u91cd\u65b0\u8f93\u5165!");dijit.byId("stockCode").set("value","");return}var b={code:a.split(" ")[0],name:a.split(" ")[1]},u=!1;this.stockCodeData.forEach(function(b){b=
b.code;a.split(" ")[0]==b&&(u=!0)});if(!0==u){this.showPrompt("\u5df2\u5b58\u5728\u76f8\u540c\u7684\u80a1\u7968\u4ee3\u7801,\u8bf7\u91cd\u65b0\u8f93\u5165!");dijit.byId("stockCode").set("value","");return}}dijit.byId("stockCode").set("value","");this.stockCodeData.push(b);this.grid.refresh(this.stockCodeData)},favoriteDBClick:function(){var b=this,d=new a;K(dijit.byId("favoriteTree"),"click",H.hitch(this,function(a){dijit.byId("container").getChildren()[0].setSelectedRows([]);a=a.id[0];if(!("wdcx"==
a||"wdgg"==a)){var n=d.get(a);if("gsgg_id_"==a.substring(0,8)){var i=dijit.byId("searchKey"),c=dijit.byId("noticeDate"),o=dijit.byId("noticeStartDate"),g=dijit.byId("noticeEndDate");i.setValue(n.searchKey);var f=E.format(new Date(n.noticeStartDate),{datePattern:"yyyyMMdd",timePattern:"000000"}).replace(" ",""),t=E.format(new Date(n.noticeEndDate),{datePattern:"yyyyMMdd",timePattern:"000000"}).replace(" ","");b.invertSelectionTree(a,"noticeTree");var I="",h=n.noticeType;if(95!=h.length)for(i=0;i<h.length;i++)I+=
h[i][h[i].length-1]+"%20";var k=n.switchTab,h=n.blockId,i=n.blockValue;dijit.byId("mytabContainer").selectChild(k);c.setValue(n.noticeDate);"\u5168\u90e8"==n.noticeDate?(dijit.byId("noticeStartDate").setDisabled(!0),dijit.byId("noticeEndDate").setDisabled(!0),t=f=""):(dijit.byId("noticeStartDate").setDisabled(!1),dijit.byId("noticeEndDate").setDisabled(!1));o.setValue(new Date(n.noticeStartDate));g.setValue(new Date(n.noticeEndDate));if("secondTab"==k){a="";if(0<h[0].code.indexOf("."))for(i=0;i<h.length;i++)a+=
h[i].code+"%20";else for(i=0;i<h.length;i++)a+=h[i].code+".stk%20";dijit.byId("te").__proto__.currenSearchParameter="startDate="+f+"&endDate="+t+"&noticeType="+I+"&c_stockCode="+a+"&searchKey="+n.searchKey+"&id=&list1=&list2=&list3=&list4=";dijit.byId("sGrid").stockCodeData="";dijit.byId("sGrid").refresh(h);stockCodeData=h}else{if("zeroTab"==k){dijit.byId("chooseBlock").set("value",h);(new v({})).query({service:"blockinfo",type:"leaf",source:"local",block:h,depth:"1",response_times:1,response_mode:0,
cache_timeout:0}).then(function(a){var b="";a.forEach(function(a){if((12==a.stockid.length||11==a.stockid.length)&&a.stockid.substring(".stk"==a.stockid.lastIndexOf(".")))b+=a.stockid+"%20"});a="startDate="+f+"&endDate="+t+"&c_stockCode="+b+"&searchKey="+n.searchKey+"&noticeType="+I+"&id=&list1=&list2=&list3=&list4=";dijit.byId("te").showGridData(a);dijit.byId("btnDelNotice").domNode.style.display="none";dijit.byId("btnMoveNotice").domNode.style.display="none";dijit.byId("btnSaveNotice").domNode.style.display=
"inline-block";dijit.byId("btnSaveQuery").domNode.style.display="inline-block"});return}b.invertSelectionTree(a,"rangeFilter");a=i.list1;c=i.list2;o=i.list3;g=i.list4;dijit.byId("te").__proto__.currenSearchParameter="startDate="+f+"&endDate="+t+"&noticeType="+I+"&list1="+a+"&list2="+c+"&list3="+o+"&list4="+g+"&searchKey="+n.searchKey+"&c_stockCode=&id="}e.rendQuery();dijit.byId("btnDelNotice").domNode.style.display="none";dijit.byId("btnMoveNotice").domNode.style.display="none";dijit.byId("btnSaveNotice").domNode.style.display=
"inline-block";dijit.byId("btnSaveQuery").domNode.style.display="inline-block"}else if("notice_id_"==a.substring(0,10)){b.__proto__.noticeName=n.name;a="";for(i=0;i<n.value.length;i++)a+=n.value[i]+"%20";""==a?(dijit.byId("basicStandby").show(),dijit.byId("container").getChildren()[0].refresh([]),dijit.byId("pagerDiv").update_prompt_text("\u5df2\u6536\u85cf\u7684\u516c\u544a\u5168\u90e8\u5220\u9664,\u8bf7\u91cd\u65b0\u9009\u62e9!"),dijit.byId("basicStandby").hide()):(dijit.byId("te").__proto__.currenSearchParameter=
"id="+a+"&startDate=&endDate=&searchKey=&c_stockCode=&noticeType=&list1=&list2=&list3=&list4=",e.rendQuery(),dijit.byId("pagerDiv").clear_prompt_text());dijit.byId("btnDelNotice").domNode.style.display="inline-block";dijit.byId("btnMoveNotice").domNode.style.display="inline-block";dijit.byId("btnSaveNotice").domNode.style.display="none";dijit.byId("btnSaveQuery").domNode.style.display="none"}}}))},invertSelectionTree:function(b,i){var d=new a,n=dijit.byId(i);n.collapseAll();var h="noticeTree"==i?
d.get(b).noticeType:d.get(b).blockId;d.get(b)&&h&&(n.set("paths",h),n.set("paths",[]),"noticeTree"!=i?n.model.store.fetch({query:{checked:!0},queryOptions:{deep:!0},onItem:function(a){n.model.store.setValue(a,"checked",!1)}}):n.model.store.setValue(n.rootNode.item.children[0],"checked",!1),h.forEach(function(a){a=a.pop();n.model.store.fetchItemByIdentity({identity:a,queryOptions:{deep:!0},onItem:function(a){n.model.store.setValue(a,"checked",!0)}})}))},clearSelectionTree:function(){var a=dijit.byId("noticeTree"),
b=dijit.byId("mytabContainer").selectedChildWidget.id,i=dijit.byId("rangeFilter");"firstTab"==b&&(i.model.store.fetch({query:{checked:!0},queryOptions:{deep:!0},onItem:function(a){i.model.store.setValue(a,"checked",!1)}}),i.model.store.fetch({query:{id:"100013"},queryOptions:{deep:!0},onItem:function(a){i.model.store.setValue(a,"checked",!1)}}));a.model.store.fetch({query:{checked:!0},queryOptions:{deep:!0},onItem:function(b){a.model.store.setValue(b,"checked",!1)}})},addDiv:function(){var a=this,
b=dijit.byId("stockGrid1");b.setContent("");var i=new dijit.layout.ContentPane({innerHTML:'</br><div class="top_span2">\u8bf7\u6dfb\u52a0\u81ea\u9009\u80a1</div></br><div class="top_span3">\u672c\u6587\u4ef6\u5939\u76ee\u524d\u6ca1\u6709\u81ea\u9009\u80a1\uff0c\u8bf7\u70b9\u51fb</div>'}),d=new dijit.form.Button({label:"\u81ea\u9009\u80a1\u7ba1\u7406",id:"managerBtn","class":"top_span3",onClick:function(){a.getLocation()}}),h=new dijit.layout.ContentPane({innerHTML:'<div class="top_span3">\u8fdb\u884c\u8bbe\u7f6e</div>'});
b.addChild(i);b.addChild(d);b.addChild(h)},getLocation:function(){window.location="DZH://CMD?\u81ea\u9009\u80a1\u8bbe\u7f6e"},changeBlockStock:function(){var a=this,b=dijit.byId("chooseBlock").displayedValue;(new v({})).query({service:"blockinfo",type:"leaf",source:"local",block:b,depth:"1",response_times:1,response_mode:0,cache_timeout:0}).then(function(b){var i=[],d="";if(0<b.length){dijit.byId("stockGrid1").setContent("");a.selectedStock();for(var h=0;h<b.length;h++)d=b[h].stockpath.substring(b[h].stockpath.lastIndexOf("/")+
1),d.substring(0,2),d.substring(d.lastIndexOf(".")+1),i.push({stockid:b[h].stockid,stockname:b[h].stockname});a.grid1.refresh(i)}else a.addDiv()})},loadChooseStock:function(){function a(d){if(""!=d){var h=new j,d=decodeURI(d.split("?")[1]),o=d.split("=")[0];if("stock_code"==o){var f=d.split("=")[1],g;h.query({service:"objinfo",type:"getinfo",where:"obj="+f,field:"name",response_times:"1",response_mode:0}).then(function(a){g=a[0].result.datas[0][1];b(f,g)})}else"indexNo"!=o&&dijit.byId("chooseBlock").set("value",
d.split("&")[0].split("=")[1]),(new v).query({service:"blockinfo",type:"leaf",source:"local",block:c,depth:"1",response_times:1,response_mode:0,cache_timeout:0}).then(function(a){dijit.byId("noticeStartDate").setValue(new Date(p.add(new Date,"month",-3)));dijit.byId("noticeDate").setValue("\u4e09\u4e2a\u6708\u5185");dijit.byId("dataGrid").initFlag=!1;if(0<a.length){dijit.byId("stockGrid1").setContent("");i.selectedStock();for(var b="",d="",h="",c=0;c<a.length;c++)h=a[c].stockpath.substring(a[c].stockpath.lastIndexOf("/")+
1),h.substring(0,2),h.substring(h.lastIndexOf(".")+1),d=a[c].stockpath.substring(0,a[c].stockpath.lastIndexOf("/"));a.forEach(function(a){h=a.stockpath.substring(a.stockpath.lastIndexOf("/")+1);if(d==a.stockpath.substring(0,a.stockpath.lastIndexOf("/"))&&(12==h.length||11==h.length)&&h.substring(".stk"==h.lastIndexOf(".")))b+=a.stockid+"%20"});a=E.format(new Date(p.add(new Date,"month",-3)),{datePattern:"yyyyMMdd",timePattern:"000000"}).replace(" ","");c=E.format(new Date,{datePattern:"yyyyMMdd",
timePattern:"000000"}).replace(" ","");dijit.byId("te").showGridData("startDate="+a+"&endDate="+c+"&c_stockCode="+b+"&searchKey=&id=&list1=&list2=&list3=&list4=&noticeType=")}else i.addDiv(),dijit.byId("basicStandby").show(),dijit.byId("container").getChildren()[0].refresh([]),dijit.byId("pagerDiv").update_prompt_text("\u68c0\u7d22\u6570\u636e\u4e3a\u7a7a,\u8bf7\u91cd\u65b0\u64cd\u4f5c!"),dijit.byId("pagerDiv").refresh("1","1"),dijit.byId("basicStandby").hide()})}else(new v).query({service:"blockinfo",
type:"leaf",source:"local",block:"\u81ea\u9009\u80a1",depth:"-1",response_times:1,response_mode:0,cache_timeout:0}).then(function(a){dijit.byId("dataGrid").initFlag=!1;dijit.byId("noticeStartDate").setValue(new Date(p.add(new Date,"month",-3)));dijit.byId("noticeDate").setValue("\u4e09\u4e2a\u6708\u5185");if(0<a.length){for(var b="",d="",h="",c=0;c<a.length;c++)if(h=a[c].stockpath.substring(a[c].stockpath.lastIndexOf("/")+1),h.substring(0,2),h.substring(h.lastIndexOf(".")+1),""!=h){d=a[c].stockpath.substring(0,
a[c].stockpath.lastIndexOf("/"));break}a.forEach(function(a){h=a.stockpath.substring(a.stockpath.lastIndexOf("/")+1);if(d==a.stockpath.substring(0,a.stockpath.lastIndexOf("/"))&&(12==h.length||11==h.length)&&h.substring(".stk"==h.lastIndexOf(".")))b+=a.stockid+"%20"});dijit.byId("chooseBlock").set("value",d.substring(d.lastIndexOf("/")+1));a=E.format(new Date(p.add(new Date,"month",-3)),{datePattern:"yyyyMMdd",timePattern:"000000"}).replace(" ","");c=E.format(new Date,{datePattern:"yyyyMMdd",timePattern:"000000"}).replace(" ",
"");dijit.byId("te").showGridData("startDate="+a+"&endDate="+c+"&c_stockCode="+b+"&searchKey=&id=&list1=&list2=&list3=&list4=&noticeType=")}else 1<dijit.byId("chooseBlock").store.data.length&&dijit.byId("chooseBlock").set("value",dijit.byId("chooseBlock").store.data[0].name),i.addDiv(),dijit.byId("basicStandby").show(),dijit.byId("container").getChildren()[0].refresh([]),dijit.byId("pagerDiv").update_prompt_text("\u68c0\u7d22\u6570\u636e\u4e3a\u7a7a,\u8bf7\u91cd\u65b0\u64cd\u4f5c!"),dijit.byId("pagerDiv").refresh("1",
"1"),dijit.byId("basicStandby").hide()})}function b(a,h){(new v).query({service:"blockinfo",type:"leaf",source:"local",block:"\u81ea\u9009\u80a1",depth:"-1",response_times:1,response_mode:0,cache_timeout:0}).then(function(b){dijit.byId("dataGrid").initFlag=!1;dijit.byId("noticeStartDate").setValue(new Date(p.add(new Date,"month",-3)));dijit.byId("noticeDate").setValue("\u4e09\u4e2a\u6708\u5185");dijit.byId("mytabContainer").selectChild("secondTab");i.addStock({code:a,name:h});if(0<b.length){for(var d=
"",c="",d="",o=0;o<b.length;o++)if(d=b[o].stockpath.substring(b[o].stockpath.lastIndexOf("/")+1),d.substring(0,2),d.substring(d.lastIndexOf(".")+1),""!=d){c=b[o].stockpath.substring(0,b[o].stockpath.lastIndexOf("/"));break}d=a;dijit.byId("chooseBlock").set("value",c.substring(c.lastIndexOf("/")+1));b=E.format(new Date(p.add(new Date,"month",-3)),{datePattern:"yyyyMMdd",timePattern:"000000"}).replace(" ","");c=E.format(new Date,{datePattern:"yyyyMMdd",timePattern:"000000"}).replace(" ","");dijit.byId("te").showGridData("startDate="+
b+"&endDate="+c+"&c_stockCode="+d+"&searchKey=&id=&list1=&list2=&list3=&list4=&noticeType=")}else 1<dijit.byId("chooseBlock").store.data.length&&dijit.byId("chooseBlock").set("value",dijit.byId("chooseBlock").store.data[0].name),i.addDiv(),dijit.byId("basicStandby").show(),dijit.byId("container").getChildren()[0].refresh([]),dijit.byId("pagerDiv").update_prompt_text("\u68c0\u7d22\u6570\u636e\u4e3a\u7a7a,\u8bf7\u91cd\u65b0\u64cd\u4f5c!"),dijit.byId("pagerDiv").refresh("1","1"),dijit.byId("basicStandby").hide()})}
var i=this,d=location.search,h;""!=d&&(h="indexNo"==d.split("?")[1].split("=")[0]?parseInt(d.split("?")[1].split("=")[1]):-1);var c="";(new v).query({service:"blockinfo",type:"sub",source:"local",block:"\u81ea\u9009\u80a1",depth:"-1",response_times:1,response_mode:0,cache_timeout:0}).then(function(b){if(2<b.length){for(var i=dijit.byId("chooseBlock").store.data,o=1;o<b.length;o++)i.push({id:b[o].blockname,name:b[o].blockname});void 0!=h?-1==h?c=decodeURIComponent(d.split("&")[0].split("=")[1]):(dijit.byId("chooseBlock").set("value",
i[h].name),c=i[h].name):c=i[0].name;a(d);i.push({id:"111111",name:"\u81ea\u9009\u80a1\u7ba1\u7406"})}})},loadData:function(){var a=this;(new I({serviceUrl:e.commonURL_UTF8})).query({__qid:"CompanyNotice_ST41500Tree"},{}).then(function(i){var i=eval("("+i.result.datas[0][0]+")"),i=new b({data:i}),i=new o({store:i,query:{type:"level1"},rootId:"rootId",childrenAttrs:["children"]}),d=new t({id:"rangeFilter",model:i,openOnClick:!1,setCheckboxOnClick:!0,showRoot:!1},"scopeTree");d.set("paths",[]);d.startup();
var h=d.rootNode.item;h.children[0].children.forEach(function(a){e.collapseNode(d,h.children[0]);e.collapseNode(d,h.children[1]);e.collapseNode(d,h.children[2]);e.collapseNode(d,h.children[3].children[0]);e.collapseNode(d,h.children[3].children[1]);e.collapseNode(d,h.children[3].children[2]);e.collapseNode(d,h.children[3].children[3]);"\u5168\u90e8AB\u80a1"==a.name[0]&&d.model.store.setValue(a,"checked",!0)});a.justSelectOneChild(d,"100000")})},stockQuery:function(){var a=this,b=new q({data:[]});
this.grid=new L({"class":"nontable-striped rowBorder",store:b,columns:[{id:"code",name:"\u80a1\u7968\u4ee3\u7801",field:"code",width:75,cssClass:"font-center",headerCssClass:"font-center"},{id:"name",name:"\u80a1\u7968\u7b80\u79f0",field:"name",width:75,cssClass:"font-center",headerCssClass:"font-center"},{id:"delete",name:" ",field:"code",width:10,formatter:function(a,b,d){return"<img class='hand_pointer text_dline' id=\""+d+"\" src='resources/image/delete.png' style='width:16px;height:16px;'>"}}],
options:{forceFitColumns:!0,enableColumnReorder:!1,rowHeight:20},id:"sGrid"});this.grid.placeAt("stockGrid");this.grid.startup();this.grid.on("click",H.hitch(this,function(b,d){2==d.cell&&b.target.id&&(a.stockCodeData.splice(d.row,1),this.grid.refresh(a.stockCodeData))}))},selectedStock:function(){var a=new q({data:[]});this.grid1=new L({"class":"nontable-striped rowBorder",store:a,columns:[{id:"stockid",name:"\u80a1\u7968\u4ee3\u7801",field:"stockid",width:80,cssClass:"font-center",headerCssClass:"font-center"},
{id:"stockname",name:"\u80a1\u7968\u7b80\u79f0",field:"stockname",width:80,cssClass:"font-center",headerCssClass:"font-center"}],options:{forceFitColumns:!0,enableColumnReorder:!1,rowHeight:20},id:"sGrid1"});this.grid1.placeAt("stockGrid1");this.grid1.startup()},justSelectOneChild:function(a,b){function d(a,b){var i=[];b.children&&b.children.forEach(function(b){i.push(a.getNodesByItem(b)[0])});return i}function i(a,b,d){a.fetch({query:{children:b},queryOptions:{deep:!0},onItem:function(b){d.unshift(b);
i(a,b,d)}})}function h(a,b){var d=[b];i(a,b,d);return d.map(function(a){return a.id[0]}).join(",")}var c=a.model.store;(function(){var d;a.model.store.fetchItemByIdentity({identity:b,onItem:function(a){d=a}});a.justPItem=d;a.justPItemId=b;a.justParentNode=a.getNodesByItem(d)[0];[].push(d);h(a.model.store,d)})();(function(){var b=a.justParentNode,d=a.justPItem;f.add(b.labelNode,"disabledP");f.add(b.rowNode,"disabledP");g.set(b.rowNode.parentElement,"position","relative");var i=D.getMarginBox(b.rowNode).h||
"20px",i=k.toDom('<div id="shadow" style="position:absolute;top:0; width:100%;  height:'+i+' ">&nbsp;</div>');i.onclick=function(b){a.getNodesByItem(d)[0].isExpanded?a.getNodesByItem(d)[0].collapse():a.getNodesByItem(d)[0].expand();b=b||window.event;b.stopPropagation?b.stopPropagation():b.cancelBubble=!0};b.rowNode.parentElement.appendChild(i);a.model.store.setValue(d,"checked",!1)})();(function(){w.before(a.model,"onChange",function(b){var i=h(c,b);if(-1<i.indexOf(a.justPItemId))if(a.justCItemId){if(!(-1<
i.indexOf(a.justCItemId)))b.checked=[!1],dojo.byId("abc")}else b=i.split(","),a.justCItemId=2<b.length?b.slice(0,2).join(","):i,d(a,a.justPItem).forEach(function(b){-1==a.justCItemId.indexOf(b.item.id[0])&&(f.add(b.labelNode,"disabledC"),f.add(b.rowNode,"disabledC"),f.add(b.containerNode,"disabledC"))})})})();(function(){w.after(a.model,"onChange",function(){var b=!1;a.justPItem.children.forEach(function(a){if(!0==a.checked[0]||"mixed"==a.checked[0])b=!0});b||(delete a.justCItemId,dojo.query(".disabledC").forEach(function(a){f.remove(a,
"disabledC")}))})})()},showPrompt:function(a){dijit.byId("pleaseCheckGG")||new c({id:"pleaseCheckGG",title:"\u63d0\u793a",refreshOnShow:!0,href:"resources/dialog/promptDialog.html",style:{width:"250px",height:"85px"},onHide:function(){this.destroyRecursive()},onLoad:function(){document.getElementById("promptContent").innerHTML=a}});dijit.byId("pleaseCheckGG").show()}})})},"stock/gsgg/view/globalMethod":function(){define(["stock/gsgg/view/_globalMethod"],function(r){return new r})},"stock/gsgg/view/_globalMethod":function(){define("dojo/store/Memory,dojo/request,dojo/_base/declare,dijit/_WidgetBase,dojo/_base/lang,dojo/_base/event,dojo/on,dojo/dom-class,dojo/dom-attr,dojox/slickgrid/sogrid,dojox/store/GridSOStore,dojox/store/GridWSStore,dijit/Dialog,dojo/query,dojo/_base/array,dojox/websocket/WebsocketFileReader,dojox/store/LocalStorage,stock/gsgg/view/map,dojox/slickgrid/controls/pager,dojo/NodeList-data".split(","),
function(r,j,m,e,p,q,C,w,A,z,x,F,y,G,H,J,B,K){return m("stock.gsgg.view.globalMethod",null,{zReader:new J,dataMap:new K,commonURL_UTF8:"/sys/query/common/gsgg",isExistSearchName:function(c){for(var f=new B,g=f.getKeys(),e=!1,k=0;k<g.length;k++)if(f.get(g[k]).name==c&&("gsgg_id_"==f.get(g[k]).id.substring(0,8)||"notice_id_"==f.get(g[k]).id.substring(0,10))){var e=!0,j=g[k];break}return e?j:"0"},isExistNoticeName:function(c){for(var f=new B,g=f.getKeys(),e=!1,k=0;k<g.length;k++)if(f.get(g[k]).name==
c&&"notice_id_"==f.get(g[k]).id.substring(0,10)){e=!0;break}return e},saveSearchName:function(c,f,g){continentStore1.fetchItemByIdentity({identity:g,onItem:function(g){continentStore1.newItem({id:c,name:f,rightClick:"rightClick",type:"level1"},{parent:g,attribute:"children"})}});this.addRightClick()},loadSearchName:function(){var c=new B;0<c.getKeys().length&&continentStore1.fetchItemByIdentity({identity:"wdcx",onItem:function(f){c.getKeys().forEach(function(g){8<c.get(g).id.length&&"gsgg_id_"==c.get(g).id.substring(0,
8)&&continentStore1.newItem({id:c.get(g).id,name:c.get(g).name,rightClick:"rightClick",type:"level1"},{parent:f,attribute:"children"})})}});this.addRightClick()},loadNoticeName:function(){var c=new B;0<c.getKeys().length&&continentStore1.fetchItemByIdentity({identity:"wdgg",onItem:function(f){c.getKeys().forEach(function(g){8<c.get(g).id.length&&"notice_id_"==c.get(g).id.substring(0,10)&&continentStore1.newItem({id:c.get(g).id,name:c.get(g).name,rightClick:"rightClick",type:"level1"},{parent:f,attribute:"children"})})}});
this.addRightClick()},addRightClick:function(){continentStore1.fetch({query:{rightClick:"rightClick"},queryOptions:{deep:!0},onItem:function(c){w.add(dijit.byId("favoriteTree").getNodesByItem(c)[0].domNode,c.rightClick[0])}})},deleteSearchId:function(c){continentStore1.fetchItemByIdentity({identity:c,onItem:function(c){continentStore1.deleteItem(c)}})},deleteNoticeById:function(c,f){var g=new B,e=g.getKeys();if(0!=f.length)for(var k=0;k<e.length;k++)if(g.get(e[k]).name==c&&"notice_id_"==g.get(e[k]).id.substring(0,
10)){for(var j=g.get(e[k]).value,e=g.get(e[k]).id,l=0;l<f.length;l++)j=dojo.filter(j,function(a){return a!=f[l]});k=g.get(e);k.value=j;g.remove(e);g.put(k);return j}},initData:function(){var c=this,f=new dojo.data.ItemFileWriteStore({url:require.toUrl("stock/gsgg/resources/data/tree.json")});f.fetch({onItem:function(g){void 0==f.getValue(g,"children")&&c.dataMap.put(f.getValue(g,"id")+"",f.getValue(g,"name"))}})},rendQuery:function(){this.showLoading();dijit.byId("container").getChildren()[0].refresh([]);
dijit.byId("pagerDiv").refresh("0","1");dijit.byId("container").getChildren()[0].renderQuery()},getZlibContent:function(c,f){this.zReader.read(c).then(function(c){var e=new y({id:"zhaiyaodialog",title:"\u6458\u8981",refreshOnShow:!0,href:"resources/dialog/zhaiyaoDialog.html",style:{width:"600px"},onHide:function(){document.getElementById("titleNode").innerHTML="";this.destroyRecursive()},onLoad:function(){dijit.byId("myzhaiyaodata").setValue(c.replace("<pre>","").replace("</pre>","").replace("<pre>",
""));document.getElementById("titleNode").innerHTML=f;dojo.connect(dijit.byId("zhaiyaobtnOk"),"onClick",function(){dijit.byId("zhaiyaodialog").onCancel()})}});e.show();e._setStyleAttr("left:375px !important;");e._setStyleAttr("top:100px !important;")})},collapseNode:function(c,f){if(c.getNodesByItem(f)&&void 0!==c.getNodesByItem(f)[0])c.getNodesByItem(f)[0].collapse();else{var g=[];c.getFullPathByItem(f,g);c.set("path",g);c.getNodesByItem(f)[0].collapse();c.set("path",[])}},showLoading:function(){dijit.byId("basicStandby").show()},
hideLoading:function(){dijit.byId("basicStandby").hide()}})})},"stock/gsgg/view/map":function(){define(["dojo/_base/declare"],function(r){return r("stock.gsgg.view.map",null,{keys:[],data:{},put:function(j,m){null==this.data[j]&&this.keys.push(j);this.data[j]=m},get:function(j){return this.data[j]},contain:function(j){return this.data[j]?!0:!1},remove:function(j){this.keys.splice(j);this.data[j]=null},each:function(j){if("function"==typeof j)for(var m=this.keys.length,e=0;e<m;e++){var p=this.keys[e];
j(p,this.data[p],e)}},entrys:function(){for(var j=this.keys.length,m=Array(j),e=0;e<j;e++)m[e]={key:this.keys[e],value:this.data[e]};return m},isEmpty:function(){return 0==this.keys.length},size:function(){return this.keys.length},toString:function(){for(var j="{",m=0;m<this.keys.length;m++,j+=",")var e=this.keys[m],j=j+(e+"="+this.data[e]);return j+"}"}})})},"url:stock/gsgg/view/leftNavigation.html":'<div data-dojo-attach-point="containerNode">\r\n<div data-dojo-type="dijit/layout/BorderContainer"  data-dojo-props="liveSplitters:false" >\r\n\t<div data-dojo-type="dijit/layout/ContentPane" data-dojo-props=\'region:"top", splitter:true\' style="width:100%;height:35%;overflow-x: hidden;overflow-y: hidden">\r\n\t\t<div id="mytabContainer" data-dojo-type="dijit/layout/TabContainer">\r\n\t\t\t<div id="zeroTab" data-dojo-type="dijit/layout/ContentPane" data-dojo-props=\'title:"\u81ea\u9009\u80a1"\'>\r\n\t\t\t\t<div data-dojo-type="dijit/layout/ContentPane" class="vbox">\r\n\t\t\t\t\t<div id="chooseBlock" data-dojo-type="dijit/form/ComboBox" style="width:100%" data-dojo-props="readonly:\'readonly\'"></div>\r\n\t\t\t\t\t<div id="stockGrid1" data-dojo-type="dijit/layout/ContentPane" style1="height:128px;width:100%;" class="spacer"></div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<div id="secondTab" data-dojo-props=\'title:"\u4e2a\u80a1\u641c\u7d22"\' data-dojo-type="dijit/layout/ContentPane">\r\n\t\t\t\t<div data-dojo-type="dijit/layout/ContentPane" class="vbox">\r\n\t\t           \t<div id="stockCode" data-dojo-attach-point="inputWidget" data-dojo-type="dojox/form/KeyboardSpirit" \r\n\t\t           \t\tdata-dojo-props="\r\n\t\t           \t\t\tplaceHolder:\'\u8bf7\u8f93\u5165\u80a1\u7968\u4ee3\u7801\',\r\n\t\t           \t\t\tmaxHeight:220,\r\n\t\t           \t\t\tlabelFunc: function(item, store){\r\n\t\t\t\t\t\t\t\titem[this.searchAttr] = item[\'label\']+\' \'+item[\'name\'];\r\n\t\t\t\t\t\t\t\treturn item[\'label\'];\t\r\n\t\t\t\t\t\t\t}" style="width:100%"></div>\r\n\t\t          \t<div id="stockGrid" data-dojo-type="dijit/layout/ContentPane" style1="height:128px;width:100%;" class="spacer"></div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<div id="firstTab" data-dojo-type="dijit/layout/ContentPane" data-dojo-props=\'title:"\u8303\u56f4\u7b5b\u9009"\'>\t\t\t\t\r\n\t\t\t\t<div data-dojo-type="dijit/layout/ContentPane"><\!-- \u8fd9\u91cc\u52a0ContentPane\u9632\u6b62\u6811\u7684\u5c55\u5f00\u5f71\u54cd\u4e0a\u5c42\u7684ContentPane--\>\r\n\t\t\t\t\t<div id="scopeTree"></div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t\r\n\t<div data-dojo-type="dijit/layout/ContentPane" data-dojo-props=\'region:"center"\' style="width:100%;">\r\n\t\t\t<div data-dojo-type="dijit/layout/TabContainer" style="height: 100%;">\r\n\t\t\t<div data-dojo-type="dijit/layout/ContentPane" data-dojo-props=\'selected:true, title:"\u516c\u544a\u7c7b\u578b"\'>\r\n\t\t\t\t<div data-dojo-type="dijit/layout/ContentPane"><\!-- \u8fd9\u91cc\u52a0ContentPane\u9632\u6b62\u6811\u7684\u5c55\u5f00\u5f71\u54cd\u4e0a\u5c42\u7684ContentPane--\>\r\n\t\t\t\t\t<div data-dojo-type="dojo/data/ItemFileWriteStore" data-dojo-id="continentStore2" data-dojo-props="url:\'./resources/data/tree.json\'"></div>\r\n\t\t\t\t\t<div data-dojo-type="dijit/tree/CheckboxForestStoreModel" data-dojo-id="continentModel2" data-dojo-props="store:continentStore2, query:{type:\'level0\'},childrenAttrs:[\'children\'],rootId:\'rootId\'"></div>\r\n\t\t\t\t\t<div data-dojo-type="dijit/tree/CheckboxTree" id="noticeTree" data-dojo-props="model: continentModel2, query:{ type:\'level0\'},path1:[\'rootId\',\'navigatesubscibe \',\'navigatesubscibe \',\'navigatesubscibe \'], openOnClick:false,showRoot:false,showIcon:false">\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div id="ABDlg1" style="display: none" data-dojo-type="dijit/Dialog" data-dojo-props=\'style:"width:500px,height:300px",title:"\u5220\u9664\u516c\u544a","aria-describedby":"intro",class:"tc_1"\'>\r\n\t\t\t\t<div id="ABintro1"></div>\r\n\t\t\t\t<div class="dijitDialogPaneActionBar">\r\n\t\t\t\t\t<div class="tc_btn">\r\n\t\t\t\t\t\t<button id="ABdialog1button1" data-dojo-type="dijit/form/Button"data-dojo-props=\'type:"submit",label:"\u786e\u5b9a"\'></button>\r\n\t\t\t\t\t\t<button id="ABdialog1button2" data-dojo-type="dijit/form/Button"data-dojo-props=\'type:"button",label:"\u53d6\u6d88"\'></button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div id="clearBtn" data-dojo-type="dijit/form/Button" style="position:absolute;  right: 0px; top: 0px;">\u6e05\u7a7a\u52fe\u9009\u9879</div>\r\n\t</div>\r\n\t\r\n\t<div data-dojo-type="dijit/layout/ContentPane" data-dojo-props=\'region:"bottom", splitter:true\' style="width:100%;height:15%">\r\n\t\t<div data-dojo-type="dijit/layout/TabContainer" style="height:100%">\r\n\t\t\t<div data-dojo-type="dijit/layout/ContentPane" data-dojo-props=\'selected:true, title:"\u6536\u85cf\u5939"\'>\r\n\t\t\t\t<div data-dojo-type="dijit/layout/ContentPane"><\!-- \u8fd9\u91cc\u52a0ContentPane\u9632\u6b62\u6811\u7684\u5c55\u5f00\u5f71\u54cd\u4e0a\u5c42\u7684ContentPane--\>\r\n\t\t\t\t\t<div data-dojo-type="dojo/data/ItemFileWriteStore" data-dojo-id="continentStore1" data-dojo-props="url:\'./resources/data/favorite.json\'"></div>\r\n\t\t\t\t\t<div data-dojo-type="dijit/tree/ForestStoreModel" data-dojo-id="continentModel1" data-dojo-props="store:continentStore1, query:{type:\'level0\'},childrenAttrs:[\'children\'],rootId:\'node\'"></div>\r\n\t\t\t\t\t<div data-dojo-type="dijit/Tree" id="favoriteTree" data-dojo-props="model: continentModel1, query:{ type:\'level0\'},path:[\'node\',\'newReport\',\'qbzx\'], openOnClick:true,showRoot:false,showIcon:false">\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n</div>\t\t\t\t\r\n',
"stock/gsgg/view/topbar":function(){define("dojo/_base/declare,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dojo/_base/array,dojo/_base/lang,dojo/on,dojo/dom-class,dojo/dom-attr,dojo/i18n!../nls/src,dojo/text!./topbar.html".split(","),function(r,j,m,e,p,q,C,w,A,z,x){return r("stock.gsgg.view.topbar",[j,m,e],{templateString:x,postMixInProperties:function(){this.inherited(arguments);q.mixin(this,z)}})})},"url:stock/gsgg/view/topbar.html":'<div data-dojo-attach-point="containerNode" class="hbox dijitTopBar">\n\t<div class="spacer"></div>\n\t<div style="line-height: 25px;">\u516c\u53f8\u516c\u544a [CA]</div>\n</div>',
"stock/gsgg/view/searchBar":function(){define("dojo/store/Memory,dojox/store/GridWSStore,dijit/registry,dojo/_base/declare,dijit/form/ComboBox,dojo/date,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dijit/layout/_ContentPaneResizeMixin,dojo/_base/lang,dojo/_base/array,dojo/on,dojo/dom-class,dojo/dom-attr,stock/gsgg/view/map,dojo/text!./searchBar.html,dojox/slickgrid/slickgrid,dijit/Dialog,dojo/date/stamp,dojo/date/locale,dojox/store/LocalStorage,dojo/data/ItemFileWriteStore,stock/gsgg/view/globalMethod,stock/gsgg/view/leftNavigation,dojox/layout/TableContainer".split(","),
function(r,j,m,e,p,q,C,w,A,z,x,F,y,G,H,J,B,K,c,f,g,D,k,s,l){return e("stock.gsgg.view.searchBar",[C,w,A,z],{templateString:B,postCreate:function(){this.bindWidgetsEvent();dijit.byId("noticeStartDate").setValue(new Date(q.add(new Date,"day",-1)))},bindWidgetsEvent:function(){var a=this,b=dijit.byId("noticeDate"),h=dijit.byId("btnSaveQuery"),c=dijit.byId("btnSaveNotice"),d=dijit.byId("noticeStartDate"),i=dijit.byId("noticeEndDate");dijit.byId("beginName");dijit.byId("btnDelNotice").domNode.style.display=
"none";dijit.byId("btnMoveNotice").domNode.style.display="none";dojo.connect(c,"onClick",function(){a.showFavoriteDialog()});dojo.connect(h,"onClick",function(){a.showSearchDialog()});y(b,"change",x.hitch(this,function(){var a=dijit.byId("noticeDate").item;null!=a&&(dijit.byId("noticeStartDate").setDisabled(!1),dijit.byId("noticeEndDate").setDisabled(!1),"1"==a.id?d.setValue(new Date(q.add(new Date,"day",-1))):"2"==a.id?d.setValue(new Date(q.add(new Date,"week",-1))):"3"==a.id?d.setValue(new Date(q.add(new Date,
"month",-1))):"4"==a.id?d.setValue(new Date(q.add(new Date,"month",-3))):"5"==a.id?d.setValue(new Date(q.add(new Date,"month",-6))):"6"==a.id?d.setValue(new Date(q.add(new Date,"year",-1))):"7"!=a.id&&"8"==a.id&&(dijit.byId("noticeStartDate").setDisabled(!0),dijit.byId("noticeEndDate").setDisabled(!0)),"7"!=a.id&&i.setValue(new Date))}));y(d._buttonNode,"click",x.hitch(this,function(){"\u5168\u90e8"!=b.value&&b.setValue("\u81ea\u5b9a\u4e49")}));y(i._buttonNode,"click",x.hitch(this,function(){"\u5168\u90e8"!=
b.value&&b.setValue("\u81ea\u5b9a\u4e49")}));dojo.connect(d,"onKeyUp",function(){"\u5168\u90e8"!=b.value&&b.setValue("\u81ea\u5b9a\u4e49")});dojo.connect(i,"onKeyUp",function(){"\u5168\u90e8"!=b.value&&b.setValue("\u81ea\u5b9a\u4e49")});dojo.connect(dijit.byId("btnSearch"),"onClick",function(){a.searchNotice()});dojo.connect(dijit.byId("btnDelNotice"),"onClick",function(){a.deleteNotice()});dojo.connect(dijit.byId("btnMoveNotice"),"onClick",function(){a.moveNotice()})},searchNotice:function(){dijit.byId("favoriteTree").set("path",
[]);if("none"==dijit.byId("btnSaveQuery").domNode.style.display)dijit.byId("btnSaveQuery").domNode.style.display="inline-block";var a=dijit.byId("noticeDate").value,b="",h="",c="",d=this.getNoticeType(),i=dijit.byId("mytabContainer").selectedChildWidget.id,o=dijit.byId("searchKey").value,f=dijit.byId("noticeEndDate").value,e=dijit.byId("noticeStartDate").value,k=g.format(new Date(e),{datePattern:"yyyyMMdd",timePattern:"000000"}).replace(" ",""),l=g.format(new Date(f),{datePattern:"yyyyMMdd",timePattern:"000000"}).replace(" ",
"");"\u5168\u90e8"==a&&(l=k="");if("0NaNNaNNaN000000"==k||"0NaNNaNNaN000000"==l)dijit.byId("container").getChildren()[0].refresh([]),dijit.byId("pagerDiv").refresh("1","1"),dijit.byId("pagerDiv").update_prompt_text("\u9009\u62e9\u7684\u65e5\u671f\u4e0d\u7b26\u5408\u8981\u6c42,\u8bf7\u91cd\u65b0\u9009\u62e9!");else{if(95==d.length)b="";else for(a=0;a<d.length;a++)b+=d[a]+"%20";if("secondTab"==i){h=dijit.byId("stockGrid").getChildren()[0].data;if(0<h.length)if(0<h[0].code.indexOf("."))for(a=0;a<h.length;a++)c+=
h[a].code+"%20";else for(a=0;a<h.length;a++)c+=h[a].code+".stk%20";else{dijit.byId("basicStandby").show();dijit.byId("container").getChildren()[0].refresh([]);dijit.byId("pagerDiv").update_prompt_text("\u68c0\u7d22\u6570\u636e\u4e3a\u7a7a,\u8bf7\u91cd\u65b0\u64cd\u4f5c!");dijit.byId("pagerDiv").refresh("1","1");dijit.byId("basicStandby").hide();return}dijit.byId("te").__proto__.currenSearchParameter="startDate="+k+"&endDate="+l+"&noticeType="+b+"&c_stockCode="+c+"&searchKey="+o+"&id=&list1=&list2=&list3=&list4=";
dijit.byId("container").getChildren()[0].setSelectedRows([]);s.rendQuery()}else if("zeroTab"==i)(new j).query({service:"blockinfo",type:"sub",source:"local",block:"\u81ea\u9009\u80a1",depth:"-1",response_times:1,response_mode:0,cache_timeout:0}).then(function(a){var d=[];if(1<a.length){for(var i=1;i<a.length;i++)d.push({id:a[i].blockname,name:a[i].blockname});d.push({id:"111111",name:"\u81ea\u9009\u80a1\u7ba1\u7406"});dijit.byId("chooseBlock").store.setData(d)}else 1==a.length&&(d.push({id:"111111",
name:"\u81ea\u9009\u80a1\u7ba1\u7406"}),dijit.byId("chooseBlock").set("value",""));(new j).query({service:"blockinfo",type:"leaf",source:"local",block:dijit.byId("chooseBlock").get("oldV"),depth:"-1",response_times:1,response_mode:0,cache_timeout:0}).then(function(a){var d=dijit.byId("le");if(0<a.length){for(var i=[],f="",g=dijit.byId("chooseBlock").get("oldV"),e=dijit.byId("stockGrid1"),t=0;t<a.length;t++){var v=a[t];path1=v.stockpath;f=path1.substring(0,path1.lastIndexOf("/"));f.substring(f.lastIndexOf("/")+
1)==g&&(e.setContent(""),i.push({stockid:v.stockid,stockname:v.stockname}))}d.selectedStock();d.grid1.refresh(i)}else d.addDiv();h=dijit.byId("stockGrid1").getChildren()[0].data;if(void 0==h)dijit.byId("container").getChildren()[0].refresh([]),dijit.byId("pagerDiv").update_prompt_text("\u68c0\u7d22\u6570\u636e\u4e3a\u7a7a,\u8bf7\u91cd\u65b0\u64cd\u4f5c!"),dijit.byId("pagerDiv").refresh("1","1"),dijit.byId("basicStandby").hide();else{for(t=0;t<h.length;t++)c+=h[t].stockid+"%20";dijit.byId("te").__proto__.currenSearchParameter=
"startDate="+k+"&endDate="+l+"&noticeType="+b+"&c_stockCode="+c+"&searchKey="+o+"&id=&list1=&list2=&list3=&list4=";dijit.byId("container").getChildren()[0].setSelectedRows([]);s.rendQuery()}})});else{f=this.getBlock();d=f.get("list1");i=f.get("list2");a=f.get("list3");f=f.get("list4");if(""==d&&""==i&&""==a&&""==f){dijit.byId("container").getChildren()[0].refresh([]);dijit.byId("pagerDiv").update_prompt_text("\u68c0\u7d22\u6570\u636e\u4e3a\u7a7a,\u8bf7\u91cd\u65b0\u64cd\u4f5c!");dijit.byId("pagerDiv").refresh("1",
"1");dijit.byId("basicStandby").hide();return}dijit.byId("te").__proto__.currenSearchParameter="startDate="+k+"&endDate="+l+"&noticeType="+b+"&list1="+d+"&list2="+i+"&list3="+a+"&list4="+f+"&searchKey="+o+"&c_stockCode=&id=";dijit.byId("container").getChildren()[0].setSelectedRows([]);s.rendQuery()}dijit.byId("btnDelNotice").domNode.style.display="none";dijit.byId("btnMoveNotice").domNode.style.display="none";dijit.byId("btnSaveNotice").domNode.style.display="inline-block"}},getNoticeType:function(){var a=
"";dijit.byId("noticeTree").model.store.fetch({query:{checked:!0},queryOptions:{deep:!0},onItem:function(b){void 0==b.children&&(a+=" "+b.id)}});return""==a?"":a.substring(1).split(" ")},getCheckedChildrenItemIds:function(a,b){var h=this;a.children.forEach(function(a){a.children?a.checked&&!0==a.checked[0]?b.push(a.id[0]):h.getCheckedChildrenItemIds(a,b):a.checked&&!0==a.checked[0]&&b.push(a.id[0])})},getBlock:function(){var a=this,b="",h="",c="",d="",i="",f=new J;f.put("list1",h);f.put("list2",c);
f.put("list3",d);f.put("list4",i);dijit.byId("rangeFilter").model.root.children.forEach(function(g){if(g.checked&&!0==g.checked[0])"\u5e02\u573a"==g.name[0]?f.put("list1",g.id[0]):"\u5730\u533a"==g.name[0]?f.put("list2",g.id[0]):"\u5927\u667a\u6167\u6982\u5ff5\u677f\u5757"==g.name[0]&&f.put("list3",g.id[0]),b+=" "+g.id[0];else if(g.checked&&"mixed"==g.checked[0]&&"\u884c\u4e1a"!=g.name[0])g.children.forEach(function(a){a.checked&&!0==a.checked[0]&&void 0==a.children&&(b+=" "+a.id,"\u5e02\u573a"==
g.name[0]?h+=a.id+"%20":"\u5730\u533a"==g.name[0]?c+=a.id+"%20":"\u5927\u667a\u6167\u6982\u5ff5\u677f\u5757"==g.name[0]&&(d+=a.id+"%20"))}),""!=h&&f.put("list1",h.substring(0,h.length-3)),""!=c&&f.put("list2",c.substring(0,c.length-3)),""!=d&&f.put("list3",d.substring(0,d.length-3));else if(g.checked&&"\u884c\u4e1a"==g.name[0]&&"mixed"==g.checked[0]){var e=[];a.getCheckedChildrenItemIds(g,e);b+=" "+e.join(" ");i+=e.join("%20");f.put("list4",i)}});f.put("blockId",""==b?"":b.substring(1).split(" "));
return f},showSearchDialog:function(){var a=this;(new c({id:"dialogSearch",title:"\u4fdd\u5b58\u67e5\u8be2\u6761\u4ef6",refreshOnShow:!0,href:"resources/dialog/searchDialog.html",style:{width:"400px",height:"128px"},onHide:function(){this.destroyRecursive()},onLoad:function(){document.getElementById("searchTime").innerHTML="<label style='padding-left: 122px;'>\u4fdd\u5b58\u65f6\u95f4:"+g.format(new Date,{selector:"date",datePattern:"yyyy-MM-dd HH:mm"})+"</label>";dojo.connect(dijit.byId("searchOK"),
"onClick",function(){var b=dijit.byId("searchName").value,h=dijit.byId("searchKey").value,c=dijit.byId("noticeDate").value,d=dijit.byId("noticeStartDate").value,i=dijit.byId("noticeEndDate").value;if(null==b||""==b)a.showPrompt("\u67e5\u8be2\u6761\u4ef6\u6807\u9898\u4e0d\u80fd\u4e3a\u7a7a!");else{var f=a.getCheckedNodes(dijit.byId("noticeTree")),g=a.getCheckedNodes(dijit.byId("rangeFilter")),e=new J,k=dijit.byId("mytabContainer").selectedChildWidget.id;"secondTab"==k?g=dijit.byId("stockGrid").getChildren()[0].data:
"zeroTab"==k?g=dijit.byId("chooseBlock").displayedValue:e=a.getBlock();var l="gsgg_id_"+(new Date).getTime(),v={id:l,rightClick:"rightClick",name:b,searchKey:h,noticeDate:c,noticeStartDate:d,noticeEndDate:i,noticeType:f,switchTab:k,blockId:g,blockValue:e.data},j=s.isExistSearchName(b),m=new D;"0"==j?(m.put(v),s.saveSearchName(l,b,"wdcx")):a.dojoConfirm("\u5df2\u5b58\u5728\u76f8\u540c\u7684\u67e5\u8be2\u540d\u79f0\uff0c\u662f\u5426\u8986\u76d6\uff1f",function(){m.remove(j);s.deleteSearchId(j);m.put(v);
s.saveSearchName(l,b,"wdcx")});dijit.byId("dialogSearch").onCancel()}})}})).show()},getCheckedNodes:function(a){function b(a,d,c){a.fetch({query:{children:d},queryOptions:{deep:!0},onItem:function(d){c.unshift(d);b(a,d,c)}})}function h(a,d,c){var h=[],h=[c];b(d,c,h);h=h.map(function(a){return a.id[0]});h.unshift(a.rootNode.item.id);return h}var c=[],d=a.model.store;d.fetch({query:{checked:!0},queryOptions:{deep:!0},onItem:function(b){b.children||(b=h(a,d,b),c.push(b))}});return c},showFavoriteDialog:function(){for(var a=
this,b=dijit.byId("container").getChildren()[0].getSelectedRows(),h=[],f=0;f<b.length;f++)h.push(dijit.byId("container").getChildren()[0].store.data[0].getItem(b[f])[0]);0==h.length?this.showPrompt("\u8bf7\u9009\u62e9\u516c\u544a!"):(new c({id:"dialogFavorite",title:"\u6536\u85cf\u516c\u544a",refreshOnShow:!0,href:"resources/dialog/favoriteDialog.html",style:{width:"400px",height:"128px"},onHide:function(){this.destroyRecursive()},onLoad:function(){dijit.byId("noticeList").attr("readonly","readonly");
for(var b=new D,i=b.getKeys(),c=dijit.byId("noticeList").store.data,f=0;f<i.length;f++)"notice_id_"==b.get(i[f]).id.substring(0,10)&&c.push({id:b.get(i[f]).id,name:b.get(i[f]).name+""});c=dijit.byId("noticeList");y(c,"change",function(){"\u65b0\u5efa\u516c\u544a"==this.get("value")?dijit.byId("newNoticeName").setDisabled(!1):dijit.byId("newNoticeName").setDisabled(!0)});document.getElementById("favoriteTime").innerHTML="<label style='padding-left: 122px;'>\u6536\u85cf\u65f6\u95f4:"+g.format(new Date,
{selector:"date",datePattern:"yyyy-MM-dd HH:mm"})+"</label>";dojo.connect(dijit.byId("dybtnOk"),"onClick",function(){var c="";if("\u65b0\u5efa\u516c\u544a"==dijit.byId("noticeList").displayedValue)if(c=dijit.byId("newNoticeName").value,null==c||""==c)a.showPrompt("\u65b0\u5efa\u7684\u516c\u544a\u6807\u9898\u4e0d\u80fd\u4e3a\u7a7a!");else if(s.isExistNoticeName(c))a.showPrompt("\u5df2\u7ecf\u5b58\u5728\u76f8\u540c\u7684\u516c\u544a\u6807\u9898!");else{var f="notice_id_"+(new Date).getTime(),g={id:f,
rightClick:"rightClick",name:c,value:h};(new D).put(g);s.saveSearchName(f,c,"wdgg");dijit.byId("container").getChildren()[0].setSelectedRows([]);dijit.byId("dialogFavorite").onCancel()}else{c=dijit.byId("noticeList").displayedValue;for(g=0;g<i.length;g++)if(b.get(i[g]).name==c){for(var e=b.get(i[g]).value,f=b.get(i[g]).id,e=e.concat(h),k=[],l=0;l<e.length;l++)-1==dojo.indexOf(k,e[l])&&k.push(e[l]);e=b.get(f);e.value=k;b.remove(f);b.put(e)}dijit.byId("dialogFavorite").onCancel();dijit.byId("container").getChildren()[0].setSelectedRows([])}})}})).show()},
deleteNotice:function(){var a=l.prototype.noticeName;0==dijit.byId("container").getChildren()[0].getSelectedRows().length?this.showPrompt("\u8bf7\u9009\u62e9\u516c\u544a!"):(document.getElementById("ABintro1").innerHTML='<div>\u5c06\u516c\u544a\u4ece"\u6211\u7684\u516c\u544a('+a+")\"\u4e2d\u5220\u9664</div><div><label style='padding-left: 75px;'>\u6536\u85cf\u65f6\u95f4:"+g.format(new Date,{selector:"date",datePattern:"yyyy-MM-dd HH:mm"})+"</label></div>",dijit.byId("ABDlg1").show())},moveNotice:function(){for(var a=
this,b=dijit.byId("container").getChildren()[0].getSelectedRows(),h=[],f=0;f<b.length;f++)h.push(dijit.byId("container").getChildren()[0].store.data[0].getItem(b[f])[0]);0==h.length?this.showPrompt("\u8bf7\u9009\u62e9\u516c\u544a!"):(new c({id:"dialogMove",title:"\u79fb\u52a8\u516c\u544a",refreshOnShow:!0,href:"resources/dialog/moveDialog.html",style:{width:"400px",height:"128px"},onHide:function(){this.destroyRecursive()},onLoad:function(){dijit.byId("noticeList1").attr("readonly","readonly");for(var d=
l.prototype.noticeName,c=new D,f=c.getKeys(),e=dijit.byId("noticeList1").store.data,k="",j=0;j<f.length;j++)"notice_id_"==c.get(f[j]).id.substring(0,10)&&c.get(f[j]).name!=d&&e.push({id:c.get(f[j]).id,name:c.get(f[j]).name+""});e=dijit.byId("noticeList1");y(e,"change",function(){"\u65b0\u5efa\u516c\u544a"==this.get("value")?dijit.byId("newNoticeName1").setDisabled(!1):dijit.byId("newNoticeName1").setDisabled(!0)});document.getElementById("moveTime").innerHTML="<label style='padding-left: 122px;'>\u79fb\u52a8\u65f6\u95f4:"+
g.format(new Date,{selector:"date",datePattern:"yyyy-MM-dd HH:mm"})+"</label>";dojo.connect(dijit.byId("ABdialog1button14"),"onClick",function(){if("\u65b0\u5efa\u516c\u544a"==dijit.byId("noticeList1").displayedValue){k=dijit.byId("newNoticeName1").value;if(s.isExistNoticeName(k)){a.showPrompt("\u5df2\u7ecf\u5b58\u5728\u76f8\u540c\u7684\u516c\u544a\u6807\u9898!");return}if(null==k||""==k){a.showPrompt("\u516c\u544a\u6807\u9898\u4e0d\u80fd\u4e3a\u7a7a!");return}var g="notice_id_"+(new Date).getTime();
c.put({id:g,rightClick:"rightClick",name:k,value:h});s.saveSearchName(g,k,"wdgg")}else{k=dijit.byId("noticeList1").displayedValue;for(var e=0;e<f.length;e++)if(c.get(f[e]).name==k&&"notice_id_"==c.get(f[e]).id.substring(0,10)){for(var l=c.get(f[e]).value,e=c.get(f[e]).id,g=c.get(e),l=l.concat(h),j=[],m=0;m<l.length;m++)-1==dojo.indexOf(j,l[m])&&j.push(l[m]);g.value=j;c.remove(e);c.put(g);break}}for(e=0;e<f.length;e++)if(c.get(f[e]).name==d&&"notice_id_"==c.get(f[e]).id.substring(0,10)){g=c.get(f[e]).id;
e=c.get(f[e]).value;for(m=0;m<h.length;m++)e=dojo.filter(e,function(a){return a!=h[m]});l=c.get(g);l.value=e;c.remove(g);c.put(l);break}dijit.byId("dialogMove").onCancel();g=dijit.byId("container").getChildren()[0];l=[];for(e=0;e<b.length;e++)l.push(g.data.getItem(b[e])[0]);l=s.deleteNoticeById(d,l);g.setSelectedRows([]);g="";if(0==l.length)g="noData";else for(e=0;e<l.length;e++)g+=l[e]+"%20";dijit.byId("te").__proto__.currenSearchParameter="id="+g+"&startDate=&endDate=&searchKey=&c_stockCode=&noticeType=&list1=&list2=&list3=&list4=";
s.rendQuery()})}})).show()},showPrompt:function(a){(new c({id:"pleaseCheckGG",title:"\u63d0\u793a",refreshOnShow:!0,href:"resources/dialog/promptDialog.html",style:{width:"250px",height:"85px"},onHide:function(){this.destroyRecursive()},onLoad:function(){document.getElementById("promptContent").innerHTML=a}})).show()},dojoConfirm:function(a,b){var f=new c({id:"confirmDialog",title:"\u63d0\u793a",refreshOnShow:!0,style:{width:"250px",height:"85px"},href:"resources/dialog/confilmDialog.html",onHide:function(){this.destroyRecursive()},
onLoad:function(){document.getElementById("confirmContent").innerHTML=a;var c=dijit.byId("yesButton"),d=dijit.byId("noButton");dojo.connect(c,"onClick",function(){f.hide();b()});dojo.connect(d,"onClick",function(){f.hide()})}});f.startup();f.show()}})})},"url:stock/gsgg/view/searchBar.html":'<div data-dojo-attach-point="containerNode">\r\n<div style="padding:7px 0px;height: 20px" class="hbox">\r\n\t<span class="top_span">\u6807\u9898\u5173\u952e\u5b57</span>\r\n\t<div data-dojo-type="dijit/form/ComboBox" data-dojo-props="hasDownArrow:false" style="width:120px" id="searchKey"></div>\r\n\t<span class="top_span">\u516c\u544a\u65e5\u671f</span>\r\n\t<div id="noticeDate" data-dojo-type="dijit/form/ComboBox" title="\u516c\u544a\u65e5\u671f" style="width:80px" data-dojo-props="readonly:\'readonly\'">\r\n\t\t<option selected value="1">\u6700\u65b0</option>\r\n\t\t<option value="2">\u4e00\u5468\u5185</option>\r\n\t\t<option value="3">\u4e00\u4e2a\u6708\u5185</option>\r\n\t\t<option value="4">\u4e09\u4e2a\u6708\u5185</option>\r\n\t\t<option value="5">\u534a\u5e74\u5185</option>\r\n\t\t<option value="6">\u4e00\u5e74\u5185</option>\r\n\t\t<option value="7">\u81ea\u5b9a\u4e49</option>\r\n\t\t<option value="8">\u5168\u90e8</option>\r\n\t</div>\r\n\t<span class="top_span">\u81ea</span><div id="noticeStartDate" data-dojo-type="dijit/form/DateTextBox" data-dojo-props="value:new Date()"></div>\r\n\t<span class="top_span1">\u81f3</span><div id="noticeEndDate" data-dojo-type="dijit/form/DateTextBox" data-dojo-props="value:new Date()"></div>\r\n\t&nbsp;&nbsp;\r\n\t<div data-dojo-type="dijit/form/Button" data-dojo-props="label:\'\u68c0\u7d22\'" id="btnSearch"></div>\r\n\t<div class="spacer1"></div>\r\n\t<div data-dojo-type="dijit/form/Button" data-dojo-props="label:\'\u4fdd\u5b58\u67e5\u8be2\u6761\u4ef6\'" id="btnSaveQuery"></div>\r\n\t<div data-dojo-type="dijit/form/Button" data-dojo-props="label:\'\u5220\u9664\u516c\u544a\'" id="btnDelNotice"></div>\r\n\t<div data-dojo-type="dijit/form/Button" data-dojo-props="label:\'\u79fb\u52a8\u516c\u544a\'" id="btnMoveNotice"></div>\r\n\t<div data-dojo-type="dijit/form/Button" data-dojo-props="label:\'\u6536\u85cf\u516c\u544a\'" id="btnSaveNotice"></div>\r\n</div>\r\n<\!-- <div style="min-width:1000px; height:35px;overflow: hidden"> --\>\r\n<\!-- \t    <table width="100%" height="35"> --\>\r\n<\!-- \t    \t<tbody> --\>\r\n<\!-- \t    \t\t<tr> --\>\r\n<\!-- \t    \t\t\t<td> --\>\r\n<\!-- \t    \t\t\t<span class="top_span">\u6807\u9898\u5173\u952e\u5b57</span><div data-dojo-type="dijit/form/ComboBox" data-dojo-props="hasDownArrow:false" style="width:120px" id="searchKey"></div> --\>\r\n<\!-- \t    \t\t\t<span class="top_span">\u516c\u544a\u65e5\u671f</span> --\>\r\n<\!-- \t\t\t\t\t\t<div id="noticeDate" data-dojo-type="dijit/form/ComboBox" title="\u516c\u544a\u65e5\u671f" style="width:80px" data-dojo-props="readonly:\'readonly\'"> --\>\r\n<\!-- \t\t\t\t\t\t\t\t<option selected value="1">\u6700\u65b0</option> --\>\r\n<\!-- \t\t\t\t\t\t\t\t<option value="2">\u4e00\u5468\u5185</option> --\>\r\n<\!-- \t\t\t\t\t\t\t\t<option value="3">\u4e00\u4e2a\u6708\u5185</option> --\>\r\n<\!-- \t\t\t\t\t\t\t\t<option value="4">\u4e09\u4e2a\u6708\u5185</option> --\>\r\n<\!-- \t\t\t\t\t\t\t\t<option value="5">\u534a\u5e74\u5185</option> --\>\r\n<\!-- \t\t\t\t\t\t\t\t<option value="6">\u4e00\u5e74\u5185</option> --\>\r\n<\!-- \t\t\t\t\t\t\t\t<option value="7">\u81ea\u5b9a\u4e49</option> --\>\r\n<\!-- \t\t\t\t\t\t</div> --\>\r\n<\!-- \t\t\t\t\t\t<span class="top_span">\u81ea</span><div id="noticeStartDate" data-dojo-type="dijit/form/DateTextBox" data-dojo-props="value:new Date()"></div> --\>\r\n<\!-- \t\t\t\t\t\t<span class="top_span">\u81f3</span><div id="noticeEndDate" data-dojo-type="dijit/form/DateTextBox" data-dojo-props="value:new Date()"></div> --\>\r\n<\!-- \t\t\t\t\t\t&nbsp;&nbsp;<div data-dojo-type="dijit/form/Button" data-dojo-props="label:\'\u68c0\u7d22\'" id="btnSearch"></div> --\>\r\n<\!-- \t\t\t\t\t</td> --\>\r\n<\!-- \t    \t\t\t<td align="right"> --\>\r\n<\!-- \t    \t\t\t<div data-dojo-type="dijit/form/Button" data-dojo-props="label:\'\u4fdd\u5b58\u67e5\u8be2\u6761\u4ef6\'" id="btnSaveQuery"></div> --\>\r\n<\!-- \t    \t\t\t<div data-dojo-type="dijit/form/Button" data-dojo-props="label:\'\u5220\u9664\u516c\u544a\'" id="btnDelNotice"></div> --\>\r\n<\!-- \t    \t\t\t<div data-dojo-type="dijit/form/Button" data-dojo-props="label:\'\u79fb\u52a8\u516c\u544a\'" id="btnMoveNotice"></div> --\>\r\n<\!-- \t    \t\t\t<div data-dojo-type="dijit/form/Button" data-dojo-props="label:\'\u6536\u85cf\u516c\u544a\'" id="btnSaveNotice"></div></td> --\>\r\n<\!-- \t    \t\t</tr> --\>\r\n<\!-- \t    \t</tbody> --\>\r\n<\!-- \t    </table> --\>\r\n<\!-- \t</div> --\>\r\n<\!-- </div> --\>',
"stock/gsgg/view/gridDataShow":function(){define("dojo/store/Memory,dojo/request,dojo/query,dojo/_base/declare,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dijit/layout/_ContentPaneResizeMixin,dojo/_base/lang,dojo/_base/event,dojo/on,dojo/dom-class,dojo/dom-attr,dojo/i18n!../nls/src,dojo/text!./gridDataShow.html,dijit/Dialog,dojox/slickgrid/sogrid,dojox/store/GridSOStore,dojox/slickgrid/controls/pager,stock/gsgg/view/globalMethod,dojox/store/LocalStorage,stock/gsgg/view/map,dojox/widget/Standby".split(","),
function(r,j,m,e,p,q,C,w,A,z,x,F,y,G,H,J,B,K,c,f,g,D){return e("stock.gsgg.view.gridDataShow",[p,q,C,w],{templateString:H,currenSearchParameter:"",postMixInProperties:function(){this.inherited(arguments);A.mixin(this,G)},postCreate:function(){this.createGrid()},showGridData:function(c){this.__proto__.currenSearchParameter=c;dijit.byId("dataGrid").renderQuery()},createGrid:function(){var g=this,e=new B({store:new K({serviceUrl:f.commonURL_UTF8}),id:"dataGrid",columns:[{id:"code",name:"\u8bc1\u5238\u4ee3\u7801",
field:"stockNum",width:30,sortable:!0,cssClass:"font-center",headerCssClass:"font-center"},{id:"name",name:"\u8bc1\u5238\u7b80\u79f0",field:"stockName",width:30,sortable:!0,cssClass:"font-center",headerCssClass:"font-center"},{id:"title",name:"\u516c\u544a\u6807\u9898",field:"newsTitle",width:550,sortable:!0,cssClass:"font-left",formatter:function(c,a,b,f,g){return"<div data-detail='"+g[4]+"'>"+b+"</div>"},headerCssClass:"font-center"},{id:"date",name:"\u516c\u544a\u65e5\u671f",field:"newsTime",width:100,
sortable:!0,cssClass:"font-center",formatter:function(c,a,b){return"<span>"+b.substring(0,4)+"/"+b.substring(4,6)+"/"+b.substring(6,8)+"</span>"},headerCssClass:"font-center"},{id:"type",name:"\u516c\u544a\u7c7b\u578b",field:"noticeType",width:165,sortable:!0,cssClass:"font-left",formatter:function(c,a,b){return f.dataMap.get(b)},headerCssClass:"font-center"},{id:"pdf",name:" ",field:"newsResource",width:10,sortable:!1,headerCssClass:"font-center",cssClass:"font-center",formatter:function(c,a,b){""!=
b&&(c=b.substring(b.lastIndexOf(".")+1),"pdf"==c.toLowerCase()?b="<img class='hand_pointer text_dline' id='"+b+"' src='resources/image/pdf.png' style='width:16px;height:16px;'>&nbsp;&nbsp;":"doc"==c.toLowerCase()?b="<img class='hand_pointer text_dline' id='"+b+"' src='resources/image/doc.gif' style='width:16px;height:16px;'>&nbsp;&nbsp;":"xls"==c.toLowerCase()?b="<img class='hand_pointer text_dline' id='"+b+"' src='resources/image/xls.gif' style='width:16px;height:16px;'>&nbsp;&nbsp;":"txt"==c.toLowerCase()?
b="<img class='hand_pointer text_dline' id='"+b+"' src='resources/image/txt.gif' style='width:16px;height:16px;'>&nbsp;&nbsp;":"ppt"==c.toLowerCase()&&(b="<img class='hand_pointer text_dline' id='"+b+"' src='resources/image/ppt.gif' style='width:16px;height:16px;'>&nbsp;&nbsp;"));return b}},{id:"choose",name:" ",width:35,sortable:!1,CheckBoxSelectColumn:!0,showTitleCheckbox:!1,headerCssClass:"font-center",cssClass:"font-center"}],options:{enableColumnReorder:!1,forceFitColumns:!0,rowHeight:20},initFlag:!0,
renderQuery:function(c,a,b){this.initFlag||(dijit.byId("basicStandby").show(),this.inherited("renderQuery",arguments),dijit.byId("basicStandby").hide())},handleMouseOut:function(){(!dijit.byId("zhaiyaodialog")||!dijit.byId("zhaiyaodialog").open)&&m(".row-hover",e.domNode).forEach(function(c){F.remove(c,"row-hover")})},queryOptions:{beforeQuery:function(c,a){var b=a&&a.start||0,f=a&&a.count||1,e;for(e in c)delete c[e];var b=(g.__proto__.currenSearchParameter+"&num="+50*(b/f)).split("&"),d=new D;b.forEach(function(a){d.put(a.split("=")[0],
a.split("=")[1])});A.mixin(c,{__encoding:"gbk",__qid:"CompanyNotice_noticeSolr",startDate:d.get("startDate"),endDate:d.get("endDate"),searchKey:d.get("searchKey"),c_stockCode:d.get("c_stockCode"),noticeType:d.get("noticeType"),idd:d.get("id"),list1:d.get("list1"),list2:d.get("list2"),list3:d.get("list3"),list4:d.get("list4"),num:d.get("num")});a&&delete a.start;a&&delete a.count},totalFunction:function(c){dijit.byId("basicStandby").hide();if(void 0==c.result)page.refresh(1),g.isTipMsg("0");else{0<
c.result.datas.length?g.isTipMsg("1"):(page.refresh(1),g.isTipMsg("0"));var c=void 0==c.getItem(0)?1:c.getItem(0)[c.getItem(0).length-2],a=0,a=0==c%50?c/50:c/50+1;page.refresh(a);return parseInt(a)+""}}}});e.placeAt("container");page=new c({grid:e,pageSize:50},"pagerDiv");page.startup();e.on("click",function(c,a){if(2==a.cell&&c.target.dataset.detail)f.getZlibContent(c.target.dataset.detail,c.target.textContent);else if(5==a.cell&&"IMG"==c.target.tagName)hideVal=c.target.id,window.external.download("dzh://FILEMGR?LINK="+
hideVal+"&OPEN=1&SHOWUI=1")})},isTipMsg:function(c){"0"==c?dijit.byId("pagerDiv").update_prompt_text("\u65e0\u68c0\u7d22\u7ed3\u679c,\u8bf7\u4f7f\u7528\u5176\u4ed6\u6761\u4ef6\u8fdb\u884c\u68c0\u7d22"):dijit.byId("pagerDiv").clear_prompt_text()}})})},"url:stock/gsgg/view/gridDataShow.html":'<div data-dojo-attach-point="containerNode" >\t\t\t\t\t \r\n\t<div data-dojo-type="dijit/layout/ContentPane">\r\n\t\t<div class="vbox" data-dojo-type="dijit/layout/ContentPane" style="overflow: hidden;">\r\n\t\t\t<div class="spacer1" id="container" data-dojo-type="dijit/layout/ContentPane"></div>\r\n\t\t\t<div id="pagerDiv"></div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div id ="basicStandby" target="bodyId" data-dojo-type="dojox/widget/Standby" zIndex="1000"></div>\r\n</div>\r\n',
"*now":function(r){r(['dojo/i18n!*preload*stock/gsgg/nls/src*["en-us","zh-cn","ROOT"]'])}}});
define("stock/gsgg/src","dojo/parser,stock/gsgg/view/leftNavigation,stock/gsgg/view/topbar,stock/gsgg/view/searchBar,stock/gsgg/view/gridDataShow,dijit/Menu,dijit/MenuItem,dojox/store/LocalStorage,dojo/_base/lang,dijit/Dialog,stock/gsgg/view/globalMethod,dojo/date/locale,dojo/dom-style,dojo/on".split(","),function(r,j,m,e,p,q,C,w,A,z,x,F,y,G){return function(){G(document.body,"click",function(e){if(dijit.registry.getEnclosingWidget(e.target)!==dijit.byId("managerBtn")&&(e=A.getObject("refreshTimer")))clearInterval(e),
A.setObject("refreshTimer",null)});r.parse().then(function(){y.set(dijit.byId("basicStandby")._underlayNode,"background","none");var e,j=new q({targetNodeIds:["favoriteTree"],selector:".rightClick"});j.addChild(new C({label:"\u91cd\u547d\u540d",parentMenu:j,onClick:function(){var e=dijit.byNode(this.getParent().currentTarget),c=e.item.name,f=e.item.id,g=e="";"notice_id_"==f[0].substring(0,10)?(e="\u4fee\u6539\u6211\u7684\u6536\u85cf\u540d\u79f0",g="\u8bf7\u8f93\u5165\u6211\u7684\u6536\u85cf\u6807\u9898"):
(e="\u4fee\u6539\u6211\u7684\u67e5\u8be2\u540d\u79f0",g="\u8bf7\u8f93\u5165\u6211\u7684\u67e5\u8be2\u6807\u9898");(new z({id:"dialogUpdate",title:e,refreshOnShow:!0,href:"resources/dialog/updateDialog.html",style:{width:"400px",height:"128px"},onHide:function(){this.destroyRecursive()},onLoad:function(){document.getElementById("titleName").innerHTML="<label>"+g+"</label>";document.getElementById("updateTime").innerHTML="<label style='padding-left: 122px;'>\u4fee\u6539\u65f6\u95f4:"+F.format(new Date,
{selector:"date",datePattern:"yyyy-MM-dd HH:mm"})+"</label>";dijit.byId("searchName").setValue(c);dojo.connect(dijit.byId("updateOK"),"onClick",function(){var c=dijit.byId("searchName").value;if(null==c||""==c){var e=new z({id:"pleaseCheckGG",title:"\u63d0\u793a",refreshOnShow:!0,href:"resources/dialog/promptDialog.html",style:{width:"250px",height:"85px"},onHide:function(){this.destroyRecursive()},onLoad:function(){document.getElementById("promptContent").innerHTML="\u6807\u9898\u4e0d\u80fd\u4e3a\u7a7a!"}});
e.show()}else if("0"==x.isExistSearchName(c)){continentStore1.fetchItemByIdentity({identity:f,onItem:function(e){continentStore1.setValue(e,"name",c)}});var e=new w,g=e.get(f);g.name=c;e.remove(f);e.put(g);dijit.byId("dialogUpdate").onCancel()}else e=new z({id:"pleaseCheckGG",title:"\u63d0\u793a",refreshOnShow:!0,href:"resources/dialog/promptDialog.html",style:{width:"250px",height:"85px"},onHide:function(){this.destroyRecursive()},onLoad:function(){document.getElementById("promptContent").innerHTML=
"\u5df2\u5b58\u5728\u540c\u540d\u6807\u9898\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165!"}}),e.show()})}})).show()}}));var m=setInterval(function(){var e=dijit.byId("noticeTree").model.store;if(dijit.byId("noticeTree").rootNode.item.children){var c=dijit.byId("noticeTree").rootNode.item.children[0];e.setValue(c,"checked",!0);c.children.forEach(function(c){x.collapseNode(dijit.byId("noticeTree"),c)});clearInterval(m)}},100);j.addChild(new C({label:"\u5220&nbsp;&nbsp;\u9664",parentMenu:j,onClick:function(){var j=
dijit.byNode(this.getParent().currentTarget),j=dijit.byNode(this.getParent().currentTarget);e="notice_id_"==j.item.id[0].substring(0,10)?"\u6211\u7684\u6536\u85cf":"\u6211\u7684\u67e5\u8be2";var c=new z({id:"confirmDialog",title:"\u63d0\u793a",refreshOnShow:!0,style:{width:"250px",height:"85px"},href:"resources/dialog/confilmDialog.html",onHide:function(){this.destroyRecursive()},onLoad:function(){document.getElementById("confirmContent").innerHTML="\u60a8\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u6761"+
e+"\u5417?";var f=dijit.byId("yesButton"),g=dijit.byId("noButton");dojo.connect(f,"onClick",function(){var e=j.item.id;(new w).remove(e);continentStore1.fetchItemByIdentity({identity:e,onItem:function(c){continentStore1.deleteItem(c)}});c.hide()});dojo.connect(g,"onClick",function(){c.hide()})}});c.show()}}))})}});