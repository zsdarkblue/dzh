/*
	Copyright (c) 2012-2013,   To get sources and documentation, please visit:

		http://dms.gw.com.cn
*/

//>>built
require({cache:{"stock/stockCalendarOne/view/Calendar":function(){define("dojo/_base/declare,dijit/registry,dojo/dom-construct,dojo/dom-style,dojo/query,dojo/text!./Calendar.html,dojo/store/Memory,dojox/slickgrid/slickgrid,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dojo/_base/array,./DayView,./WeekView,./MonthView,./Header,dojo/date/locale,dojo/date,dojo/_base/lang,dojo/data/ItemFileReadStore,dojo/dom-class".split(","),function(K,n,r,d,h,O,P,T,p,E,F,m,b,t,Q,a,c,w,A){return K("stock.stockCalendarOne.view.Calendar",
[p,E,F],{templateString:O,views:[],currentViewIndex:0,renderData:{},savedParma:null,savedSelfStockParma:null,self:null,installView:function(){this.monthView=new Q({calendar:this});this.weekView=new t;this.dayView=new b;this.views=[this.monthView,this.weekView,this.dayView];this.header=new a({calendar:this,dayView:this.dayView},this.header)},postCreate:function(){this.inherited(arguments);var b=this;this.installView();m.forEach(this.views,function(o){r.place(o.domNode,b.viewContainer.domNode)});this.self=
window.location.search;"?self=1"==this.self?this.switchToView("monthView",null,"monthView"):(this.self=void 0,this.switchToView("dayView",null,null))},getCurrentView:function(){return this.views[this.currentViewIndex]},switchToView:function(b,o,a){var e=o,f=this,i=RegExp(b+"$","i"),R=this.header.getSerachTerm(),g=this,G=this.renderData={dataModule:w,dateLocaleModule:c};A.mixin(G,R);if(this.self)R=A.clone(G),this.savedParma=this.createDefaultPrama(e,R),G.isSelfShow=!0,this.header.subclassPage="9",
this.header.flag="monthView",this.header.isSelfstock.set("checked",!0),this.header.dayButton.setAttribute("class","dateButton"),this.header.monthButton.setAttribute("class","btn_group_select"),this.header.monthButton.setAttribute("disabled",!0),this.header.dayButton.setAttribute("disabled",!1),this.header.inputStockCode.setAttribute("disabled",!0),this.header.stockBt.setAttribute("disabled",!0),this.header.a.set("value","\u5e02\u573a\u5206\u7c7b"),this.header.b.set("value","\u5206\u7c7b\u57fa\u51c6"),
this.header.c.set("value","\u884c\u4e1a\u5206\u7c7b"),this.header.searchBt.setAttribute("disabled",!0),this.header.a.setAttribute("disabled",!0),this.header.b.setAttribute("disabled",!0),this.header.c.setAttribute("disabled",!0),this.self=void 0;null==b?(9!=this.header.subclassPage?this.savedParma=o:this.savedSelfStockParma=o,this.getCurrentView().buildGrid(o)):m.forEach(this.views,function(b,o){i.test(b.declaredClass)?("stock_stockCalendarOne_view_DayView_0"==b.domNode.id?d.set(dojo.byId("dayView"),
"display",""):d.set(b.domNode,"display",""),null==e&&(e=f.createDefaultPrama(e,G)),9!=f.header.subclassPage?f.savedParma=e:(f.savedSelfStockParma=e,f.savedSelfStockParma.id="9"),b.buildGrid(e),g.currentViewIndex=o):"stock_stockCalendarOne_view_DayView_0"==b.domNode.id?d.set(dojo.byId("dayView"),"display","none"):d.set(b.domNode,"display","none")});if(/dayView/i.test(a)||null==a)d.set(this.header.dheader.domNode,"display",""),d.set(this.header.dateChooser.domNode,"display",""),d.set(this.header.isWeekShow.domNode,
"display","none"),d.set(this.header.isSelfstock.domNode,"display","none"),document.getElementById("weekLabel").style.display="none",document.getElementById("selfstock").style.display="none";else if(/weekView/i.test(a))d.set(this.header.dheader.domNode,"display","none"),d.set(this.header.dateChooser.domNode,"display","none"),d.set(this.header.isWeekShow.domNode,"display",""),d.set(this.header.isSelfstock.domNode,"display",""),document.getElementById("weekLabel").style.display="",document.getElementById("selfstock").style.display=
"";else if(/monthView/i.test(a))d.set(this.header.dheader.domNode,"display","none"),d.set(this.header.dateChooser.domNode,"display",""),d.set(this.header.isWeekShow.domNode,"display",""),d.set(this.header.isSelfstock.domNode,"display",""),document.getElementById("weekLabel").style.display="",document.getElementById("selfstock").style.display=""},createDefaultPrama:function(b,o){var a=dojo.date.locale.format(this.header.dateChooser.get("value"),{datePattern:"yyyyMMdd",timePattern:"000000"}).replace(" ",
"");o.isWeekShow=this.header.isWeekShow.checked;b={renderData:o,theDate:a,id:"0",marketType:void 0,industryBasis:"",industryType:"",marketTypeValue:"\u5e02\u573a\u5206\u7c7b",industryBasisValue:"\u5206\u7c7b\u57fa\u51c6",industryTypeValue:"\u884c\u4e1a\u5206\u7c7b"};this.header.a.set("value","\u5e02\u573a\u5206\u7c7b");this.header.b.set("value","\u5206\u7c7b\u57fa\u51c6");this.header.c.set("store",new P({name:"\u884c\u4e1a\u5206\u7c7b",id:""}));this.header.c.set("value","\u884c\u4e1a\u5206\u7c7b");
this.header.dateChooser.set("value",o.sDate);return b}})})},"url:stock/stockCalendarOne/view/Calendar.html":'<div id="main" data-dojo-type="dijit/layout/ContentPane" class="vbox" style="height:100%;">\n\t<div data-dojo-attach-point="header"></div>\n\t<div data-dojo-type="dijit/layout/ContentPane" data-dojo-attach-point="viewContainer"  class="spacer vbox" >\n\t</div>\n</div>\n\n\n\n\n\n\n\n',"stock/stockCalendarOne/view/DayView":function(){define("dojo/_base/declare,dojo/_base/lang,dojo/dom-style,dojo/on,dojo/date,dijit/registry,dojo/store/Memory,dojo/text!./DayView.html,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dojox/slickgrid/slickgrid,dojox/store/GridSOStore,dojo/query,dojo/NodeList-data,dijit/Dialog,dojo/dom-attr,dojox/widget/Standby,dojox/slickgrid/sogrid,./CommonMethod".split(","),
function(K,n,r,d,h,O,P,T,p,E,F,m,b,t,Q,a,c,w,A,l){return K("stock.stockCalendarOne.view.DayView",[p,E,F],{templateString:T,isDefault:!0,buildGrid:function(b){dijit.byId("basicStandby")._underlayNode.style.background="none";dijit.byId("basicStandby").show();var a=[{id:"no",name:"\u5e8f\u53f7",field:"no",width:4,headerCssClass:"font-center",cssClass:"font-center",formatter:function(f){return f+1}},{id:"stockCode",name:"\u8bc1\u5238\u4ee3\u7801",field:"stockCode",width:8,sortable:!0,headerCssClass:"font-center",
cssClass:"font-left hand_pointer"},{id:"stockName",name:"\u8bc1\u5238\u540d\u79f0",field:"stockName",width:8,sortable:!0,headerCssClass:"font-center",cssClass:"font-center"},{id:"mType",name:"\u4e8b\u4ef6\u7c7b\u578b",field:"mType",width:15,sortable:!0,headerCssClass:"font-center"},{id:"mTitle",name:"\u5185\u5bb9",field:"mTitle",width:60,sortable:!0,headerCssClass:"font-center",cssClass:"font-left hand_pointer",formatter:function(f,i,b,g,a){return void 0==a.id?"<span data-is-tip-cell=true id='"+a[0]+
"'>"+b+"</span>":"<span data-is-tip-cell=true id='"+a.id+"'>"+b+"</span>"}}],e={forceFitColumns:!0,enableColumnReorder:!1};"9"==b.id?this.getSelfStockDate(b,a,e):this.getSubclassData(b,a,e)},getSubclassGrid:function(b,a,e,f){a=new A({id:"dayGrid",columns:a,store:f,options:e});a.placeAt("dayView");a.startup();t("#saveData").data(b.id,f.data[0].result.datas);return a},pushData:function(b,a,e){b.push({stockCode:a.data[0].result.datas[e][1],stockName:a.data[0].result.datas[e][2],mType:a.data[0].result.datas[e][3],
mTitle:a.data[0].result.datas[e][4],id:a.data[0].result.datas[e][0]})},createHomePageGrid:function(b,a,e,f,i,c,g,G){i=new dijit.layout.ContentPane({content:'<div class="SuspensionTitle"><a href="#"> </a><span>'+i+"</span></div>"});dijit.byId("dayView").addChild(i);i=new P({data:b});a=new A({id:f,columns:a,store:i,style:"height:"+25*(b.length+1)+"px",options:e});1==G&&dijit.byId("basicStandby").hide();b=dijit.layout.ContentPane({style:"position:relative;height:"+25*(b.length+1)+"px"});b.placeAt("dayView");
a.placeAt(b);b.resize();this.bindEvent(a,!0);l.showTitle(a);return a},createHomePageView:function(b,a,e,f,i){var c=b.data[0].result.datas,g=[],G=[],p=[],d=[],B=[],S=[],k=[],j=[],h=[],E=[],L=[],C=[],q=[],y=[],u=[];if("0"==i)for(i=0;i<c.length;i++)"513"==c[i][5]?this.pushData(g,b,i):"704"==c[i][5]?this.pushData(G,b,i):"638"==c[i][5]?this.pushData(p,b,i):"512"==c[i][5]?this.pushData(d,b,i):"525"==c[i][5]?this.pushData(B,b,i):"526"==c[i][5]?this.pushData(S,b,i):"521"==c[i][5]?this.pushData(k,b,i):"622"==
c[i][5]?this.pushData(j,b,i):"623"==c[i][5]?this.pushData(h,b,i):"624"==c[i][5]?this.pushData(E,b,i):"516"==c[i][5]?this.pushData(L,b,i):"527"==c[i][5]?this.pushData(C,b,i):"514"==c[i][5]&&this.pushData(q,b,i);else for(i=0;i<c.length;i++)"513"==c[i][5]?this.pushData(y,b,i):"515"==c[i][5]&&this.pushData(u,b,i);var l=this,s=1,v=[],c=0,i=[];0<g.length&&v.push(this.createHomePageGrid(g,a,e,"grid513","\u505c\u590d\u724c",b,f,s++));0<G.length&&(g=setTimeout(function(){v.push(l.createHomePageGrid(G,a,e,
"grid704","\u80a1\u4efd\u56de\u8d2d",b,f,s++))},c+=1E3),i.push(g));0<p.length&&(g=setTimeout(function(){v.push(l.createHomePageGrid(p,a,e,"grid638","\u80a1\u4e1c\u589e\u51cf\u6301",b,f,s++))},c+=1E3),i.push(g));0<B.length&&(g=setTimeout(function(){v.push(l.createHomePageGrid(B,a,e,"grid525","\u65b0\u80a1",b,f,s++))},c+=1E3),i.push(g));0<S.length&&(g=setTimeout(function(){v.push(l.createHomePageGrid(S,a,e,"grid526","\u589e\u53d1",b,f,s++))},c+=1E3),i.push(g));0<k.length&&(g=setTimeout(function(){v.push(l.createHomePageGrid(k,
a,e,"grid521","\u914d\u80a1",b,f,s++))},c+=1E3),i.push(g));0<d.length&&(g=setTimeout(function(){v.push(l.createHomePageGrid(d,a,e,"grid512","\u5206\u7ea2\u6d3e\u606f",b,f,s++))},c+=1E3),i.push(g));0<j.length&&(g=setTimeout(function(){v.push(l.createHomePageGrid(j,a,e,"grid622","\u8d22\u62a5\u62ab\u9732",b,f,s++))},c+=1E3),i.push(g));0<h.length&&(g=setTimeout(function(){v.push(l.createHomePageGrid(h,a,e,"grid623","\u6536\u8d2d\u517c\u5e76",b,f,s++))},c+=1E3),i.push(g));0<E.length&&(g=setTimeout(function(){v.push(l.createHomePageGrid(E,
a,e,"grid624","\u8fdd\u6cd5\u8fdd\u89c4",b,f,s++))},c+=1E3),i.push(g));0<L.length&&(g=setTimeout(function(){v.push(l.createHomePageGrid(L,a,e,"grid516","\u80a1\u6539",b,f,s++))},c+=1E3),i.push(g));0<C.length&&(g=setTimeout(function(){v.push(l.createHomePageGrid(C,a,e,"grid527","\u8f6c\u503a\u53ca\u6743\u8bc1",b,f,s++))},c+=1E3),i.push(g));0<q.length&&(g=setTimeout(function(){v.push(l.createHomePageGrid(q,a,e,"grid514","\u516c\u53f8\u6982\u51b5\u53ca\u5176\u4ed6",b,f,s++))},c+=1E3),i.push(g));0<y.length&&
(g=setTimeout(function(){v.push(l.createHomePageGrid(y,a,e,"grid5133","\u516c\u544a",b,f,s++))},c+=1E3),i.push(g));0<u.length&&(g=setTimeout(function(){v.push(l.createHomePageGrid(u,a,e,"grid515","\u80a1\u4e1c\u5927\u4f1a",b,f,s++))},c+=1E3),i.push(g));n.setObject("timerArray",i);return v},getSubclassData:function(a,c,e){dijit.byId("dayView").getChildren().forEach(function(f){f.destroyRecursive()});var f=this,i=new b({}),p=l.createQid(a,a.theDate,a.id);""==a.stockCode?(dijit.byId("nullMsgHomePage").domNode.style.display=
"block",dijit.byId("basicStandby").hide(),t("#saveData").data(a.id,[])):l.getData(i,p).then(function(g){if(-1>=g.res_type||"error"==g.level)dijit.byId("nullData").domNode.style.display="block",dijit.byId("basicStandby").hide(),t("#saveData").data(a.id,[]);else if("0"!=p.tabType)if(void 0==g.result)dijit.byId("nullMsg").domNode.style.display="block",dijit.byId("basicStandby").hide(),t("#saveData").data(a.id,[]);else{var G=f.getSubclassGrid(a,c,e,i);0==g.result.datas.length?(dijit.byId("nullMsg").domNode.style.display=
"block",dijit.byId("basicStandby").hide()):(dijit.byId("basicStandby").hide(),f.bindEvent(G),l.showTitle(G))}else if(void 0==g.result){var d=new b({});p.tabType="8";l.getData(d,p).then(function(i){-1>=i.res_type||"error"==i.level?(dijit.byId("nullData").domNode.style.display="block",dijit.byId("basicStandby").hide(),t("#saveData").data(a.id,[])):void 0==i.result?(dijit.byId("nullMsgHomePage").domNode.style.display="block",dijit.byId("basicStandby").hide(),t("#saveData").data(a.id,[])):(f.createHomePageView(d,
c,e,a,p.tabType),0==i.result.datas.length?(dijit.byId("nullMsgHomePage").domNode.style.display="block",dijit.byId("basicStandby").hide(),t("#saveData").data(a.id,[])):t("#saveData").data(a.id,d.data[0].result.datas))})}else f.createHomePageView(i,c,e,a,p.tabType),0==g.result.datas.length?(dijit.byId("nullMsgHomePage").domNode.style.display="block",dijit.byId("basicStandby").hide(),t("#saveData").data(a.id,[])):t("#saveData").data(a.id,i.data[0].result.datas)})},getSelfStockDate:function(a,c,e){dijit.byId("dayView").getChildren().forEach(function(f){f.destroyRecursive()});
var f=this,i=new b({}),p=l.createQid(a,a.theDate,a.id),g="",i=new b({});l.getMyselfBlockData(i).then(function(i){for(var d="",i=i.result.datas,h=1;h<i.length;h++)d+=","+i[h][1];d=d.substring(1);i=new b({});l.getMyselfStockData(i,d).then(function(i){i=i.result.datas;if(0==i.length)dijit.byId("nullSelfStock").domNode.style.display="block",dijit.byId("basicStandby").hide();else{for(var d=0;d<i.length;d++)/^(SH|SZ|SO){1}/.test(i[d][0])&&(g+=" "+i[d][0].substring(2,i[d][0].indexOf(".")));if(""==g)dijit.byId("nullSelfStock").domNode.style.display=
"block",dijit.byId("basicStandby").hide();else{p.stockCode="'"+g.substring(1)+"'";var k=new b({});l.getData(k,p).then(function(i){if(-1>=i.res_type||"error"==i.level)dijit.byId("nullSelfMsg").domNode.style.display="block",dijit.byId("basicStandby").hide(),t("#saveData").data(a.id,[]);else if(void 0==i.result)dijit.byId("nullSelfMsg").domNode.style.display="block",dijit.byId("basicStandby").hide(),t("#saveData").data(a.id,[]);else{var b=f.getSubclassGrid(a,c,e,k);0==i.result.datas.length?(dijit.byId("nullSelfMsg").domNode.style.display=
"block",dijit.byId("basicStandby").hide()):(dijit.byId("basicStandby").hide(),f.bindEvent(b),l.showTitle(b))}})}}})})},bindEvent:function(b,a){b.on("dblclick",n.hitch(this,this.detailsClick));b.on("dblclick",function(c,f){if(1==f.cell){var i="",i=a?b.data[f.row].id:b.data.result.datas[f.row][0],i="dzh://VIEWSTOCK?DATATYPE=DAY&LAYOUT=Level2\u9ed8\u8ba4&LABEL="+(i.split("_")[0]+".stk")+"&page=\u6280\u672f\u5206\u6790";location.href=i}})},getDetailsData:function(a,c){dijit.byId("basicStandby")._underlayNode.style.background=
"none";dijit.byId("basicStandby").show();var e=null,f=new b({});l.getData(f,{__qid:"stockcalendar_day_note",code:a,id:c}).then(function(f){if(-1>=f.res_type||"error"==f.level)dojo.byId("detaildata").innerHTML="\u63d0\u53d6\u6570\u636e\u5931\u8d25,\u8bf7\u91cd\u65b0\u63d0\u53d6",dijit.byId("basicStandby").hide();else return void 0!=f.result?0<f.result.datas.length&&(e=null==f.result.datas[0][0]||""==f.result.datas[0][0]||"NULL"==f.result.datas[0][0]?"\u65e0\u8be6\u7ec6\u4fe1\u606f":f.result.datas[0][0]):
e="\u65e0\u8be6\u7ec6\u4fe1\u606f",e=e.replace("<pre>","").replace("<pre>",""),dojo.byId("detaildata").innerHTML=e,dijit.byId("basicStandby").hide(),e})},detailsClick:function(b,c){if(4==c.cell){new a({id:"detaildialog",title:"\u8be6\u7ec6\u5185\u5bb9",href:"resources/dialog/detailDialog.html",onHide:function(){this.destroyRecursive()},onDownloadEnd:function(){dojo.connect(dijit.byId("detailbtnOk"),"onClick",function(){dijit.byId("detaildialog").onCancel()});var i=f[0];-1==i.indexOf(".stk")&&(i+=
".stk");e.getDetailsData(i,f[1])}});var e=this,f=(""==b.target.id?b.target.firstChild.id:b.target.id).split("_");dijit.byId("detaildialog").show();dijit.byId("detaildialog").resize()}}})})},"url:stock/stockCalendarOne/view/DayView.html":'<div data-dojo-attach-point="containerNode" class="spacer vbox">\r\n\t<\!-- \u7528\u6765\u50a8\u5b58\u7f13\u5b58\u6570\u636e --\>\r\n\t<div data-dojo-type="dijit/layout/ContentPane" id="saveData" style="display:none">\r\n \t</div>\r\n \t<div data-dojo-type="dijit/layout/ContentPane" class="spacer vbox">\r\n \t\t<div data-dojo-type="dijit/layout/ContentPane" id="dayView" style="overflow: auto;" class="spacer"></div>\r\n \t</div>\r\n \t<div id="nullMsg" data-dojo-type="dijit/layout/ContentPane" class="dojoxFloatingPane dijitContentPane dojoxFloatingPaneFg tc" title="" role="group" style="display:none;position: absolute; visibility: visible; left: 50%; top:50%;margin-left:-160px;margin-top:-60px;width:280px; height: 100px; z-index: 104;">\r\n\t\t<div tabindex="0" role="button" class="dojoxFloatingPaneTitle" dojoattachpoint="focusNode" draggable="false">\t\t\r\n\t\t\t<span dojoattachpoint="titleNode" class="dijitInline dijitTitleNode">\u63d0\u793a</span>\r\n\t\t</div>\r\n\t\t<div class="tc_text" style="text-align:center;padding:20px;">\u8be5\u4e8b\u4ef6\u7c7b\u578b\u65e0\u4fe1\u606f\u62ab\u9732</div>\r\n\t</div>\r\n\t<div id="nullMsgHomePage" data-dojo-type="dijit/layout/ContentPane" class="dojoxFloatingPane dijitContentPane dojoxFloatingPaneFg tc" title="" role="group" style="display:none;position: absolute; visibility: visible; left: 50%; top:50%;margin-left:-160px;margin-top:-60px;width:280px; height: 100px; z-index: 104;">\r\n\t\t<div tabindex="0" role="button" class="dojoxFloatingPaneTitle" dojoattachpoint="focusNode" draggable="false">\t\t\r\n\t\t\t<span dojoattachpoint="titleNode" class="dijitInline dijitTitleNode">\u63d0\u793a</span>\r\n\t\t</div>\r\n\t\t<div class="tc_text" style="text-align:center;padding:20px;">\u8be5\u65e5\u65e0\u4fe1\u606f\u62ab\u9732</div>\r\n\t</div>\r\n\t<div id="nullData" data-dojo-type="dijit/layout/ContentPane" class="dojoxFloatingPane dijitContentPane dojoxFloatingPaneFg tc" title="" role="group" style="display:none;position: absolute; visibility: visible; left: 50%; top:50%;margin-left:-160px;margin-top:-60px;width:280px; height: 100px; z-index: 104;">\r\n\t\t<div tabindex="0" role="button" class="dojoxFloatingPaneTitle" dojoattachpoint="focusNode" draggable="false">\t\t\r\n\t\t\t<span dojoattachpoint="titleNode" class="dijitInline dijitTitleNode">\u63d0\u793a</span>\r\n\t\t</div>\r\n\t\t<div class="tc_text" style="text-align:center;padding:20px;">\u63d0\u53d6\u6570\u636e\u5931\u8d25,\u8bf7\u91cd\u65b0\u63d0\u53d6</div>\r\n\t</div>\r\n\t<div id="nullSelfStock" data-dojo-type="dijit/layout/ContentPane" class="dojoxFloatingPane dijitContentPane dojoxFloatingPaneFg tc" title="" role="group" style="display:none;position: absolute; visibility: visible; left: 50%; top:50%;margin-left:-160px;margin-top:-60px;width:280px; height: 100px; z-index: 104;">\r\n\t\t<div tabindex="0" role="button" class="dojoxFloatingPaneTitle" dojoattachpoint="focusNode" draggable="false">\t\t\r\n\t\t\t<span dojoattachpoint="titleNode" class="dijitInline dijitTitleNode">\u63d0\u793a</span>\r\n\t\t</div>\r\n\t\t<div class="tc_text" style="text-align:center;padding:20px;">\u6682\u65e0\u81ea\u9009\u80a1</div>\r\n\t</div>\r\n\t<div id="nullSelfMsg" data-dojo-type="dijit/layout/ContentPane" class="dojoxFloatingPane dijitContentPane dojoxFloatingPaneFg tc" title="" role="group" style="display:none;position: absolute; visibility: visible; left: 50%; top:50%;margin-left:-160px;margin-top:-60px;width:280px; height: 100px; z-index: 104;">\r\n\t\t<div tabindex="0" role="button" class="dojoxFloatingPaneTitle" dojoattachpoint="focusNode" draggable="false">\t\t\r\n\t\t\t<span dojoattachpoint="titleNode" class="dijitInline dijitTitleNode">\u63d0\u793a</span>\r\n\t\t</div>\r\n\t\t<div class="tc_text" style="text-align:center;padding:20px;">\u81ea\u9009\u80a1\u65e0\u4fe1\u606f\u62ab\u9732</div>\r\n\t</div>\r\n \t<div id ="basicStandby" target="bodyId" data-dojo-type="dojox/widget/Standby" zIndex="1000"></div>\r\n</div>',
"stock/stockCalendarOne/view/CommonMethod":function(){define(["stock/stockCalendarOne/view/_CommonMethod"],function(K){return new K})},"stock/stockCalendarOne/view/_CommonMethod":function(){define("dojo/_base/declare,dojo/_base/lang,dojo/on,dojo/dom-geometry,dijit/TooltipDialog,dijit/popup,dojo/date,dojo/io-query,dojox/store/GridSOStore".split(","),function(K,n,r,d,h,O,P,T){return K("stock.stockCalendarOne.view._CommonMethod",null,{showTitle:function(p){p.on("mouseover",function(p){p.target.title=
"";if(p.target.dataset.isTipCell&&d.getMarginBox(p.target).w>d.getContentBox(p.target.parentElement).w){p.target.parentElement.title="";if(!this.detailTip)this.detailTip=new h({className:"kks",style:"width: 300px;"});this.detailTip.set("content",p.target.innerHTML);O.open({popup:this.detailTip,around:p.target})}});p.on("mouseout",function(){O.close(this.detailTip)})},createWeeks:function(p,d,h,m){p=null!=p?p:d.sDate;p=P.add(p,"day",h);return result=m?d.dateLocaleModule.format(p,{selector:"date",datePattern:"EEEE"}):
d.dateLocaleModule.format(p,{selector:"date",datePattern:"yyyy-MM-dd"})},selectDate:function(d,h,n,m,b,t,r){var a=null;if("stockcalendar_week_2_sl"==h||"stockcalendar_week_3_sl"==h||"stockcalendar_week_4_sl"==h)var c=d.result.datas[7*(n-2)+m][3].split("-");else if("stockcalendar_month_2_sl"==h||"stockcalendar_month_3_sl"==h||"stockcalendar_month_4_sl"==h)c=d.result.datas[n][3].split("-");if(void 0==b.stockCode&&void 0==r)if("stockcalendar_week_1_sl"==h)a=d.result.datas[7*(n-2)+m][3];else if("stockcalendar_month_1_sl"==
h)a=d.result.datas[n][3];else if("stockcalendar_week_2_sl"==h||"stockcalendar_month_2_sl"==h)"100088"==b.marketType?a=c[0]:"100089"==b.marketType?a=c[1]:"100090"==b.marketType?a=c[2]:"100091"==b.marketType?a=c[3]:"100092"==b.marketType?a=c[4]:"100093"==b.marketType?a=c[5]:"100094"==b.marketType?a=c[6]:"100095"==b.marketType?a=c[7]:"100097"==b.marketType?a=c[8]:"100098"==b.marketType?a=c[9]:"102689"==b.marketType&&(a=c[10]);else if("stockcalendar_week_3_sl"==h||"stockcalendar_month_3_sl"==h)"100704"==
b.industryType?a=c[0]:"100705"==b.industryType?a=c[1]:"100706"==b.industryType?a=c[2]:"100707"==b.industryType?a=c[3]:"100708"==b.industryType?a=c[4]:"100709"==b.industryType?a=c[5]:"100710"==b.industryType?a=c[6]:"100711"==b.industryType?a=c[7]:"100712"==b.industryType?a=c[8]:"100713"==b.industryType?a=c[9]:"100714"==b.industryType?a=c[10]:"100715"==b.industryType?a=c[11]:"100716"==b.industryType?a=c[12]:"101105"==b.industryType?a=c[13]:"101106"==b.industryType?a=c[14]:"101107"==b.industryType?a=
c[15]:"101108"==b.industryType?a=c[16]:"101109"==b.industryType?a=c[17]:"101110"==b.industryType?a=c[18]:"101111"==b.industryType?a=c[19]:"101112"==b.industryType?a=c[20]:"101113"==b.industryType?a=c[21]:"101114"==b.industryType?a=c[22]:"101140"==b.industryType?a=c[23]:"101141"==b.industryType?a=c[24]:"101142"==b.industryType?a=c[25]:"101143"==b.industryType?a=c[26]:"101144"==b.industryType?a=c[27]:"101145"==b.industryType?a=c[28]:"101146"==b.industryType?a=c[29]:"101147"==b.industryType?a=c[30]:
"101148"==b.industryType?a=c[31]:"101149"==b.industryType?a=c[32]:"101396"==b.industryType?a=c[33]:"101397"==b.industryType?a=c[34]:"101398"==b.industryType?a=c[35]:"101399"==b.industryType?a=c[36]:"101400"==b.industryType?a=c[37]:"101401"==b.industryType?a=c[38]:"101402"==b.industryType?a=c[39]:"101403"==b.industryType?a=c[40]:"101404"==b.industryType?a=c[41]:"101405"==b.industryType?a=c[42]:"101406"==b.industryType?a=c[43]:"101407"==b.industryType?a=c[44]:"101408"==b.industryType?a=c[45]:"101409"==
b.industryType?a=c[46]:"101410"==b.industryType?a=c[47]:"101411"==b.industryType?a=c[48]:"101412"==b.industryType?a=c[49]:"101413"==b.industryType?a=c[50]:"101414"==b.industryType?a=c[51]:"101415"==b.industryType?a=c[52]:"101416"==b.industryType?a=c[53]:"101417"==b.industryType?a=c[54]:"101418"==b.industryType&&(a=c[55]);else{if("stockcalendar_week_4_sl"==h||"stockcalendar_month_4_sl"==h)"100704"==b.industryType?a=c[0]:"100705"==b.industryType?a=c[1]:"100706"==b.industryType?a=c[2]:"100707"==b.industryType?
a=c[3]:"100708"==b.industryType?a=c[4]:"100709"==b.industryType?a=c[5]:"100710"==b.industryType?a=c[6]:"100711"==b.industryType?a=c[7]:"100712"==b.industryType?a=c[8]:"100713"==b.industryType?a=c[9]:"100714"==b.industryType?a=c[10]:"100715"==b.industryType?a=c[11]:"100716"==b.industryType?a=c[12]:"101105"==b.industryType?a=c[13]:"101106"==b.industryType?a=c[14]:"101107"==b.industryType?a=c[15]:"101108"==b.industryType?a=c[16]:"101109"==b.industryType?a=c[17]:"101110"==b.industryType?a=c[18]:"101111"==
b.industryType?a=c[19]:"101112"==b.industryType?a=c[20]:"101113"==b.industryType?a=c[21]:"101114"==b.industryType?a=c[22]:"101140"==b.industryType?a=c[23]:"101141"==b.industryType?a=c[24]:"101142"==b.industryType?a=c[25]:"101143"==b.industryType?a=c[26]:"101144"==b.industryType?a=c[27]:"101145"==b.industryType?a=c[28]:"101146"==b.industryType?a=c[29]:"101147"==b.industryType?a=c[30]:"101148"==b.industryType?a=c[31]:"101149"==b.industryType?a=c[32]:"101396"==b.industryType?a=c[33]:"101397"==b.industryType?
a=c[34]:"101398"==b.industryType?a=c[35]:"101399"==b.industryType?a=c[36]:"101400"==b.industryType?a=c[37]:"101401"==b.industryType?a=c[38]:"101402"==b.industryType?a=c[39]:"101403"==b.industryType?a=c[40]:"101404"==b.industryType?a=c[41]:"101405"==b.industryType?a=c[42]:"101406"==b.industryType?a=c[43]:"101407"==b.industryType?a=c[44]:"101408"==b.industryType?a=c[45]:"101409"==b.industryType?a=c[46]:"101410"==b.industryType?a=c[47]:"101411"==b.industryType?a=c[48]:"101412"==b.industryType?a=c[49]:
"101413"==b.industryType?a=c[50]:"101414"==b.industryType?a=c[51]:"101415"==b.industryType?a=c[52]:"101416"==b.industryType?a=c[53]:"101417"==b.industryType?a=c[54]:"101418"==b.industryType&&(a=c[55])}else a="week"==t?d.result.datas[m][n-1]:d.result.datas[n][m+1];return a},getData:function(d,h){return d.query({service:"rpc",so:"javadataproxy.jar","function":"gw/UIMain",paraencode:"base64",parameter:"Z2V0,"+(window.external.base64encode||btoa)("/webquery/common/stockCalendarOne?"+T.objectToQuery(h)),
response_times:1,response_mode:0,cache_timeout:0},{})},getMyselfBlockData:function(d){return d.query({service:"blockinfo",type:"sub",source:"local",block:"\u81ea\u9009\u80a1",depth:"-1",response_times:1,response_mode:0,cache_timeout:0},{})},getMyselfStockData:function(d,h){return d.query({service:"blockinfo",type:"leaf",source:"local",block:h,depth:"-1",response_times:1,response_mode:0,cache_timeout:0},{})},clearTimer:function(){var d=n.getObject("timerArray");if(d)for(;0<d.length;){var h=d.shift();
clearTimeout(h);console.error(" timerid="+h)}},createQid:function(d,h,n){var m=void 0==d.marketType?"":d.marketType;if(void 0==d.stockCode)if(""!=d.industryType&&""!=d.industryBasis&&""!=m)var b={__qid:"stockcalendar_day_sl",pDate:h,tabType:n,hybk:d.industryType,fljz:d.industryBasis,scfl:m};else""!=d.industryType&&""!=d.industryBasis&&""==m?b={__qid:"stockcalendar_day_sl",pDate:h,tabType:n,hybk:d.industryType,fljz:d.industryBasis}:""==d.industryType&&""!=d.industryBasis&&""==m?b={__qid:"stockcalendar_day_sl",
pDate:h,tabType:n,fljz:d.industryBasis}:""==d.industryType&&""==d.industryBasis&&""==m?b={__qid:"stockcalendar_day_sl",pDate:h,tabType:n}:""==d.industryType&&""!=m&&(b={__qid:"stockcalendar_day_sl",pDate:h,tabType:n,scfl:m});else{var r="";d.stockCode=d.stockCode.replace(/([a-z]+)(.*?)([A-Z]*)/g,function(b,a,c,d){return a.toUpperCase()+c+d.toLowerCase()});if(/^(SH|SZ|SO){1}(\d{6}|\d{6}.STK)$/.test(d.stockCode))d.stockCode=d.stockCode.substring(2,8);r="'"+d.stockCode+"'";""!=d.industryType&&""!=d.industryBasis&&
""!=m?b={__qid:"stockcalendar_day_sl",pDate:h,tabType:n,hybk:d.industryType,fljz:d.industryBasis,scfl:m,stockCode:r}:""!=d.industryType&&""!=d.industryBasis&&""==m?b={__qid:"stockcalendar_day_sl",pDate:h,tabType:n,hybk:d.industryType,fljz:d.industryBasis,stockCode:r}:""==d.industryType&&""!=d.industryBasis&&""==m?b={__qid:"stockcalendar_day_sl",pDate:h,tabType:n,fljz:d.industryBasis,stockCode:r}:""==d.industryType&&""==d.industryBasis&&""==m?b={__qid:"stockcalendar_day_sl",pDate:h,tabType:n,stockCode:r}:
""==d.industryType&&""!=m&&(b={__qid:"stockcalendar_day_sl",pDate:h,tabType:n,scfl:m,stockCode:r})}return b}})})},"stock/stockCalendarOne/view/WeekView":function(){define("dojo/_base/declare,dojo/_base/lang,dojo/on,dojo/dom-construct,dojo/dom-style,dojo/dom-class,dojo/dom-geometry,dojo/query,dojo/date,dijit/registry,dojo/store/Memory,dojo/text!./WeekView.html,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dojox/slickgrid/slickgrid,dojox/slickgrid/sogrid,dojo/html,dojox/store/GridSOStore,dojo/NodeList-data,dijit/Dialog,dojo/dom-attr,./CommonMethod".split(","),
function(K,n,r,d,h,O,P,T,p,E,F,m,b,t,Q,a,c,w,A,l,o,z,e){return K("stock.stockCalendarOne.view.WeekView",[b,t,Q],{templateString:m,parma:null,getWeekData:function(f){var i=this,b=dojo.date.locale.format(p.add(f.renderData.sDate,"day",6),{datePattern:"yyyyMMdd",timePattern:"000000"}).replace(" ",""),a=new A({}),c=null;if(void 0==f.stockCode)c=""!=f.industryType&&void 0!=f.marketType?"stockcalendar_week_3_sl":""!=f.industryType&&void 0==f.marketType?"stockcalendar_week_4_sl":void 0!=f.marketType&&""==
f.industryType?"stockcalendar_week_2_sl":"stockcalendar_week_1_sl",b={__qid:c,begDate:f.theDate,endDate:b,scfl:void 0==f.marketType?"":f.marketType};else{f.stockCode=f.stockCode.replace(/([a-z]+)(.*?)([A-Z]*)/g,function(f,i,b,a){return i.toUpperCase()+b+a.toLowerCase()});if(/^(SH|SZ|SO){1}(\d{6}|\d{6}.STK)$/.test(f.stockCode))f.stockCode=f.stockCode.substring(2,8);c="stockcalendar_week_month_mine_sl";b={__qid:c,begDate:f.theDate,endDate:b,stockCode:"'"+f.stockCode+"'"}}if(""==f.stockCode){a={result:{datas:[]}};
for(b=0;7>b;b++)a.result.datas.push(",0,0,0,0,0,0,0".split(","));i.createWeekDate(a,f,c)}else e.getData(a,b).then(function(b){if(-1>=b.res_type)dijit.byId("basicStandby").hide(),h.set(dojo.byId("weekView"),"display","none"),dijit.byId("nullData").domNode.style.display="block";else if("error"==b.level)dijit.byId("basicStandby").hide(),h.set(dojo.byId("weekView"),"display","none"),dijit.byId("nullData").domNode.style.display="block";else{if(void 0!=f.stockCode){if(void 0==b.result){for(var b={result:{datas:[]}},
a=0;7>a;a++)b.result.datas.push(",0,0,0,0,0,0,0".split(","));i.createWeekDate(b,f,c);return}var d=b.result.datas;b.result.datas=[];for(var g=[],a=0;7>a;a++)g.push(dojo.date.locale.format(p.add(f.renderData.sDate,"day",a),{datePattern:"yyyyMMdd",timePattern:"000000"}).replace(" ",""));for(var e=0;e<g.length;e++){for(var j=0,o=0,R=0,L=0,l=0,q=0,y=0,a=0;a<d.length;a++){var u=d[a];if(u[0]==g[e])if("513"==u[1])j+=1;else if("638"==u[1]||"704"==u[1])o+=1;else if("525"==u[1]||"512"==u[1]||"526"==u[1]||"521"==
u[1])R+=1;else if("622"==u[1])L+=1;else if("623"==u[1])l+=1;else if("515"==u[1])q+=1;else if("514"==u[1]||"516"==u[1]||"624"==u[1]||"527"==u[1])y+=1}a=[];a.push(g[e]);a.push(j+"");a.push(o+"");a.push(R+"");a.push(L+"");a.push(l+"");a.push(q+"");a.push(y+"");b.result.datas.push(a)}}i.createWeekDate(b,f,c)}})},getSelfWeekDate:function(f){var b=this,a=dojo.date.locale.format(p.add(f.renderData.sDate,"day",6),{datePattern:"yyyyMMdd",timePattern:"000000"}).replace(" ",""),c=new A({}),d=null,o,d="stockcalendar_week_month_mine_sl";
o={__qid:d,begDate:f.theDate,endDate:a};var l="";e.getMyselfBlockData(c).then(function(a){for(var c="",a=a.result.datas,g=1;g<a.length;g++)c+=","+a[g][1];c=c.substring(1);a=new A({});e.getMyselfStockData(a,c).then(function(a){a=a.result.datas;if(0==a.length){for(var c=[],c={datas:c},a={result:c},c=0;7>c;c++)a.result.datas.push(",0,0,0,0,0,0,0".split(","));b.createWeekDate(a,f,d,!0)}else{for(c=0;c<a.length;c++)/^(SH|SZ|SO){1}/.test(a[c][0])&&(l+=" "+a[c][0].substring(2,a[c][0].indexOf(".")));if(""==
l){c=[];c={datas:c};a={result:c};for(c=0;7>c;c++)a.result.datas.push(",0,0,0,0,0,0,0".split(","));b.createWeekDate(a,f,d,!0)}else l="'"+l.substring(1)+"'",o.stockCode=l,c=new A({}),e.getData(c,o).then(function(a){if(-1>=a.res_type)dijit.byId("basicStandby").hide(),h.set(dojo.byId("weekView"),"display","none"),dijit.byId("nullData").domNode.style.display="block";else if("error"==a.level)dijit.byId("basicStandby").hide(),h.set(dojo.byId("weekView"),"display","none"),dijit.byId("nullData").domNode.style.display=
"block";else if(void 0==a.result){for(var a={result:{datas:[]}},c=0;7>c;c++)a.result.datas.push(",0,0,0,0,0,0,0".split(","));b.createWeekDate(a,f,d,!0)}else{var g=a.result.datas;a.result.datas=[];for(var e=[],c=0;7>c;c++)e.push(dojo.date.locale.format(p.add(f.renderData.sDate,"day",c),{datePattern:"yyyyMMdd",timePattern:"000000"}).replace(" ",""));for(var k=0;k<e.length;k++){for(var j=0,o=0,B=0,S=0,R=0,n=0,z=0,c=0;c<g.length;c++){var m=g[c];if(m[0]==e[k])if("513"==m[1])j+=1;else if("638"==m[1]||"704"==
m[1])o+=1;else if("525"==m[1]||"512"==m[1]||"526"==m[1]||"521"==m[1])B+=1;else if("622"==m[1])S+=1;else if("623"==m[1])R+=1;else if("515"==m[1])n+=1;else if("514"==m[1]||"516"==m[1]||"624"==m[1]||"527"==m[1])z+=1}c=[];c.push(e[k]);c.push(j+"");c.push(o+"");c.push(B+"");c.push(S+"");c.push(R+"");c.push(n+"");c.push(z+"");a.result.datas.push(c)}b.createWeekDate(a,f,d,!0,l)}})}})})},buildGrid:function(f){dijit.byId("basicStandby")._underlayNode.style.background="none";dijit.byId("basicStandby").show();
this.parma=f;!1==f.renderData.isSelfShow?this.getWeekData(f):this.getSelfWeekDate(f)},createWeekDate:function(f,a,b,c,o){var l=this,m=this.weekView,B=T("table",m)[0];B&&d.destroy(B);B=d.create("table",null,m);B.setAttribute("border","0");B.setAttribute("cellpadding","0");B.setAttribute("cellspacing","0");B.setAttribute("class","monthTable monthTable_calender");B.setAttribute("id","myMonthTable");B.setAttribute("width","100%");thead=d.create("thead",null,B);tbody=d.create("tbody",null,B);for(m=0;2>
m;m++)if(0==m){var S=d.create("tr",null,thead);thead.setAttribute("class","slick-header");for(var k=0;7>k;k++){var j=d.create("td",null,S);w.set(j,e.createWeeks(null,a.renderData,k,"Weeks"));a.renderData.isWeekShow||("\u661f\u671f\u516d"==e.createWeeks(null,a.renderData,k,"Weeks")||"\u661f\u671f\u65e5"==e.createWeeks(null,a.renderData,k,"Weeks"))&&h.set(j,"display","none")}}else for(var S=d.create("tr",null,tbody),n=0,k=0;7>k;k++){var n=2,j=d.create("td",null,S),p=d.create("dl",null,j);p.setAttribute("class",
"monthCell");p.setAttribute("data-dojo-attach-point","monthUnit");p.setAttribute("id","stock_stockCalendarOne_view_Cell_0");p.setAttribute("widgetid","stock_stockCalendarOne_view_Cell_0");for(var z=0;2>z;z++)if(0==z){var C=d.create("dt",null,p),q=d.create("span",null,C);q.setAttribute("data-dojo-attach-point","longDate");w.set(q,e.createWeeks(null,a.renderData,k));0==k&&h.set(C,"background","-webkit-linear-gradient(top, #abd8ff, #87bdec)")}else{var y=d.create("dd",null,p),u=d.create("dd",null,p),
t=d.create("dd",null,p),s=d.create("dd",null,p),v=d.create("dd",null,p),D=d.create("dd",null,p),H=d.create("dd",null,p),C=d.create("span",null,y),q=d.create("span",null,u),I=d.create("span",null,t),J=d.create("span",null,s),M=d.create("span",null,v),N=d.create("span",null,D),x=d.create("span",null,H);y.setAttribute("class","even");u.setAttribute("class","odd");t.setAttribute("class","even");s.setAttribute("class","odd");v.setAttribute("class","even");D.setAttribute("class","odd");H.setAttribute("class",
"even");w.set(C,"\u516c\u544a/\u505c\u590d\u724c");w.set(q,"\u56de\u8d2d/\u589e\u51cf\u6301");w.set(I,"\u65b0\u80a1/\u589e\u53d1/\u914d\u80a1/\u5206\u7ea2");w.set(J,"\u8d22\u62a5\u62ab\u9732");w.set(M,"\u6536\u8d2d\u517c\u5e76");w.set(N,"\u80a1\u4e1c\u5927\u4f1a");w.set(x,"\u5176\u4ed6");y=d.create("i",null,C);u=d.create("i",null,q);t=d.create("i",null,I);s=d.create("i",null,J);v=d.create("i",null,M);D=d.create("i",null,N);H=d.create("i",null,x);void 0==a.stockCode&&void 0==c?(y.setAttribute("id",
f.result.datas[k][1]+"_1_\u516c\u544a/\u505c\u590d\u724c"),u.setAttribute("id",f.result.datas[k][1]+"_2_\u56de\u8d2d/\u589e\u51cf\u6301"),t.setAttribute("id",f.result.datas[k][1]+"_3_\u65b0\u80a1/\u589e\u53d1/\u914d\u80a1/\u5206\u7ea2"),s.setAttribute("id",f.result.datas[k][1]+"_4_\u8d22\u62a5\u62ab\u9732"),v.setAttribute("id",f.result.datas[k][1]+"_5_\u6536\u8d2d\u517c\u5e76"),D.setAttribute("id",f.result.datas[k][1]+"_6_\u80a1\u4e1c\u5927\u4f1a"),H.setAttribute("id",f.result.datas[k][1]+"_7_\u5176\u4ed6"),
C.setAttribute("class","weekCell-cell"),C.setAttribute("id",f.result.datas[k][1]+"_1"),q.setAttribute("class","weekCell-cell"),q.setAttribute("id",f.result.datas[k][1]+"_2"),I.setAttribute("class","weekCell-cell"),I.setAttribute("id",f.result.datas[k][1]+"_3"),J.setAttribute("class","weekCell-cell"),J.setAttribute("id",f.result.datas[k][1]+"_4"),M.setAttribute("class","weekCell-cell"),M.setAttribute("id",f.result.datas[k][1]+"_5"),N.setAttribute("class","weekCell-cell"),N.setAttribute("id",f.result.datas[k][1]+
"_6"),x.setAttribute("class","weekCell-cell"),x.setAttribute("id",f.result.datas[k][1]+"_7")):(y.setAttribute("id",f.result.datas[k][0]+"_1_\u516c\u544a/\u505c\u590d\u724c"),u.setAttribute("id",f.result.datas[k][0]+"_2_\u56de\u8d2d/\u589e\u51cf\u6301"),t.setAttribute("id",f.result.datas[k][0]+"_3_\u65b0\u80a1/\u589e\u53d1/\u914d\u80a1/\u5206\u7ea2"),s.setAttribute("id",f.result.datas[k][0]+"_4_\u8d22\u62a5\u62ab\u9732"),v.setAttribute("id",f.result.datas[k][0]+"_5_\u6536\u8d2d\u517c\u5e76"),D.setAttribute("id",
f.result.datas[k][0]+"_6_\u80a1\u4e1c\u5927\u4f1a"),H.setAttribute("id",f.result.datas[k][0]+"_7_\u5176\u4ed6"),C.setAttribute("class","weekCell-cell"),C.setAttribute("id",f.result.datas[k][0]+"_1"),q.setAttribute("class","weekCell-cell"),q.setAttribute("id",f.result.datas[k][0]+"_2"),I.setAttribute("class","weekCell-cell"),I.setAttribute("id",f.result.datas[k][0]+"_3"),J.setAttribute("class","weekCell-cell"),J.setAttribute("id",f.result.datas[k][0]+"_4"),M.setAttribute("class","weekCell-cell"),M.setAttribute("id",
f.result.datas[k][0]+"_5"),N.setAttribute("class","weekCell-cell"),N.setAttribute("id",f.result.datas[k][0]+"_6"),x.setAttribute("class","weekCell-cell"),x.setAttribute("id",f.result.datas[k][0]+"_7"));w.set(y,e.selectDate(f,b,n,k,a,"week",c));w.set(u,e.selectDate(f,b,++n,k,a,"week",c));w.set(t,e.selectDate(f,b,++n,k,a,"week",c));w.set(s,e.selectDate(f,b,++n,k,a,"week",c));w.set(v,e.selectDate(f,b,++n,k,a,"week",c));w.set(D,e.selectDate(f,b,++n,k,a,"week",c));w.set(H,e.selectDate(f,b,++n,k,a,"week",
c));void 0==a.stockCode&&void 0==c?(1<=dojo.byId(f.result.datas[k][1]+"_1_\u516c\u544a/\u505c\u590d\u724c").innerHTML&&(h.set(y,"color","#0000FF"),h.set(C,"color","#0000FF")),1<=dojo.byId(f.result.datas[k][1]+"_2_\u56de\u8d2d/\u589e\u51cf\u6301").innerHTML&&(h.set(u,"color","#0000FF"),h.set(q,"color","#0000FF")),1<=dojo.byId(f.result.datas[k][1]+"_3_\u65b0\u80a1/\u589e\u53d1/\u914d\u80a1/\u5206\u7ea2").innerHTML&&(h.set(t,"color","#0000FF"),h.set(I,"color","#0000FF")),1<=dojo.byId(f.result.datas[k][1]+
"_4_\u8d22\u62a5\u62ab\u9732").innerHTML&&(h.set(s,"color","#0000FF"),h.set(J,"color","#0000FF")),1<=dojo.byId(f.result.datas[k][1]+"_5_\u6536\u8d2d\u517c\u5e76").innerHTML&&(h.set(v,"color","#0000FF"),h.set(M,"color","#0000FF")),1<=dojo.byId(f.result.datas[k][1]+"_6_\u80a1\u4e1c\u5927\u4f1a").innerHTML&&(h.set(D,"color","#0000FF"),h.set(N,"color","#0000FF")),1<=dojo.byId(f.result.datas[k][1]+"_7_\u5176\u4ed6").innerHTML&&(h.set(H,"color","#0000FF"),h.set(x,"color","#0000FF"))):(1<=dojo.byId(f.result.datas[k][0]+
"_1_\u516c\u544a/\u505c\u590d\u724c").innerHTML&&(h.set(y,"color","#0000FF"),h.set(C,"color","#0000FF")),1<=dojo.byId(f.result.datas[k][0]+"_2_\u56de\u8d2d/\u589e\u51cf\u6301").innerHTML&&(h.set(u,"color","#0000FF"),h.set(q,"color","#0000FF")),1<=dojo.byId(f.result.datas[k][0]+"_3_\u65b0\u80a1/\u589e\u53d1/\u914d\u80a1/\u5206\u7ea2").innerHTML&&(h.set(t,"color","#0000FF"),h.set(I,"color","#0000FF")),1<=dojo.byId(f.result.datas[k][0]+"_4_\u8d22\u62a5\u62ab\u9732").innerHTML&&(h.set(s,"color","#0000FF"),
h.set(J,"color","#0000FF")),1<=dojo.byId(f.result.datas[k][0]+"_5_\u6536\u8d2d\u517c\u5e76").innerHTML&&(h.set(v,"color","#0000FF"),h.set(M,"color","#0000FF")),1<=dojo.byId(f.result.datas[k][0]+"_6_\u80a1\u4e1c\u5927\u4f1a").innerHTML&&(h.set(D,"color","#0000FF"),h.set(N,"color","#0000FF")),1<=dojo.byId(f.result.datas[k][0]+"_7_\u5176\u4ed6").innerHTML&&(h.set(H,"color","#0000FF"),h.set(x,"color","#0000FF")))}a.renderData.isWeekShow||("\u661f\u671f\u516d"==e.createWeeks(null,a.renderData,k,"Weeks")||
"\u661f\u671f\u65e5"==e.createWeeks(null,a.renderData,k,"Weeks"))&&h.set(j,"display","none")}r(B,"click",function(f){var a=f.target.id,b=null,c=null;if(""!=f.target.id)1==f.target.childNodes.length?(b=f.target.innerHTML,c=f.target.id.split("_")[2]):(b=f.target.childNodes[1].innerHTML,c=f.target.firstChild.data),"0"!=b&&l.mainWeekClick(a,c,b,o)});if("none"==dojo.byId("weekView").style.display)dojo.byId("weekView").style.display="block";dijit.byId("basicStandby").hide()},mainWeekClick:function(f,a,
b,c){var d=this;if("0"==b)return!1;dlg=new o({id:"mainWeekdialog",title:a,refreshOnShow:!0,href:"resources/dialog/mainWeekDialog.html",style:{width:"900px"},onHide:function(){this.destroyRecursive()},onDownloadEnd:function(){dijit.byId("mainWeekbtnOk").on("click",function(){dijit.byId("mainWeekdialog").onCancel()});d.setDialogData(f,c)}});dlg.show()},setDialogData:function(f,a){function b(f,a,c){return"<a data-is-tip-cell=true>"+c+"</a>"}dijit.byId("basicStandby")._underlayNode.style.background="none";
dijit.byId("basicStandby").show();var c=[{id:"stockCode",name:"\u80a1\u7968\u4ee3\u7801",field:"stockCode",width:80,headerCssClass:"font-center",sortable:!0,cssClass:"font-center"},{id:"stockName",name:"\u80a1\u7968\u7b80\u79f0",field:"stockName",width:80,sortable:!0,headerCssClass:"font-center"},{id:"date",name:"\u53d1\u751f\u65e5\u671f",field:"date",width:90,headerCssClass:"font-center",sortable:!0,cssClass:"font-center"},{id:"mType",name:"\u4e8b\u4ef6\u7c7b\u578b",field:"mType",width:120,headerCssClass:"font-center",
sortable:!0,formatter:b},{id:"mTitle",name:"\u5185\u5bb9",field:"mTitle",width:400,headerCssClass:"font-center",sortable:!0,formatter:b}];options={forceFitColumns:!0,enableColumnReorder:!1};this.getClassificationData(f,c,options,a)},getClassificationData:function(f,a,b,d){var h=this,o=new A({}),l=e.createQid(this.parma,f.split("_")[0],f.split("_")[1]);if(void 0!=d)l.stockCode=d;e.getData(o,l).then(function(d){var g=f.split("_")[0],g=h.pushDetailData(d,g);if(0>d.res_type||"error"==d.level)dojo.byId("mainWeekdata").innerHTML=
"\u63d0\u53d6\u6570\u636e\u5931\u8d25,\u8bf7\u91cd\u65b0\u63d0\u53d6";else{var d=new F({data:g}),k;k?(k.set("store",new F({data:g})),k.refresh(o.data[0])):k=new c({store:d,columns:a,options:b},"mainWeekdata");k.startup();e.showTitle(k)}dijit.byId("basicStandby").hide()})},pushDetailData:function(f,a){for(var b=[],c=0;c<f.result.datas.length;c++)b.push({stockCode:f.result.datas[c][1],stockName:f.result.datas[c][2],date:a.substring(0,4)+"-"+a.substring(4,6)+"-"+a.substring(6,8),mType:f.result.datas[c][3],
mTitle:f.result.datas[c][4]});return b}})})},"url:stock/stockCalendarOne/view/WeekView.html":'<div style="width:100%;height:98%;">\n    <div id="weekView" data-dojo-attach-point="weekView"></div>\n    <div id="nullMsgWeek" data-dojo-type="dijit/layout/ContentPane" class="dojoxFloatingPane dijitContentPane dojoxFloatingPaneFg tc" title="" role="group" style="display:none;position: absolute; visibility: visible; left: 50%; top:50%;margin-left:-160px;margin-top:-60px;width:280px; height: 100px; z-index: 104;">\n\t\t<div tabindex="0" role="button" class="dojoxFloatingPaneTitle" dojoattachpoint="focusNode" draggable="false">\t\t\n\t\t\t<span dojoattachpoint="titleNode" class="dijitInline dijitTitleNode">\u63d0\u793a</span>\n\t\t</div>\n\t\t<div class="tc_text" style="text-align:center;padding:20px;">\u6682\u65e0\u672c\u5468\u4fe1\u606f</div>\n\t</div>\n</div>',
"stock/stockCalendarOne/view/MonthView":function(){define("dojo/_base/declare,dojo/_base/lang,dojo/on,dojo/dom-construct,dojo/dom-style,dojo/dom-class,dojo/dom-geometry,dojo/query,dojo/date,dijit/registry,dojo/store/Memory,dojo/text!./MonthView.html,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dojox/slickgrid/slickgrid,dojox/calendar/time,dojox/store/GridSOStore,dojo/NodeList-data,dojo/html,dijit/Dialog,dojo/dom-attr,./CommonMethod".split(","),function(K,n,r,d,h,O,P,T,p,E,
F,m,b,t,Q,a,c,w,A,l,o,z,e){return K("stock.stockCalendarOne.view.MonthView",[b,t,Q],{templateString:m,parma:null,createMonthParma:function(f){var a={},f=c.floorToMonth(f.renderData.sDate),b=p.add(f,"month",1),d=c.floorToWeek(f),e=c.floorToWeek(b);0!=p.compare(e,b)&&(e=p.add(e,"week",1));e=p.difference(d,e,"day");a.rowCount=Math.ceil(e/7);a.columnCount=7;a.beginDate=d;a.beginDateOfMonth=f;a.endDateOfMonth=p.add(b,"day",-1);return a},getMonthData:function(a){var b=this.createMonthParma(a),c=this,d=
dojo.date.locale.format(b.beginDateOfMonth,{datePattern:"yyyyMMdd",timePattern:"000000"}).replace(" ",""),o=dojo.date.locale.format(b.endDateOfMonth,{datePattern:"yyyyMMdd",timePattern:"000000"}).replace(" ",""),l=new w({});if(void 0==a.stockCode){ppid=""!=a.industryType&&void 0!=a.marketType?"stockcalendar_month_3_sl":""!=a.industryType&&void 0==a.marketType?"stockcalendar_month_4_sl":void 0!=a.marketType&&""==a.industryType?"stockcalendar_month_2_sl":"stockcalendar_month_1_sl";var m={__qid:ppid,
begDate:d,endDate:o,scfl:void 0==a.marketType?"":a.marketType}}else{a.stockCode=a.stockCode.replace(/([a-z]+)(.*?)([A-Z]*)/g,function(a,b,f,c){return b.toUpperCase()+f+c.toLowerCase()});if(/^(SH|SZ|SO){1}(\d{6}|\d{6}.STK)$/.test(a.stockCode))a.stockCode=a.stockCode.substring(2,8);ppid="stockcalendar_week_month_mine_sl";m={__qid:ppid,begDate:d,endDate:o,stockCode:"'"+a.stockCode+"'"}}if(""==a.stockCode){d=a.renderData.sDate;d=(new Date(d.getFullYear(),d.getMonth()+1,0)).getDate();o={result:{datas:[]}};
for(l=0;l<d;l++)o.result.datas.push(",0,0,0,0,0,0,0".split(","));c.createMonthDate(o,a,b,ppid,!0)}else e.getData(l,m).then(function(d){if(-1>=d.res_type)dijit.byId("basicStandby").hide(),h.set(dojo.byId("monthView"),"display","none"),dijit.byId("nullData").domNode.style.display="block";else if("error"==d.level)dijit.byId("basicStandby").hide(),h.set(dojo.byId("monthView"),"display","none"),dijit.byId("nullData").domNode.style.display="block";else{var e=a.renderData.sDate,g=(new Date(e.getFullYear(),
e.getMonth()+1,0)).getDate(),j=7*g;if(void 0==a.stockCode){if(void 0==d.result){d=[];d={datas:d};d={result:d};for(e=0;e<j;e++)d.result.datas.push(["","","","0"]);c.createMonthDate(d,a,b,ppid);return}if(d.result.datas.length!=7*g&&void 0==m.stockCode){j-=d.result.datas.length;for(e=0;e<j;e++)d.result.datas.push(["","","","0"]);c.createMonthDate(d,a,b,ppid);return}}else{if(void 0==d.result){d=[];d={datas:d};d={result:d};for(e=0;e<g;e++)d.result.datas.push(",0,0,0,0,0,0,0".split(","));c.createMonthDate(d,
a,b,ppid);return}j=d.result.datas;d.result.datas=[];for(var o=[],e=0;e<g;e++)o.push(dojo.date.locale.format(p.add(b.beginDateOfMonth,"day",e),{datePattern:"yyyyMMdd",timePattern:"000000"}).replace(" ",""));for(g=0;g<o.length;g++){for(var l=0,n=0,z=0,q=0,y=0,G=0,r=0,e=0;e<j.length;e++){var s=j[e];if(s[0]==o[g])if("513"==s[1])l+=1;else if("638"==s[1]||"704"==s[1])n+=1;else if("525"==s[1]||"512"==s[1]||"526"==s[1]||"521"==s[1])z+=1;else if("622"==s[1])q+=1;else if("623"==s[1])y+=1;else if("515"==s[1])G+=
1;else if("514"==s[1]||"516"==s[1]||"624"==s[1]||"527"==s[1])r+=1}e=[];e.push(o[g]);e.push(l+"");e.push(n+"");e.push(z+"");e.push(q+"");e.push(y+"");e.push(G+"");e.push(r+"");d.result.datas.push(e)}}c.createMonthDate(d,a,b,ppid)}})},getSelfMonthDate:function(a){var b=this.createMonthParma(a),c=this,d=dojo.date.locale.format(b.beginDateOfMonth,{datePattern:"yyyyMMdd",timePattern:"000000"}).replace(" ",""),o=dojo.date.locale.format(b.endDateOfMonth,{datePattern:"yyyyMMdd",timePattern:"000000"}).replace(" ",
""),l=new w({}),m=null,n,m="stockcalendar_week_month_mine_sl";n={__qid:m,begDate:d,endDate:o};var z="";e.getMyselfBlockData(l).then(function(d){for(var g="",d=d.result.datas,o=1;o<d.length;o++)g+=","+d[o][1];var g=g.substring(1),d=new w({}),o=a.renderData.sDate,l=(new Date(o.getFullYear(),o.getMonth()+1,0)).getDate();e.getMyselfStockData(d,g).then(function(d){d=d.result.datas;if(0==d.length){for(var g=[],g={datas:g},d={result:g},g=0;g<l;g++)d.result.datas.push(",0,0,0,0,0,0,0".split(","));c.createMonthDate(d,
a,b,m,!0)}else{for(g=0;g<d.length;g++)/^(SH|SZ|SO){1}/.test(d[g][0])&&(z+=" "+d[g][0].substring(2,d[g][0].indexOf(".")));if(""==z){g=[];g={datas:g};d={result:g};for(g=0;g<l;g++)d.result.datas.push(",0,0,0,0,0,0,0".split(","));c.createMonthDate(d,a,b,m,!0)}else z="'"+z.substring(1)+"'",n.stockCode=z,g=new w({}),e.getData(g,n).then(function(d){if(-1>=d.res_type)dijit.byId("basicStandby").hide(),h.set(dojo.byId("weekView"),"display","none"),dijit.byId("nullData").domNode.style.display="block";else if("error"==
d.level)dijit.byId("basicStandby").hide(),h.set(dojo.byId("weekView"),"display","none"),dijit.byId("nullData").domNode.style.display="block";else if(void 0==d.result){for(var d={result:{datas:[]}},e=0;e<l;e++)d.result.datas.push(",0,0,0,0,0,0,0".split(","));c.createMonthDate(d,a,b,m,!0)}else{var g=d.result.datas;d.result.datas=[];for(var o=[],e=0;e<l;e++)o.push(dojo.date.locale.format(p.add(b.beginDateOfMonth,"day",e),{datePattern:"yyyyMMdd",timePattern:"000000"}).replace(" ",""));for(var j=0;j<o.length;j++){for(var k=
0,n=0,G=0,r=0,B=0,t=0,w=0,e=0;e<g.length;e++){var x=g[e];if(x[0]==o[j])if("513"==x[1])k+=1;else if("638"==x[1]||"704"==x[1])n+=1;else if("525"==x[1]||"512"==x[1]||"526"==x[1]||"521"==x[1])G+=1;else if("622"==x[1])r+=1;else if("623"==x[1])B+=1;else if("515"==x[1])t+=1;else if("514"==x[1]||"516"==x[1]||"624"==x[1]||"527"==x[1])w+=1}e=[];e.push(o[j]);e.push(k+"");e.push(n+"");e.push(G+"");e.push(r+"");e.push(B+"");e.push(t+"");e.push(w+"");d.result.datas.push(e)}c.createMonthDate(d,a,b,m,!0,z)}})}})})},
createMonthDate:function(a,b,c,g,o,m){var n=c.rowCount+1,z=this.monthView,p=this,k=T("table",z)[0];k&&d.destroy(k);k=d.create("table",null,z);k.setAttribute("border","0");k.setAttribute("cellpadding","0");k.setAttribute("cellspacing","0");k.setAttribute("class","monthTable monthTable_calender");k.setAttribute("id","myMonthTable");k.setAttribute("width","100%");thead=d.create("thead",null,k);tbody=d.create("tbody",null,k);for(var j=z=0,t=0;t<n;t++)if(0==t){var w=d.create("tr",null,thead);thead.setAttribute("class",
"slick-header");for(var L=0;7>L;L++){var C=d.create("td",null,w);l.set(C,e.createWeeks(c.beginDate,b.renderData,L,"Weeks"));b.renderData.isWeekShow||("\u661f\u671f\u516d"==e.createWeeks(c.beginDate,b.renderData,L,"Weeks")||"\u661f\u671f\u65e5"==e.createWeeks(c.beginDate,b.renderData,L,"Weeks"))&&h.set(C,"display","none")}}else{w=d.create("tr",null,tbody);for(L=0;7>L;L++){var q=0,C=d.create("td",null,w),y=d.create("dl",null,C);y.setAttribute("class","monthCell");y.setAttribute("data-dojo-attach-point",
"monthUnit");y.setAttribute("id","stock_stockCalendarOne_view_Cell_0");y.setAttribute("widgetid","stock_stockCalendarOne_view_Cell_0");for(var u=p.styleDate(c.beginDate,z),K=b.renderData.dateLocaleModule.format(u,{selector:"date",datePattern:"yyyy-MM-dd"}),s=0;2>s;s++)if(0==s){var v=d.create("dt",null,y),D=d.create("span",null,v);D.setAttribute("data-dojo-attach-point","longDate");l.set(D,K);K==b.renderData.dateLocaleModule.format(b.renderData.sDate,{selector:"date",datePattern:"yyyy-MM-dd"})&&h.set(v,
"background","-webkit-linear-gradient(top, #abd8ff, #87bdec)")}else{var H=d.create("dd",null,y),I=d.create("dd",null,y),J=d.create("dd",null,y),M=d.create("dd",null,y),D=d.create("span",null,H),N=d.create("span",null,H),x=d.create("span",null,I),A=d.create("span",null,I),E=d.create("span",null,J),v=d.create("span",null,J),F=d.create("span",null,M);H.setAttribute("class","even");I.setAttribute("class","odd");J.setAttribute("class","even");M.setAttribute("class","odd");if(u.getMonth()==b.renderData.sDate.getMonth()){D.setAttribute("data-dojo-attach-point",
"gsdt");D.setAttribute("class","gsdt");N.setAttribute("data-dojo-attach-point","zzjqz");x.setAttribute("data-dojo-attach-point","gddh");A.setAttribute("data-dojo-attach-point","xg");E.setAttribute("data-dojo-attach-point","sgjb");v.setAttribute("data-dojo-attach-point","qt");F.setAttribute("data-dojo-attach-point","fhzfpg");l.set(D,"\u516c\u544a/\u505c\u590d\u724c");l.set(N,"\u8d22\u62a5\u62ab\u9732");l.set(x,"\u56de\u8d2d/\u589e\u51cf\u6301");l.set(A,"\u80a1\u4e1c\u5927\u4f1a");l.set(E,"\u6536\u8d2d\u517c\u5e76");
l.set(v,"\u5176\u4ed6");l.set(F,"\u65b0\u80a1/\u589e\u53d1/\u914d\u80a1/\u5206\u7ea2");var I=d.create("i",null,D),J=d.create("i",null,N),M=d.create("i",null,x),O=d.create("i",null,A),P=d.create("i",null,E),H=d.create("i",null,v),Q=d.create("i",null,F);void 0==b.stockCode&&void 0==o?(l.set(I,e.selectDate(a,g,j,q,b,"month")),D.setAttribute("id",a.result.datas[j][0]),D.setAttribute("title","\u516c\u544a/\u505c\u590d\u724c"+e.selectDate(a,g,j,q,b,"month")),I.setAttribute("id",a.result.datas[j][0]+"_\u516c\u544a/\u505c\u590d\u724c"),
1<=dojo.byId(a.result.datas[j][0]+"_\u516c\u544a/\u505c\u590d\u724c").innerHTML&&(h.set(I,"color","#0000FF"),h.set(D,"color","#0000FF")),l.set(M,e.selectDate(a,g,++j,q,b,"month")),x.setAttribute("id",a.result.datas[j][0]),x.setAttribute("title","\u56de\u8d2d/\u589e\u51cf\u6301"+e.selectDate(a,g,j,q,b,"month")),M.setAttribute("id",a.result.datas[j][0]+"_\u56de\u8d2d/\u589e\u51cf\u6301"),1<=dojo.byId(a.result.datas[j][0]+"_\u56de\u8d2d/\u589e\u51cf\u6301").innerHTML&&(h.set(M,"color","#0000FF"),h.set(x,
"color","#0000FF")),l.set(Q,e.selectDate(a,g,++j,q,b,"month")),F.setAttribute("id",a.result.datas[j][0]),F.setAttribute("title","\u65b0\u80a1/\u589e\u53d1/\u914d\u80a1/\u5206\u7ea2"+e.selectDate(a,g,j,q,b,"month")),Q.setAttribute("id",a.result.datas[j][0]+"_\u65b0\u80a1/\u589e\u53d1/\u914d\u80a1/\u5206\u7ea2"),1<=dojo.byId(a.result.datas[j][0]+"_\u65b0\u80a1/\u589e\u53d1/\u914d\u80a1/\u5206\u7ea2").innerHTML&&(h.set(Q,"color","#0000FF"),h.set(F,"color","#0000FF")),l.set(J,e.selectDate(a,g,++j,q,b,
"month")),N.setAttribute("id",a.result.datas[j][0]),N.setAttribute("title","\u8d22\u62a5\u62ab\u9732"+e.selectDate(a,g,j,q,b,"month")),J.setAttribute("id",a.result.datas[j][0]+"_\u8d22\u62a5\u62ab\u9732"),1<=dojo.byId(a.result.datas[j][0]+"_\u8d22\u62a5\u62ab\u9732").innerHTML&&(h.set(J,"color","#0000FF"),h.set(N,"color","#0000FF")),l.set(P,e.selectDate(a,g,++j,q,b,"month")),E.setAttribute("id",a.result.datas[j][0]),E.setAttribute("title","\u6536\u8d2d\u517c\u5e76"+e.selectDate(a,g,j,q,b,"month")),
P.setAttribute("id",a.result.datas[j][0]+"_\u6536\u8d2d\u517c\u5e76"),1<=dojo.byId(a.result.datas[j][0]+"_\u6536\u8d2d\u517c\u5e76").innerHTML&&(h.set(P,"color","#0000FF"),h.set(E,"color","#0000FF")),l.set(O,e.selectDate(a,g,++j,q,b,"month")),A.setAttribute("id",a.result.datas[j][0]),A.setAttribute("title","\u80a1\u4e1c\u5927\u4f1a"+e.selectDate(a,g,j,q,b,"month")),O.setAttribute("id",a.result.datas[j][0]+"_\u80a1\u4e1c\u5927\u4f1a"),1<=dojo.byId(a.result.datas[j][0]+"_\u80a1\u4e1c\u5927\u4f1a").innerHTML&&
(h.set(O,"color","#0000FF"),h.set(A,"color","#0000FF")),l.set(H,e.selectDate(a,g,++j,q,b,"month")),v.setAttribute("id",a.result.datas[j][0]),H.setAttribute("id",a.result.datas[j][0]+"_\u5176\u4ed6"),1<=dojo.byId(a.result.datas[j][0]+"_\u5176\u4ed6").innerHTML&&(h.set(H,"color","#0000FF"),h.set(v,"color","#0000FF")),v.setAttribute("title","\u5176\u4ed6"+e.selectDate(a,g,j++,q,b,"month"))):(l.set(I,e.selectDate(a,g,j,q,b,"month",o)),D.setAttribute("id",a.result.datas[j][0]+"_1_"),D.setAttribute("title",
"\u516c\u544a/\u505c\u590d\u724c"+e.selectDate(a,g,j,q,b,"month",o)),I.setAttribute("id",a.result.datas[j][0]+"_1_"+b.stockCode),1<=dojo.byId(a.result.datas[j][0]+"_1_"+b.stockCode).innerHTML&&(h.set(I,"color","#0000FF"),h.set(D,"color","#0000FF")),l.set(M,e.selectDate(a,g,j,++q,b,"month",o)),x.setAttribute("id",a.result.datas[j][0]+"_2_"),x.setAttribute("title","\u56de\u8d2d/\u589e\u51cf\u6301"+e.selectDate(a,g,j,q,b,"month",o)),M.setAttribute("id",a.result.datas[j][0]+"_2_"+b.stockCode),1<=dojo.byId(a.result.datas[j][0]+
"_2_"+b.stockCode).innerHTML&&(h.set(M,"color","#0000FF"),h.set(x,"color","#0000FF")),l.set(Q,e.selectDate(a,g,j,++q,b,"month",o)),F.setAttribute("id",a.result.datas[j][0]+"_3_"),F.setAttribute("title","\u65b0\u80a1/\u589e\u53d1/\u914d\u80a1/\u5206\u7ea2"+e.selectDate(a,g,j,q,b,"month",o)),Q.setAttribute("id",a.result.datas[j][0]+"_3_"+b.stockCode),1<=dojo.byId(a.result.datas[j][0]+"_3_"+b.stockCode).innerHTML&&(h.set(Q,"color","#0000FF"),h.set(F,"color","#0000FF")),l.set(J,e.selectDate(a,g,j,++q,
b,"month",o)),N.setAttribute("id",a.result.datas[j][0]+"_4_"),N.setAttribute("title","\u8d22\u62a5\u62ab\u9732"+e.selectDate(a,g,j,q,b,"month",o)),J.setAttribute("id",a.result.datas[j][0]+"_4_"+b.stockCode),1<=dojo.byId(a.result.datas[j][0]+"_4_"+b.stockCode).innerHTML&&(h.set(J,"color","#0000FF"),h.set(N,"color","#0000FF")),l.set(P,e.selectDate(a,g,j,++q,b,"month",o)),E.setAttribute("id",a.result.datas[j][0]+"_5_"),E.setAttribute("title","\u6536\u8d2d\u517c\u5e76"+e.selectDate(a,g,j,q,b,"month",
o)),P.setAttribute("id",a.result.datas[j][0]+"_5_"+b.stockCode),1<=dojo.byId(a.result.datas[j][0]+"_5_"+b.stockCode).innerHTML&&(h.set(P,"color","#0000FF"),h.set(E,"color","#0000FF")),l.set(O,e.selectDate(a,g,j,++q,b,"month",o)),A.setAttribute("id",a.result.datas[j][0]+"_6_"),A.setAttribute("title","\u80a1\u4e1c\u5927\u4f1a"+e.selectDate(a,g,j,q,b,"month",o)),O.setAttribute("id",a.result.datas[j][0]+"_6_"+b.stockCode),1<=dojo.byId(a.result.datas[j][0]+"_6_"+b.stockCode).innerHTML&&(h.set(O,"color",
"#0000FF"),h.set(A,"color","#0000FF")),v.setAttribute("id",a.result.datas[j][0]+"_7_"),v.setAttribute("title","\u5176\u4ed6"+e.selectDate(a,g,j,q,b,"month",o)),H.setAttribute("id",a.result.datas[j][0]+"_7_"+b.stockCode),D=j,l.set(H,e.selectDate(a,g,j++,++q,b,"month",o)),1<=dojo.byId(a.result.datas[D][0]+"_7_"+b.stockCode).innerHTML&&(h.set(H,"color","#0000FF"),h.set(v,"color","#0000FF")))}else C.setAttribute("class","no_day")}b.renderData.isWeekShow||("\u661f\u671f\u516d"==e.createWeeks(c.beginDate,
b.renderData,L,"Weeks")||"\u661f\u671f\u65e5"==e.createWeeks(c.beginDate,b.renderData,L,"Weeks"))&&h.set(C,"display","none");z++}}r(k,"click",function(a){if(""!=a.target.id){var c=a.target.id,d=null,d=1==a.target.childNodes.length?a.target.innerHTML:a.target.childNodes[1].innerHTML;-1!=c.indexOf("_")&&"0"!=d&&p.mainMonthClick(c,b,m)}});if("none"==dojo.byId("monthView").style.display)dojo.byId("monthView").style.display="block";dijit.byId("basicStandby").hide()},buildGrid:function(a){dijit.byId("basicStandby")._underlayNode.style.background=
"none";dijit.byId("basicStandby").show();this.parma=a;!1==a.renderData.isSelfShow?this.getMonthData(a):this.getSelfMonthDate(a)},styleDate:function(a,b){return p.add(a,"day",b)},mainMonthClick:function(a,b,c){_monthDialog=this;var d=a.split("_"),a=d[1],e="";1==a?e="\u516c\u544a/\u505c\u590d\u724c ":2==a?e="\u56de\u8d2d/\u589e\u51cf\u6301":3==a?e="\u65b0\u80a1/\u589e\u53d1/\u914d\u80a1/\u5206\u7ea2":4==a?e="\u8d22\u62a5\u62ab\u9732":5==a?e="\u6536\u8d2d\u517c\u5e76":6==a?e="\u80a1\u4e1c\u5927\u4f1a":
7==a&&(e="\u5176\u4ed6");(new o({id:"mainMonthdialog",title:e,refreshOnShow:!0,href:"resources/dialog/mainMonthDialog.html",style:{width:"900px"},onHide:function(){this.destroyRecursive()},onDownloadEnd:function(){dojo.connect(dijit.byId("mainMonthbtnOk"),"onClick",function(){dijit.byId("mainMonthdialog").onCancel()});_monthDialog.setDialogData(d[0],d[1],b,c)}})).show()},setDialogData:function(b,c,d,g){function o(a,b,c){return"<span data-is-tip-cell=true>"+c+"</span>"}dijit.byId("basicStandby")._underlayNode.style.background=
"none";dijit.byId("basicStandby").show();columns=[{id:"code",name:"\u80a1\u7968\u4ee3\u7801",field:"code",width:70,headerCssClass:"font-center",cssClass:"font-center",sortable:!0,cssClass:"font-center"},{id:"name",name:"\u80a1\u7968\u7b80\u79f0",field:"name",width:70,sortable:!0,headerCssClass:"font-center"},{id:"date",name:"\u53d1\u751f\u65e5\u671f",field:"date",width:80,headerCssClass:"font-center",sortable:!0,cssClass:"font-center"},{id:"type",name:"\u4e8b\u4ef6\u7c7b\u578b",field:"type",width:120,
headerCssClass:"font-center",sortable:!0,formatter:o},{id:"content",name:"\u5185\u5bb9",field:"content",width:410,headerCssClass:"font-center",sortable:!0,formatter:o}];options={forceFitColumns:!0,enableColumnReorder:!1};var d=new w({}),c=e.createQid(this.parma,b,c),h=[],l=this;if(void 0!=g)c.stockCode=g;e.getData(d,c).then(function(c){if(0>c.res_type||"error"==c.level)dojo.byId("mainMonthdata").innerHTML="\u63d0\u53d6\u6570\u636e\u5931\u8d25,\u8bf7\u91cd\u65b0\u63d0\u53d6";else{h=l.createDetailData(c,
b);mstore=new F({data:h});var d;d?d.set("store",new F({data:h})):d=new a({store:mstore,columns:columns,options:options});d.placeAt("mainMonthdata");e.showTitle(d)}dijit.byId("basicStandby").hide()})},createDetailData:function(a,b){for(var c=[],d=0;d<a.result.datas.length;d++)c.push({code:a.result.datas[d][1],name:a.result.datas[d][2],date:b.substring(0,4)+"-"+b.substring(4,6)+"-"+b.substring(6,8),type:a.result.datas[d][3],content:a.result.datas[d][4]});return c}})})},"url:stock/stockCalendarOne/view/MonthView.html":'<div data-dojo-attach-point="containerNode" >\n\t<div id="monthView" data-dojo-attach-point="monthView" ></div>\n<\!-- \t<div id="nullMsgMonth" data-dojo-type="dijit/layout/ContentPane" class="dojoxFloatingPane dijitContentPane dojoxFloatingPaneFg tc" title="" role="group" style="display:none;position: absolute; visibility: visible; left: 50%; top:50%;margin-left:-160px;margin-top:-60px;width:280px; height: 100px; z-index: 104;"> --\>\n<\!-- \t\t<div tabindex="0" role="button" class="dojoxFloatingPaneTitle" dojoattachpoint="focusNode" draggable="false">\t\t --\>\n<\!-- \t\t\t<span dojoattachpoint="titleNode" class="dijitInline dijitTitleNode">\u63d0\u793a</span> --\>\n<\!-- \t\t</div> --\>\n<\!-- \t\t<div class="tc_text" style="text-align:center;padding:20px;">\u6682\u65e0\u8be5\u6708\u6570\u636e</div> --\>\n<\!-- \t</div> --\>\n</div>',
"stock/stockCalendarOne/view/Header":function(){define("dojo/_base/declare,dojo/_base/lang,dojo/on,dijit/registry,dojo/dom-construct,dojo/text!./Header.html,dojo/store/Memory,dojox/slickgrid/slickgrid,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dojo/data/ItemFileReadStore,dojo/query,dojo/date/locale,dijit/Dialog,dojo/date,dojox/calendar/time,dojox/form/KeyboardSpirit,dojo/dom-style,./CommonMethod".split(","),function(K,n,r,d,h,O,P,T,p,E,F,m,b,t,Q,a,c,w,A,l){return K("stock.stockCalendarOne.view.Header",
[p,E,F],{templateString:O,cDate:null,subclassPage:"0",flag:"dayView",postCreate:function(){this.inherited(arguments);var b=a.add(new Date,"month",4);this.dateChooser.constraints.max=a.add(c.floorToMonth(b),"day",-1);this.dayButton.setAttribute("disabled",!0);this.index.setAttribute("disabled",!0);this.bindEvent();this.createSelect()},bindEvent:function(){r(this.dayButton,"click",n.hitch(this,this.dayClick));r(this.weekButton,"click",n.hitch(this,this.weekClick));r(this.monthButton,"click",n.hitch(this,
this.monthClick));r(this.searchBt,"click",n.hitch(this,this.search));r(this.stockBt,"click",n.hitch(this,this.stockSearch));r(this.exportt,"click",n.hitch(this,this.showExportDialog));r(this.isWeekShow,"click",n.hitch(this,this.checkboxChange));r(this.isSelfstock,"click",n.hitch(this,this.isShowSelfStockInfoChange));r(this.dateChooser,"change",n.hitch(this,this.dateSearch));this.clickButton();this.selectChange()},getSerachTerm:function(){return{sDate:this.dateChooser.value,isWeekShow:this.isWeekShow.checked,
isSelfShow:this.isSelfstock.checked}},getDateTest:function(){var b=a.add(new Date,"month",4),b=a.add(c.floorToMonth(b),"day",-1),d=Number(dojo.date.locale.format(this.dateChooser.value,{datePattern:"yyyyMMdd",timePattern:"000000"}).replace(" ",""));return[b,d]},hideDiv:function(){dijit.byId("nullMsg").domNode.style.display="none";dijit.byId("nullMsgHomePage").domNode.style.display="none";dijit.byId("nullData").domNode.style.display="none";dijit.byId("nullMsgWeek").domNode.style.display="none";dijit.byId("nullSelfMsg").domNode.style.display=
"none";dijit.byId("nullSelfStock").domNode.style.display="none"},doDateViewClick:function(a,b,c,d,i,h,g,l){this.hideDiv();this.dayButton.setAttribute("class",a);this.weekButton.setAttribute("class",b);this.monthButton.setAttribute("class",c);this.dynamic.setAttribute("class","");this.conference.setAttribute("class","");this.share.setAttribute("class","");this.getter.setAttribute("class","");this.newStock.setAttribute("class","");this.transist.setAttribute("class","");this.others.setAttribute("class",
"");this.dynamic.setAttribute("disabled",!1);this.conference.setAttribute("disabled",!1);this.share.setAttribute("disabled",!1);this.getter.setAttribute("disabled",!1);this.newStock.setAttribute("disabled",!1);this.transist.setAttribute("disabled",!1);this.others.setAttribute("disabled",!1);if("9"==this.subclassPage){this.isSelfstock.set("checked",!0);if("dayView"==i)this.index.setAttribute("class",""),this.myself.setAttribute("class","tab_btn_select"),this.index.setAttribute("disabled",!1),this.myself.setAttribute("disabled",
!0),this.subclassPage="9",this.calendar.savedParma.id="9";this.calendar.savedSelfStockParma.renderData.sDate=d;this.calendar.savedSelfStockParma.theDate=dojo.date.locale.format(d,{datePattern:"yyyyMMdd",timePattern:"000000"}).replace(" ","");this.flag=i;if("weekView"==this.flag)this.calendar.savedSelfStockParma.renderData.isSelfShow=this.isSelfstock.checked;else if("monthView"==this.flag)this.calendar.savedSelfStockParma.renderData.isSelfShow=this.isSelfstock.checked;this.inputStockCode.set("value",
"");this.inputStockCode.setAttribute("disabled",!0);this.stockBt.setAttribute("disabled",!0);this.searchBt.setAttribute("disabled",!0);this.a.setAttribute("disabled",!0);this.b.setAttribute("disabled",!0);this.c.setAttribute("disabled",!0);this.calendar.switchToView(i,this.calendar.savedSelfStockParma,i)}else{this.isSelfstock.set("checked",!1);if("dayView"==i)this.index.setAttribute("class","tab_btn_select"),this.myself.setAttribute("class","font_color5"),this.index.setAttribute("disabled",!0),this.myself.setAttribute("disabled",
!1),this.subclassPage="0",this.calendar.savedParma.id="0";this.calendar.savedParma.renderData.sDate=d;this.calendar.savedParma.theDate=dojo.date.locale.format(d,{datePattern:"yyyyMMdd",timePattern:"000000"}).replace(" ","");this.flag=i;if("weekView"==this.flag)this.calendar.savedParma.renderData.isSelfShow=this.isSelfstock.checked;else if("monthView"==this.flag)this.calendar.savedParma.renderData.isSelfShow=this.isSelfstock.checked;this.inputStockCode.setAttribute("disabled",!1);this.stockBt.setAttribute("disabled",
!1);this.searchBt.setAttribute("disabled",!1);this.a.setAttribute("disabled",!1);this.b.setAttribute("disabled",!1);this.c.setAttribute("disabled",!1);this.inputStockCode.set("value",this.stockCode);this.calendar.switchToView(i,this.calendar.savedParma,i)}this.dayButton.setAttribute("disabled",h);this.weekButton.setAttribute("disabled",g);this.monthButton.setAttribute("disabled",l)},dayClick:function(){l.clearTimer();void 0==this.dateChooser.value?dijit.byId("dayGrid").destroy():this.dateChooser.value>
this.getDateTest()[0]||19900101E6>this.getDateTest()[1]?dijit.byId("dayGrid").destroy():this.doDateViewClick("dateButton btn_group_select","dateButton","dateButton",this.dateChooser.get("value"),"dayView",!0,!1,!1)},weekClick:function(){l.clearTimer();void 0==this.dateChooser.value?dijit.byId("dayGrid").destroy():this.dateChooser.value>this.getDateTest()[0]||19900101E6>this.getDateTest()[1]?dijit.byId("dayGrid").destroy():this.doDateViewClick("dateButton","dateButton btn_group_select","dateButton",
new Date,"weekView",!1,!0,!1)},monthClick:function(){l.clearTimer();void 0==this.dateChooser.value?dijit.byId("dayGrid").destroy():this.dateChooser.value>this.getDateTest()[0]||19900101E6>this.getDateTest()[1]?dijit.byId("dayGrid").destroy():this.doDateViewClick("dateButton","dateButton","dateButton btn_group_select",this.dateChooser.get("value"),"monthView",!1,!1,!0)},setSelfSearch:function(a){this.a.set("value","\u5e02\u573a\u5206\u7c7b");this.b.set("value","\u5206\u7c7b\u57fa\u51c6");this.c.set("value",
"\u884c\u4e1a\u5206\u7c7b");a.marketType=void 0;a.marketTypeValue="\u5e02\u573a\u5206\u7c7b";a.industryBasis="";a.industryBasisValue="\u5206\u7c7b\u57fa\u51c6";a.industryType="";a.industryTypeValue="\u884c\u4e1a\u5206\u7c7b"},dateSearch:function(){if("9"==this.subclassPage)l.clearTimer(),this.hideDiv(),void 0==this.dateChooser.value?dijit.byId("dayGrid").destroy():this.dateChooser.value>this.getDateTest()[0]||19900101E6>this.getDateTest()[1]?dijit.byId("dayGrid").destroy():(this.stockCode=this.inputStockCode.value,
this.dateChooser.on("change",function(){}),this.calendar.savedSelfStockParma.renderData.sDate=this.dateChooser.value,this.calendar.savedParma.renderData.sDate=this.dateChooser.value,this.calendar.savedSelfStockParma.theDate=dojo.date.locale.format(this.dateChooser.value,{datePattern:"yyyyMMdd",timePattern:"000000"}).replace(" ",""),this.calendar.savedParma.theDate=dojo.date.locale.format(this.dateChooser.value,{datePattern:"yyyyMMdd",timePattern:"000000"}).replace(" ",""),this.calendar.switchToView(null,
this.calendar.savedSelfStockParma,this.flag))},search:function(){l.clearTimer();this.hideDiv();void 0==this.dateChooser.value?dijit.byId("dayGrid").destroy():this.dateChooser.value>this.getDateTest()[0]||19900101E6>this.getDateTest()[1]?dijit.byId("dayGrid").destroy():(this.inputStockCode.set("value",""),this.stockCode=this.inputStockCode.value,9==this.subclassPage?(this.inputStockCode.setAttribute("disabled",!0),this.stockBt.setAttribute("disabled",!0),this.searchBt.setAttribute("disabled",!0),this.a.setAttribute("disabled",
!0),this.b.setAttribute("disabled",!0),this.c.setAttribute("disabled",!0),this.calendar.switchToView(null,this.calendar.savedSelfStockParma,this.flag)):(this.inputStockCode.setAttribute("disabled",!1),this.stockBt.setAttribute("disabled",!1),this.searchBt.setAttribute("disabled",!1),this.a.setAttribute("disabled",!1),this.b.setAttribute("disabled",!1),this.c.setAttribute("disabled",!1),this.calendar.switchToView(null,this.createParma(),this.flag)))},stockSearch:function(){l.clearTimer();this.hideDiv();
if(void 0==this.dateChooser.value)dijit.byId("dayGrid").destroy();else if(this.dateChooser.value>this.getDateTest()[0]||19900101E6>this.getDateTest()[1])dijit.byId("dayGrid").destroy();else{var a=this.createStockSearchParma();this.stockCode=this.inputStockCode.value;this.calendar.switchToView(null,a,this.flag)}},createStockSearchParma:function(){b("#saveData").removeData();this.a.set("value","\u5e02\u573a\u5206\u7c7b");this.b.set("value","\u5206\u7c7b\u57fa\u51c6");this.c.set("value","\u884c\u4e1a\u5206\u7c7b");
this.isSelfstock.set("checked",!1);var a=n.mixin(this.calendar.renderData,this.getSerachTerm()),c=dojo.date.locale.format(a.sDate,{datePattern:"yyyyMMdd",timePattern:"000000"}).replace(" ",""),c={renderData:a,theDate:c,id:this.subclassPage,marketType:void 0,industryBasis:"",industryType:"",marketTypeValue:"\u5e02\u573a\u5206\u7c7b",industryBasisValue:"\u5206\u7c7b\u57fa\u51c6",industryTypeValue:"\u884c\u4e1a\u5206\u7c7b",stockCode:this.inputStockCode.value};"weekView"==this.flag?(c.renderData.sDate=
new Date,c.theDate=dojo.date.locale.format(new Date,{datePattern:"yyyyMMdd",timePattern:"000000"}).replace(" ","")):(c.renderData.sDate=a.sDate,c.theDate=dojo.date.locale.format(a.sDate,{datePattern:"yyyyMMdd",timePattern:"000000"}).replace(" ",""));return c},checkboxChange:function(){this.hideDiv();if("9"==this.subclassPage)if("weekView"==this.flag){this.calendar.savedSelfStockParma.renderData.isWeekShow=this.isWeekShow.checked;var a=this.calendar.savedSelfStockParma}else{if("monthView"==this.flag)this.calendar.savedSelfStockParma.renderData.isWeekShow=
this.isWeekShow.checked,a=this.calendar.savedSelfStockParma}else if("weekView"==this.flag)this.calendar.savedParma.renderData.isWeekShow=this.isWeekShow.checked,a=this.calendar.savedParma;else if("monthView"==this.flag)this.calendar.savedParma.renderData.isWeekShow=this.isWeekShow.checked,a=this.calendar.savedParma;this.calendar.switchToView(null,a,this.flag)},isShowSelfStockInfoChange:function(){this.hideDiv();if(!0==this.isSelfstock.checked){this.inputStockCode.set("value","");this.subclassPage=
"9";if(null==this.calendar.savedSelfStockParma)this.calendar.savedSelfStockParma=this.calendar.savedParma;this.calendar.savedSelfStockParma.id="9";if("weekView"==this.flag){this.calendar.savedSelfStockParma.renderData.isSelfShow=this.isSelfstock.checked;this.calendar.savedSelfStockParma.renderData.isWeekShow=this.isWeekShow.checked;var a=this.calendar.savedSelfStockParma}else if("monthView"==this.flag)this.calendar.savedSelfStockParma.renderData.isSelfShow=this.isSelfstock.checked,this.calendar.savedSelfStockParma.renderData.isWeekShow=
this.isWeekShow.checked,a=this.calendar.savedSelfStockParma;this.inputStockCode.setAttribute("disabled",!0);this.stockBt.setAttribute("disabled",!0);this.a.set("value","\u5e02\u573a\u5206\u7c7b");this.b.set("value","\u5206\u7c7b\u57fa\u51c6");this.c.set("value","\u884c\u4e1a\u5206\u7c7b");this.searchBt.setAttribute("disabled",!0);this.a.setAttribute("disabled",!0);this.b.setAttribute("disabled",!0);this.c.setAttribute("disabled",!0)}else{this.inputStockCode.set("value",this.stockCode);this.subclassPage=
"0";this.calendar.savedParma.id="0";if("weekView"==this.flag)this.calendar.savedParma.renderData.isSelfShow=this.isSelfstock.checked,this.calendar.savedParma.renderData.isWeekShow=this.isWeekShow.checked,a=this.calendar.savedParma;else if("monthView"==this.flag)this.calendar.savedParma.renderData.isSelfShow=this.isSelfstock.checked,this.calendar.savedParma.renderData.isWeekShow=this.isWeekShow.checked,a=this.calendar.savedParma;this.inputStockCode.setAttribute("disabled",!1);this.stockBt.setAttribute("disabled",
!1);this.searchBt.setAttribute("disabled",!1);this.a.setAttribute("disabled",!1);this.b.setAttribute("disabled",!1);this.c.setAttribute("disabled",!1);this.a.set("displayedValue",this.calendar.savedParma.marketTypeValue);this.b.set("displayedValue",this.calendar.savedParma.industryBasisValue);this.c.set("displayedValue",this.calendar.savedParma.industryTypeValue)}this.calendar.switchToView(null,a,this.flag)},createSelect:function(){this.a.set("store",m({url:require.toUrl("/stock/stockCalendarOne/resources/marketType.json")}));
this.b.set("store",m({url:require.toUrl("/stock/stockCalendarOne/resources/industryBasis.json")}));this.a.set("value","\u5e02\u573a\u5206\u7c7b");this.b.set("value","\u5206\u7c7b\u57fa\u51c6");this.c.set("value","\u884c\u4e1a\u5206\u7c7b")},selectChange:function(){r(this.b,"change",n.hitch(this,function(){null!=this.b.item?("100014"==this.b.item.id?this.c.set("store",m({url:require.toUrl("/stock/stockCalendarOne/resources/industryOfZJH.json")})):"100015"==this.b.item.id?this.c.set("store",m({url:require.toUrl("/stock/stockCalendarOne/resources/industryOfZZ.json")})):
"100017"==this.b.item.id?this.c.set("store",m({url:require.toUrl("/stock/stockCalendarOne/resources/industryOfSW.json")})):"100016"==this.b.item.id?this.c.set("store",m({url:require.toUrl("/stock/stockCalendarOne/resources/industryOfZXBP.json")})):(this.calendar.savedParma.industryType=void 0,this.c.set("store",m({url:require.toUrl("/stock/stockCalendarOne/resources/industryOfAll.json")}))),this.c.set("value","\u884c\u4e1a\u5206\u7c7b")):"\u8bc1\u76d1\u4f1a\u884c\u4e1a"==this.b.value?this.c.set("store",
m({url:require.toUrl("/stock/stockCalendarOne/resources/industryOfZJH.json")})):"\u4e2d\u8bc1\u884c\u4e1a"==this.b.value?this.c.set("store",m({url:require.toUrl("/stock/stockCalendarOne/resources/industryOfZZ.json")})):"\u7533\u4e07\u884c\u4e1a"==this.b.value?this.c.set("store",m({url:require.toUrl("/stock/stockCalendarOne/resources/industryOfSW.json")})):"\u4e2d\u4fe1\u6807\u666e\u884c\u4e1a"==this.b.value?this.c.set("store",m({url:require.toUrl("/stock/stockCalendarOne/resources/industryOfZXBP.json")})):
this.c.set("store",m({url:require.toUrl("/stock/stockCalendarOne/resources/industryOfAll.json")}))}))},setClickButtonAttr:function(a,b,c,d,i,h,g,m,n,p,r,t,k,j,w,A,E,C,q,y,u){l.clearTimer();dijit.byId("nullMsg").domNode.style.display="none";dijit.byId("nullMsgHomePage").domNode.style.display="none";dijit.byId("nullData").domNode.style.display="none";dijit.byId("nullMsgWeek").domNode.style.display="none";dijit.byId("nullSelfMsg").domNode.style.display="none";dijit.byId("nullSelfStock").domNode.style.display=
"none";if(void 0==this.dateChooser.value)dijit.byId("dayGrid").destroy();else if(this.dateChooser.value>this.getDateTest()[0]||19900101E6>this.getDateTest()[1])dijit.byId("dayGrid").destroy();else{this.index.setAttribute("class",a);this.dynamic.setAttribute("class",b);this.conference.setAttribute("class",c);this.share.setAttribute("class",d);this.getter.setAttribute("class",i);this.newStock.setAttribute("class",h);this.transist.setAttribute("class",g);this.others.setAttribute("class",m);this.myself.setAttribute("class",
n);this.subclassPage=p;this.calendar.savedParma.id=r;this.index.setAttribute("disabled",t);this.dynamic.setAttribute("disabled",k);this.conference.setAttribute("disabled",j);this.share.setAttribute("disabled",w);this.getter.setAttribute("disabled",A);this.newStock.setAttribute("disabled",E);this.transist.setAttribute("disabled",C);this.others.setAttribute("disabled",q);this.myself.setAttribute("disabled",y);if("9"==p){if(void 0==this.isSelf)this.isSelf=!0;this.inputStockCode.set("value","");this.inputStockCode.setAttribute("disabled",
!0);this.stockBt.setAttribute("disabled",!0);this.searchBt.setAttribute("disabled",!0);this.a.setAttribute("disabled",!0);this.b.setAttribute("disabled",!0);this.c.setAttribute("disabled",!0);this.setSelfSearch(u);u.id=r}else void 0!=this.isSelf&&(this.a.set("displayedValue",u.marketTypeValue),this.b.set("displayedValue",u.industryBasisValue),this.c.set("displayedValue",u.industryTypeValue),this.inputStockCode.set("value",this.stockCode)),this.inputStockCode.setAttribute("disabled",!1),this.stockBt.setAttribute("disabled",
!1),this.searchBt.setAttribute("disabled",!1),this.a.setAttribute("disabled",!1),this.b.setAttribute("disabled",!1),this.c.setAttribute("disabled",!1);this.dayView.buildGrid(u)}},clickButton:function(){r(this.index,"click",n.hitch(this,function(){this.setClickButtonAttr("tab_btn_select","","","","","","","","font_color5","0","0",!0,!1,!1,!1,!1,!1,!1,!1,!1,this.calendar.savedParma)}));r(this.dynamic,"click",n.hitch(this,function(){this.setClickButtonAttr("","tab_btn_select","","","","","","","font_color5",
"1","1",!1,!0,!1,!1,!1,!1,!1,!1,!1,this.calendar.savedParma)}));r(this.conference,"click",n.hitch(this,function(){this.setClickButtonAttr("","","tab_btn_select","","","","","","font_color5","2","2",!1,!1,!0,!1,!1,!1,!1,!1,!1,this.calendar.savedParma)}));r(this.share,"click",n.hitch(this,function(){this.setClickButtonAttr("","","","tab_btn_select","","","","","font_color5","3","3",!1,!1,!1,!0,!1,!1,!1,!1,!1,this.calendar.savedParma)}));r(this.getter,"click",n.hitch(this,function(){this.setClickButtonAttr("",
"","","","tab_btn_select","","","","font_color5","4","4",!1,!1,!1,!1,!0,!1,!1,!1,!1,this.calendar.savedParma)}));r(this.newStock,"click",n.hitch(this,function(){this.setClickButtonAttr("","","","","","tab_btn_select","","","font_color5","5","5",!1,!1,!1,!1,!1,!0,!1,!1,!1,this.calendar.savedParma)}));r(this.transist,"click",n.hitch(this,function(){this.setClickButtonAttr("","","","","","","tab_btn_select","","font_color5","6","6",!1,!1,!1,!1,!1,!1,!0,!1,!1,this.calendar.savedParma)}));r(this.others,
"click",n.hitch(this,function(){this.setClickButtonAttr("","","","","","","","tab_btn_select","font_color5","7","7",!1,!1,!1,!1,!1,!1,!1,!0,!1,this.calendar.savedParma)}));r(this.myself,"click",n.hitch(this,function(){if(null==this.calendar.savedSelfStockParma)this.calendar.savedSelfStockParma=n.clone(this.calendar.savedParma);this.setClickButtonAttr("","","","","","","","","tab_btn_select","9","9",!1,!1,!1,!1,!1,!1,!1,!1,!0,this.calendar.savedSelfStockParma)}))},createParma:function(){this.marketType=
null!=this.a.item?[this.a.item.id[0],this.a.value]:void 0!=this.calendar.savedParma.marketType?[this.calendar.savedParma.marketType,this.calendar.savedParma.marketTypeValue]:[void 0,"\u5e02\u573a\u5206\u7c7b"];this.industryBasis=null!=this.b.item?[this.b.item.id[0],this.b.value]:void 0!=this.calendar.savedParma.industryBasis?[this.calendar.savedParma.industryBasis,this.calendar.savedParma.industryBasisValue]:["","\u5206\u7c7b\u57fa\u51c6"];this.industryType=null!=this.c.item?[this.c.item.id[0],this.c.value]:
void 0!=this.calendar.savedParma.industryType?[this.calendar.savedParma.industryType,this.calendar.savedParma.industryTypeValue]:["","\u884c\u4e1a\u5206\u7c7b"];b("#saveData").removeData();var a=n.mixin(this.calendar.renderData,this.getSerachTerm()),c={renderData:a,theDate:null,id:this.subclassPage,marketType:this.marketType[0],industryBasis:this.industryBasis[0],industryType:this.industryType[0],marketTypeValue:this.marketType[1],industryBasisValue:this.industryBasis[1],industryTypeValue:this.industryType[1],
stockCode:void 0};"weekView"==this.flag?(c.renderData.sDate=new Date,c.theDate=dojo.date.locale.format(new Date,{datePattern:"yyyyMMdd",timePattern:"000000"}).replace(" ","")):(c.renderData.sDate=a.sDate,c.theDate=dojo.date.locale.format(a.sDate,{datePattern:"yyyyMMdd",timePattern:"000000"}).replace(" ",""));return c},saveAsExcel:function(a,b,c,d,i){var b=b||"",c=c||a||"\u5927\u667a\u6167\u6570\u636e\u5bfc\u51fa",h=[],a=d.length,g=["<html xmlns:x='urn:schemas-microsoft-com:office:excel'><head><\!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>"];
g.push(c);g.push("</x:Name><x:WorksheetOptions><x:Panes></x:Panes></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\><meta http-equiv='content-type' content='text/html; charset=gbk'><style>.text { font-family:Arial;font-size:10pt;mso-number-format:'@';}</style></head>");g.push("<body>");g.push("<table width='100%' border='1' cellpadding='0' bordercolorlight='#999999' bordercolordark='#FFFFFF' cellspacing='0' align='center'>");g.push(b);g.push("<tr>");
for(var b=0,l=i.length;b<l;b++)i[b].field&&(h.push(i[b].field),g.push("<th><div>"),g.push(i[b].name),g.push("</div></th>"));g.push("</tr>");for(b=0;b<a;b++){g.push("<tr>");g.push("<td>");g.push(b+1+"&nbsp;");g.push("</td>");for(i=1;5>i;i++)g.push("<td>"),g.push(d[b][i]+"&nbsp;"),g.push("</td>");g.push("</tr>")}g.push("</table>");g.push("</body>");window.external.saveas?window.external.saveas(g.join(""),c,"xls"):alert("\u8bf7\u5728\u5927\u667a\u6167\u5ba2\u6237\u7aef\u4f7f\u7528")},showExportDialog:function(){var a=
this,c=[{id:"no",name:"\u5e8f\u53f7",field:"no"},{id:"stockCode",name:"\u8bc1\u5238\u4ee3\u7801",field:"stockCode"},{id:"stockName",name:"\u8bc1\u5238\u540d\u79f0",field:"stockName"},{id:"subclass",name:"\u4e8b\u4ef6\u7c7b\u578b",field:"subclass"},{id:"content",name:"\u5185\u5bb9",field:"content"}];(new Q({id:"exportDialog",title:"\u5bfc\u51fa\u6570\u636e",refreshOnShow:!0,href:"resources/dialog/exportDialog.html",style:{width:"300px"},onHide:function(){this.destroyRecursive()},onLoad:function(){dojo.connect(dijit.byId("btnOk"),
"onClick",function(){var d=a.calendar.savedParma;b("#saveData").data(d.id);"0"==d.id?a.saveAsExcel("\u9996\u9875","","\u9996\u9875",b("#saveData").data(d.id)[0],c):"1"==d.id?a.saveAsExcel("\u516c\u544a\u505c\u590d\u724c","","\u516c\u544a\u505c\u590d\u724c",b("#saveData").data(d.id)[0],c):"2"==d.id?a.saveAsExcel("\u56de\u8d2d\u589e\u51cf\u6301","","\u56de\u8d2d\u589e\u51cf\u6301",b("#saveData").data(d.id)[0],c):"3"==d.id?a.saveAsExcel("\u65b0\u80a1\u589e\u53d1\u914d\u80a1\u5206\u7ea2","","\u65b0\u80a1\u589e\u53d1\u914d\u80a1\u5206\u7ea2",
b("#saveData").data(d.id)[0],c):"4"==d.id?a.saveAsExcel("\u8d22\u62a5\u62ab\u9732","","\u8d22\u62a5\u62ab\u9732",b("#saveData").data(d.id)[0],c):"5"==d.id?a.saveAsExcel("\u6536\u8d2d\u517c\u5e76","","\u6536\u8d2d\u517c\u5e76",b("#saveData").data(d.id)[0],c):"6"==d.id?a.saveAsExcel("\u80a1\u4e1c\u5927\u4f1a","","\u80a1\u4e1c\u5927\u4f1a",b("#saveData").data(d.id)[0],c):"7"==d.id?a.saveAsExcel("\u5176\u4ed6","","\u5176\u4ed6",b("#saveData").data(d.id)[0],c):"9"==d.id&&a.saveAsExcel("\u81ea\u9009\u80a1",
"","\u81ea\u9009\u80a1",b("#saveData").data(d.id)[0],c);dijit.byId("exportDialog").onCancel()})}})).show()}})})},"url:stock/stockCalendarOne/view/Header.html":'<div data-dojo-attach-point="containerNode">\t\r\n\t\t<div data-dojo-attach-point="toolbar" data-dojo-type="dijit/Toolbar" data-dojo-props="class:\'toolbar-top\'">\r\n\t\t\t<div class="calendar_tag_box">\r\n\t\t\t\t<input data-dojo-attach-point="dateChooser" data-dojo-props="lang:\'zh-cn\',value:new Date()" constraints="{datePattern:\'yyyy-MM-dd\',min:\'1990-01-01\'}" data-dojo-type="dijit/form/DateTextBox"/>\r\n\t\t\t</div>\r\n\t\t\t<span data-dojo-type="dijit/ToolbarSeparator"></span>\r\n\t\t\t<div class="button_box">\r\n\t\t\t\t<button data-dojo-attach-point="dayButton" data-dojo-type="dijit/form/Button"  class="dateButton btn_group_select">\u65e5</button>\r\n\t\t\t\t<button data-dojo-attach-point="weekButton" data-dojo-type="dijit/form/Button" class="dateButton">\u5468</button>\t\t\t\r\n\t\t\t\t<button data-dojo-attach-point="monthButton" data-dojo-type="dijit/form/Button" class="dateButton">\u6708</button>\r\n\t\t\t</div>\r\n\t\t\t<select  data-dojo-type="dijit/form/ComboBox" name="a" data-dojo-props="readonly:\'readonly\'" data-dojo-attach-point="a">\r\n\t\t\t</select>\r\n\t\t\t<select  data-dojo-type="dijit/form/ComboBox"  name="b" data-dojo-props="readonly:\'readonly\'" data-dojo-attach-point="b">\r\n\t\t\t</select>\r\n\t\t\t<select  data-dojo-type="dijit/form/ComboBox"   name="c" data-dojo-props="readonly:\'readonly\'" data-dojo-attach-point="c">\r\n\t\t\t</select>\r\n\t\t\t\r\n\t\t\t<button data-dojo-type="dijit/form/Button" id="searchBt" data-dojo-attach-point="searchBt" data-dojo-props=\'label:"\u67e5\u8be2"\'>\r\n\t\t\t\u67e5\u8be2\r\n\t\t\t</button>\r\n\t\t\t<input type="checkbox" data-dojo-attach-point="isWeekShow" data-dojo-type="dijit/form/CheckBox" checked="true"/>\r\n\t\t\t<label id="weekLabel" for="calendar2CB">\u663e\u793a\u5468\u672b</label>\r\n\t\t\t<input type="checkbox" data-dojo-attach-point="isSelfstock" data-dojo-type="dijit/form/CheckBox" checked="false"/>\r\n\t\t\t<label id="selfstock" for="calendar2CB">\u81ea\u9009\u80a1</label>\r\n\t\t\t<div class="seacher-bar-box">\r\n<\!-- \t\t\t\t<div data-dojo-type="dijit/form/ComboBox" data-dojo-attach-point="inputStockCode" --\>\r\n<\!-- \t\t\t\t\tdata-dojo-props="hasDownArrow:false,value:\'\u8f93\u5165\u80a1\u7968\u4ee3\u7801\'"> --\>\r\n<\!-- \t\t\t\t</div> --\>\r\n\t\t\t\t<div data-dojo-attach-point="inputStockCode" data-dojo-type="dojox/form/KeyboardSpirit" style="width:100px"\r\n\t\t\t\t\tdata-dojo-props="hasDownArrow:false,placeHolder:\'\u8f93\u5165\u80a1\u7968\u4ee3\u7801\',maxHeight:220"></div>\r\n\t\t\t\t<button data-dojo-type="dijit/form/Button" id="stockBt" data-dojo-attach-point="stockBt" data-dojo-props=\'label:"\u3000"\'>\r\n\t\t\t\tnbsp;\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div data-dojo-attach-point="dheader" data-dojo-type="dijit.Toolbar" data-dojo-props="class:\'toolbar_tab\'">\r\n\t\t\t<div class="tab_group_box">\r\n\t\t\t\t<div class="tab_btn_box">\r\n\t\t\t\t\t<button data-dojo-type="dijit/form/Button" data-dojo-attach-point="index" class="tab_btn_select">\u9996\u9875</button>\r\n\t\t\t\t\t<button data-dojo-type="dijit/form/Button" data-dojo-attach-point="dynamic">\u516c\u544a/\u505c\u590d\u724c</button>\r\n\t\t\t\t\t<button data-dojo-type="dijit/form/Button" data-dojo-attach-point="conference">\u56de\u8d2d/\u589e\u51cf\u6301</button>\r\n\t\t\t\t\t<button data-dojo-type="dijit/form/Button" data-dojo-attach-point="share">\u65b0\u80a1/\u589e\u53d1/\u914d\u80a1/\u5206\u7ea2</button>\r\n\t\t\t\t\t<button data-dojo-type="dijit/form/Button" data-dojo-attach-point="getter">\u8d22\u62a5\u62ab\u9732</button>\r\n\t\t\t\t\t<button data-dojo-type="dijit/form/Button" data-dojo-attach-point="newStock">\u6536\u8d2d\u517c\u5e76</button>\r\n\t\t\t\t\t<button data-dojo-type="dijit/form/Button" data-dojo-attach-point="transist">\u80a1\u4e1c\u5927\u4f1a</button>\r\n\t\t\t\t\t<button data-dojo-type="dijit/form/Button" data-dojo-attach-point="others">\u5176\u4ed6</button>\r\n\t\t\t\t\t<button data-dojo-type="dijit/form/Button" data-dojo-attach-point="myself" class="font_color5">\u81ea\u9009\u80a1</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="tab_output_box">\r\n\t\t\t\t\t<button data-dojo-type="dijit/form/Button" data-dojo-attach-point="exportt" >\u5bfc\u51fa</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<\!-- \t<div id="dateUndefined" data-dojo-type="dijit/layout/ContentPane" class="dojoxFloatingPane dijitContentPane dojoxFloatingPaneFg tc" title="" role="group" style="display:none;position: absolute; visibility: visible; left: 50%; top:50%;margin-left:-160px;margin-top:-60px;width:280px; height: 100px; z-index: 104;"> --\>\r\n<\!-- \t\t<div tabindex="0" role="button" class="dojoxFloatingPaneTitle" dojoattachpoint="focusNode" draggable="false">\t\t --\>\r\n\t\t\t\r\n<\!-- \t\t\t<span dojoattachpoint="titleNode" class="dijitInline dijitTitleNode">\u63d0\u793a</span> --\>\r\n<\!-- \t\t</div> --\>\r\n<\!-- \t\t<div class="tc_text" style="text-align:center;padding:20px;">\u65e5\u671f\u683c\u5f0f\u8f93\u5165\u4e0d\u6b63\u786e</div> --\>\r\n<\!-- \t</div> --\>\r\n<\!-- \t<div id="dateOut" data-dojo-type="dijit/layout/ContentPane" class="dojoxFloatingPane dijitContentPane dojoxFloatingPaneFg tc" title="" role="group" style="display:none;position: absolute; visibility: visible; left: 50%; top:50%;margin-left:-160px;margin-top:-60px;width:280px; height: 100px; z-index: 104;"> --\>\r\n<\!-- \t\t<div tabindex="0" role="button" class="dojoxFloatingPaneTitle" dojoattachpoint="focusNode" draggable="false">\t\t --\>\r\n\t\t\t\r\n<\!-- \t\t\t<span dojoattachpoint="titleNode" class="dijitInline dijitTitleNode">\u63d0\u793a</span> --\>\r\n<\!-- \t\t</div> --\>\r\n<\!-- \t\t<div class="tc_text" style="text-align:center;padding:20px;">\u671f\u95f4\u8d85\u51fa\u8303\u56f4</div> --\>\r\n<\!-- \t</div> --\>\r\n </div>\r\n'}});
define("stock/stockCalendarOne/src",["dojo/parser","stock/stockCalendarOne/view/Calendar"],function(K){return function(){K.parse().then(function(){dijit.byId("basicStandby")._underlayNode.style.background="none"})}});