define("repositories/forex",["repository_base"],function(e){return new(e.extend({getComplexForex:function(){return $.when.apply($,[1,2].map(function(e){return $.send("/rpc",{so:"jso-ui-forexzhp.jar","function":"gw.sh.func.MainExchangeRateRequest",paraencode:"base64",parameter:btoa(JSON.stringify({type:e}))},{before:function(e){return e&&(e.datas[0][1].head=["obj","name"]),e}})}).concat([1,2].map(function(e){return $.send("/rpc",{so:"jso-ui-forexzhp.jar","function":"gw.sh.func.RMBQuotationRequest",paraencode:"base64",parameter:btoa(JSON.stringify({type:e}))},{before:function(e){return e&&(e.datas[0][1].head=["obj","name"]),e}})})).concat(["USD","EUR","GBP","JPY","HKD","CAD","AUD"].map(function(e){return $.send("/rpc",{so:"jso-ui-forexzhp.jar","function":"gw.sh.func.RMBQuotationRequest",paraencode:"base64",parameter:btoa(JSON.stringify({typeName:e}))})})).concat([1,2,3].map(function(e){return $.send("/rpc",{so:"jso-ui-forexzhp.jar","function":"gw.sh.func.BORRequest",paraencode:"base64",parameter:btoa(JSON.stringify({type:e}))})})))},getDynamicComplexForex:function(){var e=$.Deferred();return e.resolve([[{obj:"FXHKDCNY.frx",name:"HKD/CNY"},{obj:"FXHKDUSD.frx",name:"HKD/USD"},{obj:"FXHKDEUR.frx",name:"HKD/EUR"},{obj:"FXHKDJPY.frx",name:"HKD/JPY"},{obj:"FXHKDGBP.frx",name:"HKD/GBP"},{obj:"FXHKDCAD.frx",name:"HKD/CAD"},{obj:"FXHKDAUD.frx",name:"HKD/AUD"}],[{obj:"FXKRWCNY.frx",name:"KRW/CNY"},{obj:"FXKRWUSD.frx",name:"KRW/USD"},{obj:"FXKRWEUR.frx",name:"KRW/EUR"},{obj:"FXKRWJPY.frx",name:"KRW/JPY"},{obj:"FXKRWGBP.frx",name:"KRW/GBP"},{obj:"FXKRWCAD.frx",name:"KRW/CAD"},{obj:"FXKRWAUD.frx",name:"KRW/AUD"}],[{obj:"FXSGDCNY.frx",name:"SGD/CNY"},{obj:"FXSGDUSD.frx",name:"SGD/USD"},{obj:"FXSGDEUR.frx",name:"SGD/EUR"},{obj:"FXSGDJPY.frx",name:"SGD/JPY"},{obj:"FXSGDGBP.frx",name:"SGD/GBP"},{obj:"FXSGDCAD.frx",name:"SGD/CAD"},{obj:"FXSGDAUD.frx",name:"SGD/AUD"}],[{obj:"FXINRCNY.frx",name:"INR/CNY"},{obj:"FXINRUSD.frx",name:"INR/USD"},{obj:"FXINREUR.frx",name:"INR/EUR"},{obj:"FXINRJPY.frx",name:"INR/JPY"},{obj:"FXINRGBP.frx",name:"INR/GBP"},{obj:"FXINRCAD.frx",name:"INR/CAD"},{obj:"FXINRAUD.frx",name:"INR/AUD"}],[{obj:"FXRUBCNY.frx",name:"RUB/CNY"},{obj:"FXRUBUSD.frx",name:"RUB/USD"},{obj:"FXRUBEUR.frx",name:"RUB/EUR"},{obj:"FXRUBJPY.frx",name:"RUB/JPY"},{obj:"FXRUBGBP.frx",name:"RUB/GBP"},{obj:"FXRUBCAD.frx",name:"RUB/CAD"}],[{obj:"FXRUBAUD.frx",name:"RUB/AUD"},{obj:"FXCZKCNY.frx",name:"CZK/CNY"},{obj:"FXCZKUSD.frx",name:"CZK/USD"},{obj:"FXCZKEUR.frx",name:"CZK/EUR"},{obj:"FXCZKJPY.frx",name:"CZK/JPY"},{obj:"FXCZKGBP.frx",name:"CZK/GBP"},{obj:"FXCZKCAD.frx",name:"CZK/CAD"},{obj:"FXCZKAUD.frx",name:"CZK/AUD"}],[{obj:"FXZARCNY.frx",name:"ZAR/CNY"},{obj:"FXZARUSD.frx",name:"ZAR/USD"},{obj:"FXZAREUR.frx",name:"ZAR/EUR"},{obj:"FXZARJPY.frx",name:"ZAR/JPY"},{obj:"FXZARGBP.frx",name:"ZAR/GBP"},{obj:"FXZARCAD.frx",name:"ZAR/CAD"},{obj:"FXZARAUD.frx",name:"ZAR/AUD"}]]),e},getDynamicInterestForex:function(){var e=$.Deferred();return e.resolve([[{obj:"SH000001.index",name:"上证综指"},{obj:"SZ399001.index",name:"深证成指"},{obj:"HIHSI.index",name:"恒生指数"},{obj:"IXN225.index",name:"日经225"},{obj:"IXDJIA.index",name:"道琼斯工业"},{obj:"IXNDX.index",name:"纳斯达克综指"},{obj:"IXGDAXI.index",name:"德国DAX30"},{obj:"IXFCHI.index",name:"法国CAC40"}],[{obj:"IBUSDCNYC.frx",name:"USD/CNY"},{obj:"IBEURCNYC.frx",name:"EUR/CNY"},{obj:"IBJPYCNYC.frx",name:"100JPY/CNY"},{obj:"IBGBPCNYC.frx",name:"GBP/CNY"},{obj:"IBHKDCNYC.frx",name:"HKD/CNY"},{obj:"IBAUDCNYC.frx",name:"AUD/CNY"},{obj:"IBCADCNYC.frx",name:"CAD/CNY"},{obj:"IBCNYRUBC.frx",name:"CNY/RUB"},{obj:"IBCNYMYRC.frx",name:"CNY/MYR"}],[{obj:"SH204001.rpo",name:"1天"},{obj:"SH204002.rpo",name:"2天"},{obj:"SH204003.rpo",name:"3天"},{obj:"SH204004.rpo",name:"4天"},{obj:"SH204007.rpo",name:"7天"},{obj:"SH204014.rpo",name:"14天"},{obj:"SH204028.rpo",name:"28天"},{obj:"SH204091.rpo",name:"91天"}],[{obj:"SZ131810.rpo",name:"1天"},{obj:"SZ131811.rpo",name:"2天"},{obj:"SZ131800.rpo",name:"3天"},{obj:"SZ131809.rpo",name:"4天"},{obj:"SZ131801.rpo",name:"7天"},{obj:"SZ131802.rpo",name:"14天"},{obj:"SZ131803.rpo",name:"28天"},{obj:"SZ131805.rpo",name:"91天"}],[{obj:"IBR001.rpo",name:"1天"},{obj:"IBR007.rpo",name:"7天"},{obj:"IBR014.rpo",name:"14天"},{obj:"IBR021.rpo",name:"21天"},{obj:"IBR1M.rpo",name:"1月"},{obj:"IBR2M.rpo",name:"2月"},{obj:"IBR3M.rpo",name:"3月"},{obj:"IBR4M.rpo",name:"4月"},{obj:"IBR6M.rpo",name:"6月"},{obj:"IBR9M.rpo",name:"9月"},{obj:"IBR1Y.rpo",name:"1年"}],[{obj:"IBOR001.rpo",name:"1天"},{obj:"IBOR007.rpo",name:"7天"},{obj:"IBOR014.rpo",name:"14天"},{obj:"IBOR021.rpo",name:"21天"},{obj:"IBOR1M.rpo",name:"1月"},{obj:"IBOR2M.rpo",name:"2月"},{obj:"IBOR3M.rpo",name:"3月"}],[{obj:"IBIBO001.mmkt",name:"1天"},{obj:"IBIBO007.mmkt",name:"7天"},{obj:"IBIBO014.mmkt",name:"14天"},{obj:"IBIBO021.mmkt",name:"21天"},{obj:"IBIBO1M.mmkt",name:"1月"},{obj:"IBIBO2M.mmkt",name:"2月"},{obj:"IBIBO3M.mmkt",name:"3月"},{obj:"IBIBO4M.mmkt",name:"4月"},{obj:"IBIBO6M.mmkt",name:"6月"},{obj:"IBIBO9M.mmkt",name:"9月"},{obj:"IBIBO1Y.mmkt",name:"1年"}],[{obj:"IBFR0073M.mmkt",name:"3月"},{obj:"IBFR0076M.mmkt",name:"6月"},{obj:"IBFR0079M.mmkt",name:"9月"},{obj:"IBFR0071Y.mmkt",name:"1年"},{obj:"IBFR0072Y.mmkt",name:"2年"},{obj:"IBFR0073Y.mmkt",name:"3年"},{obj:"IBFR0074Y.mmkt",name:"4年"},{obj:"IBFR0075Y.mmkt",name:"5年"}],[{obj:"IB3MSHI6M.mmkt",name:"6月"},{obj:"IB3MSHI9M.mmkt",name:"9月"},{obj:"IB3MSHI1Y.mmkt",name:"1年"},{obj:"IB3MSHI2Y.mmkt",name:"2年"},{obj:"IB3MSHI3Y.mmkt",name:"3年"},{obj:"IB3MSHI4Y.mmkt",name:"4年"},{obj:"IB3MSHI5Y.mmkt",name:"5年"}]]),e},getStaticInterestForex:function(){return $.send("/rpc",{so:"jso-ui-hbzhp.jar","function":"gw.sh.func.HbzhpRequest",paraencode:"base64",parameter:btoa("{}")},{before:function(e){return e&&([0,1,4,5,7,8,9,10,11,12,13,14,15,16,20].forEach(function(e){this[e][1].head=["name","new","date","change"]},e.datas),[6,19].forEach(function(e){this[e][1].head=["name","new","change"]},e.datas),[2,3,17,18].forEach(function(e){this[e][1].head=["name","new","date","type","change"]},e.datas)),e}})}}))}),define("repositories/news",["repository_base"],function(e){return new(e.extend({getComplexNews:function(e){return $.send("/rpc",{so:"jso-ui-zhpnews.jar","function":"gw.sh.func.SearchByRegexRequest",paraencode:"base64",parameter:btoa(JSON.stringify({fids:"C1,C2,C3,C4,C8,C16",code:e,dcategory:"1-100",bdate:"",edate:"",sort:"C16:-1",skip:"0",amount:"100"}))})}}))}),define("presenters/index",["presenter_base","../repositories/forex","../repositories/news"],function(e,t,n){return e.extend(function(){this.view.on("currencySelectChange",this.onCurrencySelectChange.bind(this)),this.view.on("forwardSelectChange",this.onForwardSelectChange.bind(this))},{onInit:function(){t.getComplexForex().then(function(){this.data=Array.prototype.slice.call(arguments),this.view.renderExchangeGrid(0,this.data[0]),this.view.renderExchangeGrid(1,this.data[1]),this.view.renderSpotGrid(2,this.data[2]),this.view.renderForwardGrid(3,this.data[4]),this.view.renderBankGrid(4,this.data[11]),this.view.renderBankGrid(5,this.data[12]),this.view.renderBankGrid(6,this.data[13]),this.view.renderFuturesGrid(7,this.data[3]),this.view.renderMarketGrid(9,[{obj:"IXUDI.index",name:"美元指数"},{obj:"FXXAUUSD.frx",name:"现货黄金"},{obj:"NXCLY0.cmdty",name:"美原油连续"},{obj:"SH000001.index",name:"上证综指"},{obj:"IXN225.index",name:"日经225"},{obj:"IXDJIA.index",name:"道琼斯工业"},{obj:"IXNDX.index",name:"纳斯达克综指"},{obj:"IXSPX.index",name:"标普500"}]),n.getComplexNews("0000000000010004").then(function(e){this.view.renderNewsGrid(8,e)}.bind(this))}.bind(this))},onCurrencySelectChange:function(e){t.getDynamicComplexForex().then(function(t){t.unshift(this.data[1]),this.view.renderExchangeGrid(1,t[e])}.bind(this))},onForwardSelectChange:function(e){this.view.renderForwardGrid(3,this.data[e])},fixItems:function(e,t){return e.forEach(function(e,t){$.extend(e,this[t])},t),e},fixIB:function(e){return"IB"+e+".rpo"},fixName:function(e){return e.replace(/(\d)$/,"$1D").slice(-2).replace(/\w$/,function(e){return{D:"天",W:"周",M:"月",Y:"年"}[e]})}})}),define("views/index",["view_base","../presenters/index","fast_grid","active_grid","quotes_grid","tabs","select"],function(e,t,n,i,r){var o=e.extend(function(){this.root.on("active",".nav-tabs",this.onTabActive.bind(this))},{onTabActive:function(e,t){var n=e.currentTarget.widget.panes.eq(t).widget();n&&n.refresh()},onGridSelectItem:function(e,t){this.fastGrids.forEach(function(e){e!==this&&(e.selectedItem=void 0,e.target.find("tr.active").removeClass("active"))},e),t.obj&&this.chart.attr("src","/platform/charts/index.html#"+t.obj)},renderExchangeGrid:function(e,t){var n=this.grids[e].widget;n?(n.selectedItem=void 0,n.setItems(t)):this.fastGrids.push(new r(this.grids[e],{decimals:4,fields:"buyprice,sellprice,new,lastclose,time",columns:[{width:"auto",name:"名称",title:!0,css:"white l",sort:!0,value:function(e){return'<a href="dzh://VIEWSTOCK?DATATYPE=DAY&LAYOUT=Level2默认&PAGE=分时走势&LABEL='+e.obj+'">'+e.name.replace("/","")+"</a>"}},{width:"16%",name:"买价",color:!0,sort:!0,value:function(e){return this.fixFloat(e.buyprice instanceof Array?e.buyprice[0]:e.buyprice,4)}},{width:"16%",name:"卖价",color:!0,sort:!0,value:function(e){return this.fixFloat(e.sellprice instanceof Array?e.sellprice[0]:e.sellprice,4)}},{width:"16%",name:"涨跌",color:!0,sort:!0,value:function(e){return this.fixFloat(this.fixChange(e),4)}},{width:"16%",name:"涨幅",color:!0,sort:!0,value:function(e){return this.fixPercent(this.fixChg(e))}},{width:"14%",name:"时间",css:"white",sort:!0,value:function(e){return this.fixTime(e.time)}}],items:t,onSelectItem:this.onGridSelectItem.bind(this),onDblClick:function(e){location.assign($(e.currentTarget).find("a").attr("href"))}}))},renderSpotGrid:function(e,t){var n=this.grids[e].widget;n?(n.selectedItem=void 0,n.setItems(t)):this.fastGrids.push(new r(this.grids[e],{decimals:4,fields:"buyprice,sellprice,new,lastclose,time",columns:[{width:"auto",name:"名称",title:!0,css:"white l",sort:!0,value:function(e){return'<a href="dzh://VIEWSTOCK?DATATYPE=DAY&LAYOUT=Level2默认&PAGE=分时走势&LABEL='+e.obj+'">'+e.name.replace("/","")+"</a>"}},{width:"16%",name:"最新",color:!0,sort:!0,value:function(e){return this.fixFloat(e.buyprice instanceof Array?e.buyprice[0]:e.buyprice,4)}},{width:"17%",name:"涨跌",color:!0,sort:!0,value:function(e){return this.fixFloat(this.fixChange(e),4)}},{width:"16%",name:"涨幅",color:!0,sort:!0,value:function(e){return this.fixPercent(this.fixChg(e))}},{width:"16%",name:"中间价",color:!0,sort:!0,value:function(e){return this.fixFloat((Number(e.buyprice instanceof Array?e.buyprice[0]:e.buyprice)+Number(e.sellprice instanceof Array?e.sellprice[0]:e.sellprice))/2,4)}},{width:"14%",name:"时间",css:"white",sort:!0,value:function(e){return this.fixTime(e.time)}}],items:t,onSelectItem:this.onGridSelectItem.bind(this),onDblClick:function(e){location.assign($(e.currentTarget).find("a").attr("href"))}}))},renderForwardGrid:function(e,t){var n=this.grids[e].widget;n?(n.selectedItem=void 0,n.setItems(t)):this.fastGrids.push(new i(this.grids[e],{columns:[{width:"auto",name:"名称",title:!0,css:"white l",sort:!0,value:"name"},{width:"16%",name:"最新价",color:function(e){return this.fixColor(e.upAndDown,4)},sort:!0,value:"lastPrice"},{width:"16%",name:"最新点",color:function(e){return this.fixColor(e.upAndDown,4)},sort:!0,value:"lastPoint"},{width:"17%",name:"涨跌",color:function(e){return this.fixColor(e.upAndDown)},sort:!0,value:function(e){return this.fixFloat(e.upAndDown,4)}},{width:"16%",name:"涨幅",color:function(e){return this.fixColor(e.upAndDown,4)},sort:!0,value:"priceLimit"},{width:"14%",name:"时间",css:"white",sort:!0,value:function(e){return this.fixTime(e.time)}}],items:t,onSelectItem:this.onGridSelectItem.bind(this)}))},renderBankGrid:function(e,t){var n=this.grids[e].widget;n?(n.selectedItem=void 0,n.setItems(t)):this.fastGrids.push(new i(this.grids[e],{columns:[{width:"auto",name:"名称",title:!0,css:"white l",sort:!0,value:function(e){return e.C3.slice(-3).replace(/^0+/,"")}},{width:"30%",name:"定盘利率",color:function(e){return this.fixColor(e.C5A,5)},sort:!0,value:function(e){return this.fixFloat(e.C5,5)}},{width:"25%",name:"升降基点",color:function(e){return this.fixColor(e.C5A,3)},sort:!0,value:function(e){return this.fixFloat(e.C5A,3)}},{width:"25%",name:"时间",css:"white",sort:!0,value:function(e){return this.fixTime(e.C2,"M-d")}}],items:t,onSelectItem:this.onGridSelectItem.bind(this)}))},renderFuturesGrid:function(e,t){var n=this.grids[e].widget;n?(n.selectedItem=void 0,n.setItems(t)):this.fastGrids.push(new r(this.grids[e],{fields:"new,lastexecprice,time",columns:[{width:"auto",name:"名称",title:!0,css:"white l",sort:!0,value:function(e){return'<a href="dzh://VIEWSTOCK?DATATYPE=DAY&LAYOUT=Level2默认&PAGE=分时走势&LABEL='+e.obj+'">'+e.name.replace("/","")+"</a>"}},{width:"16%",name:"最新",color:function(e){return this.fixColor(this.fixChange(e.new,e.lastexecprice),4)},sort:!0,value:function(e){return this.fixFloat(this.fixLastTrade(e.new,e.lastexecprice),4)}},{width:"16%",name:"涨跌",color:function(e){return this.fixColor(this.fixChange(e.new,e.lastexecprice),4)},sort:!0,value:function(e){return this.fixFloat(this.fixChange(e.new,e.lastexecprice),4)}},{width:"16%",name:"涨幅",color:function(e){return this.fixColor(this.fixChange(e.new,e.lastexecprice),4)},sort:!0,value:function(e){return this.fixPercent(this.fixChg(e.new,e.lastexecprice))}},{width:"16%",name:"昨结",color:function(e){return this.fixColor(this.fixChange(e.new,e.lastexecprice),4)},sort:!0,value:function(e){return this.fixFloat(e.lastexecprice,4)}},{width:"14%",name:"时间",css:"white",sort:!0,value:function(e){return this.fixTime(e.time)}}],items:t,onSelectItem:this.onGridSelectItem.bind(this),onDblClick:function(e){location.assign($(e.currentTarget).find("a").attr("href"))}}))},renderMarketGrid:function(e,t){var n=this.grids[e].widget;n?(n.selectedItem=void 0,n.setItems(t)):this.fastGrids.push(new r(this.grids[e],{fields:"new,lastclose,time",columns:[{width:"auto",name:"名称",title:!0,css:"white l",sort:!0,value:function(e){return'<a href="dzh://VIEWSTOCK?DATATYPE=DAY&LAYOUT=Level2默认&PAGE=分时走势&LABEL='+e.obj+'">'+e.name+"</a>"}},{width:"23%",name:"最新",color:!0,sort:!0,value:function(e){return this.fixFloat(this.fixLastTrade(e))}},{width:"18%",name:"涨跌",color:!0,sort:!0,value:function(e){return this.fixFloat(this.fixChange(e))}},{width:"19%",name:"涨幅",color:!0,sort:!0,value:function(e){return this.fixPercent(this.fixChg(e))}},{width:"17%",name:"时间",css:"white",sort:!0,value:function(e){return this.fixTime(e.time)}}],items:t,onSelectItem:this.onGridSelectItem.bind(this),onDblClick:function(e){location.assign($(e.currentTarget).find("a").attr("href"))}}))},renderNewsGrid:function(e,t){var i=this.grids[e].widget;i?(i.selectedItem=void 0,i.setItems(t)):this.fastGrids.push(new n(this.grids[e],{columns:[{width:"auto",name:"标题",title:!0,css:"white l",sort:!0,value:function(e){return"<a href=\"dzh://navigate?'root://news/details/index.html#"+e.C1+"#DZHPOPUP(854,504)#'\">"+e.C3+"</a>"}},{width:"14%",name:"时间",css:"white",sort:!0,value:function(e){return this.fixTime(e.C16)}}],items:t,onSelectItem:this.onGridSelectItem.bind(this)}))}});return o.init=function(){new t(new this({root:$(document),grids:$(".grid"),chart:$("iframe.flex-auto"),fastGrids:[]}))},o}),define("presenters/interest",["presenter_base","../repositories/forex"],function(e,t){return e.extend(function(){},{onInit:function(){t.getStaticInterestForex().then(function(e){t.getDynamicInterestForex().then(function(e){this.view.render3ColQuotesGrid(1,e[4],4,100005),this.view.render3ColQuotesGrid(2,e[5],4,100006),this.view.render3ColQuotesGrid(3,e[6],4,100004),this.view.render3ColQuotesGrid(5,e[0],2),this.view.render3ColQuotesGrid(9,e[2],4),this.view.render3ColQuotesGrid(10,e[3],4),this.view.render3ColQuotesGrid(11,e[7],4,100009),this.view.render3ColQuotesGrid(12,e[8],4,100009),this.view.render2ColQuotesGrid(14,e[1],4)}.bind(this)),e[0].length&&this.view.renderDate(e[0][0].date),this.view.render3ColPeriodGrid(0,this.fixItems(e[0],[{name:"1天",edb:"1849621"},{name:"1周",edb:"1849622"},{name:"2周",edb:"1849623"},{name:"1月",edb:"1849624"},{name:"3月",edb:"1849625"},{name:"6月",edb:"1849626"},{name:"9月",edb:"1849627"},{name:"1年",edb:"1849628"}])),this.view.render2ColPeriodGrid(4,this.fixItems(e[8],[{name:"<20天",edb:"1409971"},{name:"<3月",edb:"1409972"},{name:"<6月",edb:"1409973"},{name:"1年",edb:"1409974"},{name:"法定存款准备金",edb:"1408647"},{name:"超额存款准备金",edb:"1408648"},{name:"再贴现",edb:"1409980"}])),this.view.render3ColPeriodGrid(6,this.fixItems(e[15],[{name:"活期",edb:"1408618"},{name:"1天",edb:"1408630"},{name:"7天",edb:"1408631"},{name:"3月",edb:"1408619"},{name:"6月",edb:"1408620"},{name:"1年",edb:"1408621"},{name:"3年",edb:"1408623"},{name:"5年",edb:"1408624"}])),this.view.render3ColPeriodGrid(7,this.fixItems(e[16],[{name:"≤6月",edb:"1409955"},{name:"6月到1年(含)",edb:"1409956"},{name:"1-3年(含)",edb:"1409957"},{name:"3-5年(含)",edb:"1409958"},{name:">5年",edb:"1409959"},{name:"≤5年(住房)",edb:"1409966"},{name:">5年(住房)",edb:"1409967"}])),this.view.render3ColPeriodGrid(8,this.fixItems(e[20],[{name:"1年",edb:"2496662"}])),this.view.render2ColPeriodGrid(13,e[10].concat(e[9]).map(function(e){return $.extend(e,{6:{name:"央票发行：3月",edb:"1633827"},8:{name:"央票发行：6月",edb:"1633828"},10:{name:"央票发行：1年",edb:"1633829"},11:{name:"央票发行：3年",edb:"1633830"},"正回购：7天":{edb:"1633841"},"正回购：14天":{edb:"1633842"},"正回购：21天":{edb:"1633843"},"正回购：1月":{edb:"1633844"},"逆回购：7天":{edb:"1633855"},"逆回购：14天":{edb:"1633856"},"逆回购：21天":{edb:"1633857"},"逆回购：1月":{edb:"1633858"}}[e.name])})),this.view.render3ColPeriodGrid(15,e[2].map(function(e){return $.extend(e,{L0001D:{name:"1天",edb:"1849647"},L0001W:{name:"1周",edb:"1849648"},L0001M:{name:"1月",edb:"1849650"},L0003M:{name:"3月",edb:"1849652"},L0006M:{name:"6月",edb:"1849655"},L0012M:{name:"1年",edb:"1849661"}}[e.name])})),this.view.render3ColPeriodGrid(16,e[3].map(function(e){return $.extend(e,{L0001D:{name:"1天",edb:"1849631"},L0001W:{name:"1周",edb:"1849632"},L0001M:{name:"1月",edb:"1849634"},L0003M:{name:"3月",edb:"1849636"},L0006M:{name:"6月",edb:"1849639"},L0012M:{name:"1年",edb:"1849645"}}[e.name])})),this.view.render3ColPeriodGrid(17,this.fixItems(e[6],[{name:"1天(银行间)",edb:"1849541"},{name:"7天(银行间)",edb:"1849542"},{name:"14天(银行间)",edb:"1849543"}]).concat(this.fixItems(e[7],[{name:"1天(上交所)",edb:"1849545"},{name:"7天(上交所)",edb:"1849546"}]))),this.view.render2ColPeriodGrid(18,this.fixItems(e[11],[{name:"环渤海(贴现)",edb:"1876999"},{name:"珠三角(贴现)",edb:"1877000"},{name:"长三角(贴现)",edb:"1877001"}]).concat(e[12].map(function(e){return e.name+="(转贴现)",e}))),this.view.render2ColPeriodGrid(19,e[17]),this.view.render2ColPeriodGrid(20,e[18]),this.view.render2ColPeriodGrid(21,e[19].map(function(e){return $.extend(e,{2:{name:"1周",edb:"2642934"},3:{name:"1月",edb:"2642935"},5:{name:"3月",edb:"2642937"},8:{name:"6月",edb:"2642939"},11:{name:"9月",edb:"2642940"},14:{name:"1年",edb:"2642941"}}[e.name])}))}.bind(this))},fixItems:function(e,t){return e.forEach(function(e,t){$.extend(e,this[t])},t),e}})}),define("views/interest",["view_base","../presenters/interest","fast_grid","quotes_grid","tabs"],function(e,t,n,i){var r=e.extend(function(){this.root.on("active",".nav-tabs",this.onTabActive.bind(this))},{methods:[function(e){return e.edb?"<a href=\"dzh://REPORT?DZHEDB.dll&MODULE='0'&PARAM='"+e.edb+" edb 1'\">"+e.name+"</a>":e.name},function(e,t,n){for(var i=this.fixColor(n.change,4),r=0,o=this.columns.length;o>r;r++){var a=e.children[r],s=this.columns[r];a.innerHTML=this.parse(n,s,t,r),s.color&&(a.className=i)}}],onTabActive:function(e,t){var n=e.currentTarget.widget.panes.eq(t).widget();n&&n.refresh()},onGridSelectItem:function(e){this.fastGrids.forEach(function(e){e!==this&&(e.selectedItem=void 0,e.target.find("tr.active").removeClass("active"))},e)},renderDate:function(e){this.date.html(e.replace(/^(\d{4})(\d\d)(\d\d).+/,"$1/$2/$3"))},render2ColPeriodGrid:function(e,t){this.fastGrids.push(new n(this.grids[e],{decimals:4,columns:[{width:"65%",name:"期限",css:"white l",value:this.methods[0]},{width:"35%",name:"最新",color:!0,css:"white",value:function(e){return this.fixFloat(Number(e.new),4)}}],items:t,onSelectItem:this.onGridSelectItem.bind(this),renderRow:this.methods[1]}))},render3ColPeriodGrid:function(e,t){this.fastGrids.push(new n(this.grids[e],{decimals:4,columns:[{width:"35%",name:"期限",css:"white l",value:this.methods[0]},{width:"30%",name:"最新",color:!0,value:function(e){return this.fixFloat(Number(e.new),4)}},{width:"35%",name:"涨跌",color:!0,value:function(e){return this.fixFloat(100*Number(e.change))}}],items:t,onSelectItem:this.onGridSelectItem.bind(this),renderRow:this.methods[1]}))},render2ColQuotesGrid:function(e,t,n){this.fastGrids.push(new i(this.grids[e],{decimals:n,columns:[{width:"65%",name:"名称",css:"white l",sort:!0,value:function(e){return'<a href="dzh://VIEWSTOCK?DATATYPE=DAY&LAYOUT=Level2默认&PAGE=分时走势&LABEL='+e.obj+'">'+e.name+"</a>"}},{width:"35%",name:"最新",color:!0,sort:!0,value:function(e){return this.fixFloat(this.fixLastTrade(e),this.decimals)}}],items:t,onSelectItem:this.onGridSelectItem.bind(this)}))},render3ColQuotesGrid:function(e,t,n,r){this.fastGrids.push(new i(this.grids[e],{decimals:n,fields:(r?r+":":"")+"new,lastclose",columns:n>2?[{width:"35%",name:"期限",css:"white l",value:function(e){return'<a href="dzh://VIEWSTOCK?DATATYPE=DAY&LAYOUT=Level2默认&PAGE=分时走势&LABEL='+e.obj+'">'+e.name+"</a>"}},{width:"30%",name:"最新",color:!0,value:function(e){return this.fixFloat(this.fixLastTrade(e),this.decimals)}},{width:"35%",name:"涨跌",color:!0,value:function(e){return this.fixFloat(100*this.fixChange(e),2)}}]:[{width:"35%",name:"期限",css:"white l",value:function(e){return'<a href="dzh://VIEWSTOCK?DATATYPE=DAY&LAYOUT=Level2默认&PAGE=分时走势&LABEL='+e.obj+'">'+e.name+"</a>"}},{width:"35%",name:"最新",color:!0,value:function(e){return this.fixFloat(this.fixLastTrade(e),this.decimals)}},{width:"30%",name:"涨幅",color:!0,value:function(e){return this.fixPercent(this.fixChg(e),2)}}],items:t,onSelectItem:this.onGridSelectItem.bind(this)}))}});return r.init=function(){new t(new this({root:$(document),grids:$(".grid"),date:$("i.pull-right"),fastGrids:[]}))},r}),require(["views/index","views/interest"],function(){require(["views/"+(location.pathname.match(/([^\/]+)\.html/)||[,"index"])[1]],function(){arguments[0]&&arguments[0].init&&arguments[0].init()})}),define("src",function(){});